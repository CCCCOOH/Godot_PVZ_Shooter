/*
 * jquery.base64.js 0.0.3 - https://github.com/yckart/jquery.base64.js * Makes Base64 en & -decoding simpler as it is. * * Based upon: https://gist.github.com/Yaffle/1284012 * * Copyright (c) 2012 Yannick Albert (http://yckart.com) * Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php). * 2013/02/10 * fly - v1.0.0 - 2015-03-23* https://github.com/amibug/fly* Copyright (c) 2015 wuyuedong; Licensed MIT  iScroll v5.2.0-snapshot ~ (c) 2008-2017 Matteo Spinelli ~ http://cubiq.org/license */
(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):"object"===typeof exports?a(require("jquery")):a(jQuery)})(function(a){function b(g,k){if(d.raw)var q=g;else a:{0===g.indexOf('"')&&(g=g.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{g=decodeURIComponent(g.replace(c," "));q=d.json?JSON.parse(g):g;break a}catch(v){}q=void 0}return a.isFunction(k)?k(q):q}var c=/\+/g,d=a.cookie=function(g,k,q){if(void 0!==k&&!a.isFunction(k)){q=a.extend({},d.defaults,q);if("number"===
typeof q.expires){var v=q.expires,r=q.expires=new Date;r.setTime(+r+864E5*v)}v=document;g=d.raw?g:encodeURIComponent(g);k=d.json?JSON.stringify(k):String(k);k=d.raw?k:encodeURIComponent(k);return v.cookie=[g,"=",k,q.expires?"; expires="+q.expires.toUTCString():"",q.path?"; path="+q.path:"",q.domain?"; domain="+q.domain:"",q.secure?"; secure":""].join("")}q=g?void 0:{};v=document.cookie?document.cookie.split("; "):[];r=0;for(var t=v.length;r<t;r++){var m=v[r].split("=");var u=m.shift();u=d.raw?u:decodeURIComponent(u);
m=m.join("=");if(g&&g===u){q=b(m,k);break}g||void 0===(m=b(m))||(q[u]=m)}return q};d.defaults={};a.removeCookie=function(g,k){if(void 0===a.cookie(g))return!1;a.cookie(g,"",a.extend({},k,{expires:-1}));return!a.cookie(g)}});
(function(){function a(x,A){for(var D=O.length,F="function"===typeof x.constructor?k:g;D--;){var G=O[D];("constructor"===G?e.has(x,G):G in x&&x[G]!==F[G]&&!e.contains(A,G))&&A.push(G)}}var b=this,c=b._,d=Array.prototype,g=Object.prototype,k=Function.prototype,q=d.push,v=d.slice,r=g.toString,t=g.hasOwnProperty,m=Array.isArray,u=Object.keys,h=k.bind,f=Object.create,l=function(){},e=function(x){if(x instanceof e)return x;if(!(this instanceof e))return new e(x);this._wrapped=x};"undefined"!==typeof exports?
("undefined"!==typeof module&&module.exports&&(exports=module.exports=e),exports._=e):b._=e;e.VERSION="1.7.0";var n=function(x,A,D){if(void 0===A)return x;switch(null==D?3:D){case 1:return function(F){return x.call(A,F)};case 2:return function(F,G){return x.call(A,F,G)};case 3:return function(F,G,J){return x.call(A,F,G,J)};case 4:return function(F,G,J,L){return x.call(A,F,G,J,L)}}return function(){return x.apply(A,arguments)}},w=function(x,A,D){return null==x?e.identity:e.isFunction(x)?n(x,A,D):e.isObject(x)?
e.matches(x):e.property(x)};e.iteratee=function(x,A){return w(x,A,Infinity)};var y=function(x){return function(A){var D=arguments.length;if(2>D||null==A)return A;for(var F=0;F<D;F++)for(var G=arguments[F],J=x(G),L=J.length,N=0;N<L;N++){var T=J[N];A[T]=G[T]}return A}},z=function(x){if(!e.isObject(x))return{};if(f)return f(x);l.prototype=x;x=new l;l.prototype=null;return x};e.each=e.forEach=function(x,A,D){if(null==x)return x;A=n(A,D);var F=x.length;if(F===+F)for(D=0;D<F;D++)A(x[D],D,x);else{var G=
e.keys(x);D=0;for(F=G.length;D<F;D++)A(x[G[D]],G[D],x)}return x};e.map=e.collect=function(x,A,D){if(null==x)return[];A=w(A,D);D=x.length!==+x.length&&e.keys(x);for(var F=(D||x).length,G=Array(F),J,L=0;L<F;L++)J=D?D[L]:L,G[L]=A(x[J],J,x);return G};e.reduce=e.foldl=e.inject=function(x,A,D,F){null==x&&(x=[]);A=n(A,F,4);var G=x.length!==+x.length&&e.keys(x),J=(G||x).length,L=0;for(3>arguments.length&&(D=x[G?G[L++]:L++]);L<J;L++){var N=G?G[L]:L;D=A(D,x[N],N,x)}return D};e.reduceRight=e.foldr=function(x,
A,D,F){null==x&&(x=[]);A=n(A,F,4);var G=x.length!==+x.length&&e.keys(x),J=(G||x).length;for(3>arguments.length&&(D=x[G?G[--J]:--J]);0<J--;){var L=G?G[J]:J;D=A(D,x[L],L,x)}return D};e.transform=function(x,A,D,F){null==D&&(e.isArray(x)?D=[]:e.isObject(x)?(D=x.constructor,D=z("function"==typeof D&&D.prototype)):D={});if(null==x)return D;A=n(A,F,4);F=x.length!==+x.length&&e.keys(x);var G=(F||x).length,J;for(J=0;J<G;J++){var L=F?F[J]:J;if(!1===A(D,x[L],L,x))break}return D};e.find=e.detect=function(x,A,
D){A=x.length===+x.length?e.findIndex(x,A,D):e.findKey(x,A,D);if(void 0!==A&&-1!==A)return x[A]};e.filter=e.select=function(x,A,D){var F=[];if(null==x)return F;A=w(A,D);e.each(x,function(G,J,L){A(G,J,L)&&F.push(G)});return F};e.reject=function(x,A,D){return e.filter(x,e.negate(w(A)),D)};e.every=e.all=function(x,A,D){if(null==x)return!0;A=w(A,D);D=x.length!==+x.length&&e.keys(x);var F=(D||x).length,G;for(G=0;G<F;G++){var J=D?D[G]:G;if(!A(x[J],J,x))return!1}return!0};e.some=e.any=function(x,A,D){if(null==
x)return!1;A=w(A,D);D=x.length!==+x.length&&e.keys(x);var F=(D||x).length,G;for(G=0;G<F;G++){var J=D?D[G]:G;if(A(x[J],J,x))return!0}return!1};e.contains=e.includes=e.include=function(x,A,D){if(null==x)return!1;x.length!==+x.length&&(x=e.values(x));return 0<=e.indexOf(x,A,"number"==typeof D&&D)};e.invoke=function(x,A){var D=v.call(arguments,2),F=e.isFunction(A);return e.map(x,function(G){return(F?A:G[A]).apply(G,D)})};e.pluck=function(x,A){return e.map(x,e.property(A))};e.where=function(x,A){return e.filter(x,
e.matches(A))};e.findWhere=function(x,A){return e.find(x,e.matches(A))};e.max=function(x,A,D){var F=-Infinity,G=-Infinity,J;if(null==A&&null!=x){x=x.length===+x.length?x:e.values(x);for(var L=0,N=x.length;L<N;L++)D=x[L],D>F&&(F=D)}else A=w(A,D),e.each(x,function(T,U,S){J=A(T,U,S);if(J>G||-Infinity===J&&-Infinity===F)F=T,G=J});return F};e.min=function(x,A,D){var F=Infinity,G=Infinity,J;if(null==A&&null!=x){x=x.length===+x.length?x:e.values(x);for(var L=0,N=x.length;L<N;L++)D=x[L],D<F&&(F=D)}else A=
w(A,D),e.each(x,function(T,U,S){J=A(T,U,S);if(J<G||Infinity===J&&Infinity===F)F=T,G=J});return F};e.shuffle=function(x){x=x&&x.length===+x.length?x:e.values(x);for(var A=x.length,D=Array(A),F=0,G;F<A;F++)G=e.random(0,F),G!==F&&(D[F]=D[G]),D[G]=x[F];return D};e.sample=function(x,A,D){return null==A||D?(x.length!==+x.length&&(x=e.values(x)),x[e.random(x.length-1)]):e.shuffle(x).slice(0,Math.max(0,A))};e.sortBy=function(x,A,D){A=w(A,D);return e.pluck(e.map(x,function(F,G,J){return{value:F,index:G,criteria:A(F,
G,J)}}).sort(function(F,G){return e.comparator(F.criteria,G.criteria)||F.index-G.index}),"value")};var C=function(x){return function(A,D,F){var G={};D=w(D,F);e.each(A,function(J,L){L=D(J,L,A);x(G,J,L)});return G}};e.groupBy=C(function(x,A,D){e.has(x,D)?x[D].push(A):x[D]=[A]});e.indexBy=C(function(x,A,D){x[D]=A});e.countBy=C(function(x,A,D){e.has(x,D)?x[D]++:x[D]=1});e.toArray=function(x){return x?e.isArray(x)?v.call(x):x.length===+x.length?e.map(x,e.identity):e.values(x):[]};e.size=function(x){return null==
x?0:x.length===+x.length?x.length:e.keys(x).length};e.partition=function(x,A,D){A=w(A,D);var F=[],G=[];e.each(x,function(J,L,N){(A(J,L,N)?F:G).push(J)});return[F,G]};e.first=e.head=e.take=function(x,A,D){if(null!=x)return null==A||D?x[0]:e.initial(x,x.length-A)};e.initial=function(x,A,D){return v.call(x,0,Math.max(0,x.length-(null==A||D?1:A)))};e.last=function(x,A,D){if(null!=x)return null==A||D?x[x.length-1]:e.rest(x,Math.max(0,x.length-A))};e.rest=e.tail=e.drop=function(x,A,D){return v.call(x,null==
A||D?1:A)};e.compact=function(x){return e.filter(x,e.identity)};var I=function(x,A,D,F){for(var G=[],J=0,L=F||0,N=x&&x.length;L<N;L++)if((F=x[L])&&0<=F.length&&(e.isArray(F)||e.isArguments(F))){A||(F=I(F,A,D));var T=0,U=F.length;for(G.length+=U;T<U;)G[J++]=F[T++]}else D||(G[J++]=F);return G};e.flatten=function(x,A){return I(x,A,!1)};e.without=function(x){return e.difference(x,v.call(arguments,1))};e.uniq=e.unique=function(x,A,D,F){if(null==x)return[];e.isBoolean(A)||(F=D,D=A,A=!1);null!=D&&(D=w(D,
F));F=[];for(var G=[],J=0,L=x.length;J<L;J++){var N=x[J],T=D?D(N,J,x):N;A?(J&&G===T||F.push(N),G=T):D?e.contains(G,T)||(G.push(T),F.push(N)):e.contains(F,N)||F.push(N)}return F};e.union=function(){return e.uniq(I(arguments,!0,!0))};e.intersection=function(x){if(null==x)return[];for(var A=[],D=arguments.length,F=0,G=x.length;F<G;F++){var J=x[F];if(!e.contains(A,J)){for(var L=1;L<D&&e.contains(arguments[L],J);L++);L===D&&A.push(J)}}return A};e.difference=function(x){var A=I(arguments,!0,!0,1);return e.filter(x,
function(D){return!e.contains(A,D)})};e.zip=function(x){if(null==x)return[];for(var A=e.max(arguments,"length").length,D=Array(A);0<A--;)D[A]=e.pluck(arguments,A);return D};e.unzip=function(x){return e.zip.apply(null,x)};e.object=function(x,A){if(null==x)return{};for(var D={},F=0,G=x.length;F<G;F++)A?D[x[F]]=A[F]:D[x[F][0]]=x[F][1];return D};e.indexOf=function(x,A,D){var F=0,G=x&&x.length;if("number"==typeof D)F=0>D?Math.max(0,G+D):D;else if(D&&G)return F=e.sortedIndex(x,A),x[F]===A?F:-1;for(;F<G;F++)if(x[F]===
A)return F;return-1};e.lastIndexOf=function(x,A,D){var F=x?x.length:0;for("number"==typeof D&&(F=0>D?F+D+1:Math.min(F,D+1));0<=--F;)if(x[F]===A)return F;return-1};e.findIndex=function(x,A,D){A=w(A,D);D=null!=x?x.length:0;for(var F=0;F<D;F++)if(A(x[F],F,x))return F;return-1};e.sortedIndex=function(x,A,D,F){D=w(D,F,1);A=D(A);F=0;for(var G=x.length;F<G;){var J=Math.floor((F+G)/2);0>e.comparator(D(x[J]),A)?F=J+1:G=J}return F};e.range=function(x,A,D){1>=arguments.length&&(A=x||0,x=0);D=D||1;for(var F=
Math.max(Math.ceil((A-x)/D),0),G=Array(F),J=0;J<F;J++,x+=D)G[J]=x;return G};var K=function(x,A,D,F,G){if(!(F instanceof A))return x.apply(D,G);A=z(x.prototype);x=x.apply(A,G);return e.isObject(x)?x:A};e.bind=function(x,A){if(h&&x.bind===h)return h.apply(x,v.call(arguments,1));if(!e.isFunction(x))throw new TypeError("Bind must be called on a function");var D=v.call(arguments,2);return function G(){return K(x,G,A,this,D.concat(v.call(arguments)))}};e.partial=function(x){var A=v.call(arguments,1);return function F(){for(var G=
0,J=A.slice(),L=0,N=J.length;L<N;L++)J[L]===e&&(J[L]=arguments[G++]);for(;G<arguments.length;)J.push(arguments[G++]);return K(x,F,this,this,J)}};e.bindAll=function(x){var A,D=arguments.length;if(1>=D)throw Error("bindAll must be passed function names");for(A=1;A<D;A++){var F=arguments[A];x[F]=e.bind(x[F],x)}return x};e.memoize=function(x,A){var D=function(F){var G=D.cache,J=""+(A?A.apply(this,arguments):F);e.has(G,J)||(G[J]=x.apply(this,arguments));return G[J]};D.cache={};return D};e.delay=function(x,
A){var D=v.call(arguments,2);return setTimeout(function(){return x.apply(null,D)},A)};e.defer=e.partial(e.delay,e,1);e.throttle=function(x,A,D){var F,G,J,L=null,N=0;D||(D={});var T=function(){N=!1===D.leading?0:e.now();L=null;J=x.apply(F,G);L||(F=G=null)};return function(){var U=e.now();N||!1!==D.leading||(N=U);var S=A-(U-N);F=this;G=arguments;0>=S||S>A?(L&&(clearTimeout(L),L=null),N=U,J=x.apply(F,G),L||(F=G=null)):L||!1===D.trailing||(L=setTimeout(T,S));return J}};e.debounce=function(x,A,D){var F,
G,J,L,N,T=function(){var U=e.now()-L;U<A&&0<=U?F=setTimeout(T,A-U):(F=null,D||(N=x.apply(J,G),F||(J=G=null)))};return function(){J=this;G=arguments;L=e.now();var U=D&&!F;F||(F=setTimeout(T,A));U&&(N=x.apply(J,G),J=G=null);return N}};e.wrap=function(x,A){return e.partial(A,x)};e.negate=function(x){return function(){return!x.apply(this,arguments)}};e.compose=function(){var x=arguments,A=x.length-1;return function(){for(var D=A,F=x[A].apply(this,arguments);D--;)F=x[D].call(this,F);return F}};e.after=
function(x,A){return function(){if(1>--x)return A.apply(this,arguments)}};e.before=function(x,A){var D;return function(){0<--x&&(D=A.apply(this,arguments));1>=x&&(A=null);return D}};e.once=e.partial(e.before,2);var M=!{toString:null}.propertyIsEnumerable("toString"),O="constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString".split(" ");e.keys=function(x){if(!e.isObject(x))return[];if(u)return u(x);var A=[],D;for(D in x)e.has(x,D)&&A.push(D);M&&a(x,A);return A};
e.keysIn=function(x){if(!e.isObject(x))return[];var A=[],D;for(D in x)A.push(D);M&&a(x,A);return A};e.values=function(x){for(var A=e.keys(x),D=A.length,F=Array(D),G=0;G<D;G++)F[G]=x[A[G]];return F};e.pairs=function(x){for(var A=e.keys(x),D=A.length,F=Array(D),G=0;G<D;G++)F[G]=[A[G],x[A[G]]];return F};e.invert=function(x){for(var A={},D=e.keys(x),F=0,G=D.length;F<G;F++)A[x[D[F]]]=D[F];return A};e.functions=e.methods=function(x){var A=[],D;for(D in x)e.isFunction(x[D])&&A.push(D);return A.sort()};e.extend=
y(e.keysIn);e.assign=y(e.keys);e.findKey=function(x,A,D){A=w(A,D);D=e.keys(x);for(var F,G=0,J=D.length;G<J;G++)if(F=D[G],A(x[F],F,x))return F};e.pick=function(x,A,D){var F={};if(null==x)return F;if(e.isFunction(A))for(N in A=n(A,D),x){var G=x[N];A(G,N,x)&&(F[N]=G)}else{G=I(arguments,!1,!1,1);x=Object(x);for(var J=0,L=G.length;J<L;J++){var N=G[J];N in x&&(F[N]=x[N])}}return F};e.omit=function(x,A,D){if(e.isFunction(A))A=e.negate(A);else{var F=e.map(I(arguments,!1,!1,1),String);A=function(G,J){return!e.contains(F,
J)}}return e.pick(x,A,D)};e.defaults=function(x){if(!e.isObject(x))return x;for(var A=1,D=arguments.length;A<D;A++){var F=arguments[A],G;for(G in F)void 0===x[G]&&(x[G]=F[G])}return x};e.create=function(x,A){x=z(x);A&&e.assign(x,A);return x};e.clone=function(x){return e.isObject(x)?e.isArray(x)?x.slice():e.extend({},x):x};e.tap=function(x,A){A(x);return x};var P=function(x,A,D,F){if(x===A)return 0!==x||1/x===1/A;if(null==x||null==A)return x===A;x instanceof e&&(x=x._wrapped);A instanceof e&&(A=A._wrapped);
var G=r.call(x);if(G!==r.call(A))return!1;switch(G){case "[object RegExp]":case "[object String]":return""+x===""+A;case "[object Number]":return+x!==+x?+A!==+A:0===+x?1/+x===1/A:+x===+A;case "[object Date]":case "[object Boolean]":return+x===+A}G="[object Array]"===G;if(!G){if("object"!=typeof x||"object"!=typeof A)return!1;var J=x.constructor,L=A.constructor;if(J!==L&&!(e.isFunction(J)&&J instanceof J&&e.isFunction(L)&&L instanceof L)&&"constructor"in x&&"constructor"in A)return!1}for(J=D.length;J--;)if(D[J]===
x)return F[J]===A;D.push(x);F.push(A);if(G){J=x.length;if(J!==A.length)return!1;for(;J--;)if(!P(x[J],A[J],D,F))return!1}else{G=e.keys(x);J=G.length;if(e.keys(A).length!==J)return!1;for(;J--;)if(L=G[J],!e.has(A,L)||!P(x[L],A[L],D,F))return!1}D.pop();F.pop();return!0};e.isEqual=function(x,A){return P(x,A,[],[])};e.isEmpty=function(x){if(null==x)return!0;if(e.isArray(x)||e.isString(x)||e.isArguments(x))return 0===x.length;for(var A in x)if(e.has(x,A))return!1;return!0};e.isElement=function(x){return!(!x||
1!==x.nodeType)};e.isArray=m||function(x){return"[object Array]"===r.call(x)};e.isObject=function(x){var A=typeof x;return"function"===A||"object"===A&&!!x};e.each("Arguments Function String Number Date RegExp Error".split(" "),function(x){e["is"+x]=function(A){return r.call(A)==="[object "+x+"]"}});e.isArguments(arguments)||(e.isArguments=function(x){return e.has(x,"callee")});"function"!=typeof/./&&"object"!=typeof Int8Array&&(e.isFunction=function(x){return"function"==typeof x||!1});e.isFinite=
function(x){return isFinite(x)&&!isNaN(parseFloat(x))};e.isNaN=function(x){return e.isNumber(x)&&x!==+x};e.isBoolean=function(x){return!0===x||!1===x||"[object Boolean]"===r.call(x)};e.isNull=function(x){return null===x};e.isUndefined=function(x){return void 0===x};e.has=function(x,A){return null!=x&&t.call(x,A)};e.noConflict=function(){b._=c;return this};e.identity=function(x){return x};e.constant=function(x){return function(){return x}};e.noop=function(){};e.property=function(x){return function(A){return null==
A?void 0:A[x]}};e.propertyOf=function(x){return null==x?function(){}:function(A){return x[A]}};e.matches=function(x){var A=e.pairs(x),D=A.length;return function(F){if(null==F)return!D;F=Object(F);for(var G=0;G<D;G++){var J=A[G],L=J[0];if(J[1]!==F[L]||!(L in F))return!1}return!0}};e.comparator=function(x,A){if(x===A)return 0;var D=x>=x,F=A>=A;if(D||F){if(D&&!F)return-1;if(F&&!D)return 1}return x>A?1:A>x?-1:0};e.times=function(x,A,D){var F=Array(Math.max(0,x));A=n(A,D,1);for(D=0;D<x;D++)F[D]=A(D);return F};
e.random=function(x,A){null==A&&(A=x,x=0);return x+Math.floor(Math.random()*(A-x+1))};e.now=Date.now||function(){return(new Date).getTime()};m={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};y=e.invert(m);C=function(x){var A=function(J){return x[J]},D="(?:"+e.keys(x).join("|")+")",F=RegExp(D),G=RegExp(D,"g");return function(J){J=null==J?"":""+J;return F.test(J)?J.replace(G,A):J}};e.escape=C(m);e.unescape=C(y);e.result=function(x,A,D){A=null==x?void 0:x[A];void 0===A&&(A=
D);return e.isFunction(A)?A.call(x):A};var Q=0;e.uniqueId=function(x){var A=++Q+"";return x?x+A:A};e.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var R=/(.)^/,V={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\u2028|\u2029/g,E=function(x){return"\\"+V[x]};e.template=function(x,A,D){!A&&D&&(A=D);A=e.defaults({},A,e.templateSettings);D=RegExp([(A.escape||R).source,(A.interpolate||R).source,(A.evaluate||R).source].join("|")+
"|$","g");var F=0,G="__p+='";x.replace(D,function(L,N,T,U,S){G+=x.slice(F,S).replace(B,E);F=S+L.length;N?G+="'+\n((__t=("+N+"))==null?'':_.escape(__t))+\n'":T?G+="'+\n((__t=("+T+"))==null?'':__t)+\n'":U&&(G+="';\n"+U+"\n__p+='");return L});G+="';\n";A.variable||(G="with(obj||{}){\n"+G+"}\n");G="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+G+"return __p;\n";try{var J=new Function(A.variable||"obj","_",G)}catch(L){throw L.source=G,L;}D=function(L){return J.call(this,
L,e)};D.source="function("+(A.variable||"obj")+"){\n"+G+"}";return D};e.chain=function(x){x=e(x);x._chain=!0;return x};var H=function(x,A){return x._chain?e(A).chain():A};e.mixin=function(x){e.each(e.functions(x),function(A){var D=e[A]=x[A];e.prototype[A]=function(){var F=[this._wrapped];q.apply(F,arguments);return H(this,D.apply(e,F))}})};e.mixin(e);e.each("pop push reverse shift sort splice unshift".split(" "),function(x){var A=d[x];e.prototype[x]=function(){var D=this._wrapped;A.apply(D,arguments);
"shift"!==x&&"splice"!==x||0!==D.length||delete D[0];return H(this,D)}});e.each(["concat","join","slice"],function(x){var A=d[x];e.prototype[x]=function(){return H(this,A.apply(this._wrapped,arguments))}});e.prototype.value=function(){return this._wrapped};"function"===typeof define&&define.amd&&define("underscore",[],function(){return e})}).call(this);
(function(a,b){"object"===typeof exports&&"object"===typeof module?module.exports=b():"function"===typeof define&&define.amd?define([],b):"object"===typeof exports?exports.Handlebars=b():a.Handlebars=b()})(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var g=c[d]={exports:{},id:d,loaded:!1};a[d].call(g.exports,g,g.exports,b);g.loaded=!0;return g.exports}var c={};b.m=a;b.c=c;b.p="";return b(0)}([function(a,b,c){function d(){var h=u();h.compile=function(f,l){return t.compile(f,
l,h)};h.precompile=function(f,l){return t.precompile(f,l,h)};h.AST=v["default"];h.Compiler=t.Compiler;h.JavaScriptCompiler=m["default"];h.Parser=r.parser;h.parse=r.parse;return h}var g=c(1)["default"];b.__esModule=!0;var k=c(2);k=g(k);var q=c(21),v=g(q),r=c(22),t=c(27);q=c(28);var m=g(q);q=c(25);q=g(q);c=c(20);g=g(c);var u=k["default"].create;k=d();k.create=d;g["default"](k);k.Visitor=q["default"];k["default"]=k;b["default"]=k;a.exports=b["default"]},function(a,b){b["default"]=function(c){return c&&
c.__esModule?c:{"default":c}};b.__esModule=!0},function(a,b,c){function d(){var h=new v.HandlebarsEnvironment;m.extend(h,v);h.SafeString=r["default"];h.Exception=t["default"];h.Utils=m;h.escapeExpression=m.escapeExpression;h.VM=u;h.template=function(f){return u.template(f,h)};return h}var g=c(3)["default"],k=c(1)["default"];b.__esModule=!0;var q=c(4),v=g(q);q=c(18);var r=k(q);q=c(6);var t=k(q);q=c(5);var m=g(q);q=c(19);var u=g(q);c=c(20);k=k(c);c=d();c.create=d;k["default"](c);c["default"]=c;b["default"]=
c;a.exports=b["default"]},function(a,b){b["default"]=function(c){if(c&&c.__esModule)return c;var d={};if(null!=c)for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&(d[g]=c[g]);d["default"]=c;return d};b.__esModule=!0},function(a,b,c){function d(t,m,u){this.helpers=t||{};this.partials=m||{};this.decorators=u||{};v.registerDefaultHelpers(this);r.registerDefaultDecorators(this)}a=c(1)["default"];b.__esModule=!0;b.HandlebarsEnvironment=d;var g=c(5),k=c(6),q=a(k),v=c(7),r=c(15);c=c(17);c=a(c);b.VERSION=
"4.0.5";b.COMPILER_REVISION=7;b.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};d.prototype={constructor:d,logger:c["default"],log:c["default"].log,registerHelper:function(t,m){if("[object Object]"===g.toString.call(t)){if(m)throw new q["default"]("Arg not supported with multiple helpers");g.extend(this.helpers,t)}else this.helpers[t]=m},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,
m){if("[object Object]"===g.toString.call(t))g.extend(this.partials,t);else{if("undefined"===typeof m)throw new q["default"]('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=m}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,m){if("[object Object]"===g.toString.call(t)){if(m)throw new q["default"]("Arg not supported with multiple decorators");g.extend(this.decorators,t)}else this.decorators[t]=m},unregisterDecorator:function(t){delete this.decorators[t]}};
b.log=c["default"].log;b.createFrame=g.createFrame;b.logger=c["default"]},function(a,b){function c(t){return g[t]}function d(t){for(var m=1;m<arguments.length;m++)for(var u in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],u)&&(t[u]=arguments[m][u]);return t}b.__esModule=!0;b.extend=d;b.indexOf=function(t,m){for(var u=0,h=t.length;u<h;u++)if(t[u]===m)return u;return-1};b.escapeExpression=function(t){if("string"!==typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+
"";t=""+t}return q.test(t)?t.replace(k,c):t};b.isEmpty=function(t){return t||0===t?r(t)&&0===t.length?!0:!1:!0};b.createFrame=function(t){var m=d({},t);m._parent=t;return m};b.blockParams=function(t,m){t.path=m;return t};b.appendContextPath=function(t,m){return(t?t+".":"")+m};var g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},k=/[&<>"'`=]/g,q=/[&<>"'`=]/,v=Object.prototype.toString;b.toString=v;a=function(t){return"function"===typeof t};a(/x/)&&(b.isFunction=
a=function(t){return"function"===typeof t&&"[object Function]"===v.call(t)});b.isFunction=a;var r=Array.isArray||function(t){return t&&"object"===typeof t?"[object Array]"===v.call(t):!1};b.isArray=r},function(a,b){function c(g,k){k=k&&k.loc;var q=void 0,v=void 0;k&&(q=k.start.line,v=k.start.column,g+=" - "+q+":"+v);g=Error.prototype.constructor.call(this,g);for(var r=0;r<d.length;r++)this[d[r]]=g[d[r]];Error.captureStackTrace&&Error.captureStackTrace(this,c);k&&(this.lineNumber=q,this.column=v)}
b.__esModule=!0;var d="description fileName lineNumber message name number stack".split(" ");c.prototype=Error();b["default"]=c;a.exports=b["default"]},function(a,b,c){a=c(1)["default"];b.__esModule=!0;b.registerDefaultHelpers=function(m){d["default"](m);g["default"](m);k["default"](m);q["default"](m);v["default"](m);r["default"](m);t["default"](m)};b=c(8);var d=a(b);b=c(9);var g=a(b);b=c(10);var k=a(b);b=c(11);var q=a(b);b=c(12);var v=a(b);b=c(13);var r=a(b);c=c(14);var t=a(c)},function(a,b,c){b.__esModule=
!0;var d=c(5);b["default"]=function(g){g.registerHelper("blockHelperMissing",function(k,q){var v=q.inverse,r=q.fn;if(!0===k)return r(this);if(!1===k||null==k)return v(this);if(d.isArray(k))return 0<k.length?(q.ids&&(q.ids=[q.name]),g.helpers.each(k,q)):v(this);q.data&&q.ids&&(v=d.createFrame(q.data),v.contextPath=d.appendContextPath(q.data.contextPath,q.name),q={data:v});return r(k,q)})};a.exports=b["default"]},function(a,b,c){var d=c(1)["default"];b.__esModule=!0;var g=c(5);c=c(6);var k=d(c);b["default"]=
function(q){q.registerHelper("each",function(v,r){function t(w,y,z){l&&(l.key=w,l.index=y,l.first=0===y,l.last=!!z,e&&(l.contextPath=e+w));f+=m(v[w],{data:l,blockParams:g.blockParams([v[w],w],[e+w,null])})}if(!r)throw new k["default"]("Must pass iterator to #each");var m=r.fn,u=r.inverse,h=0,f="",l=void 0,e=void 0;r.data&&r.ids&&(e=g.appendContextPath(r.data.contextPath,r.ids[0])+".");g.isFunction(v)&&(v=v.call(this));r.data&&(l=g.createFrame(r.data));if(v&&"object"===typeof v)if(g.isArray(v))for(var n=
v.length;h<n;h++)h in v&&t(h,h,h===v.length-1);else{r=void 0;for(n in v)v.hasOwnProperty(n)&&(void 0!==r&&t(r,h-1),r=n,h++);void 0!==r&&t(r,h-1,!0)}0===h&&(f=u(this));return f})};a.exports=b["default"]},function(a,b,c){var d=c(1)["default"];b.__esModule=!0;c=c(6);var g=d(c);b["default"]=function(k){k.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new g["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"');})};a.exports=b["default"]},function(a,b,c){b.__esModule=
!0;var d=c(5);b["default"]=function(g){g.registerHelper("if",function(k,q){d.isFunction(k)&&(k=k.call(this));return!q.hash.includeZero&&!k||d.isEmpty(k)?q.inverse(this):q.fn(this)});g.registerHelper("unless",function(k,q){return g.helpers["if"].call(this,k,{fn:q.inverse,inverse:q.fn,hash:q.hash})})};a.exports=b["default"]},function(a,b){b.__esModule=!0;b["default"]=function(c){c.registerHelper("log",function(){for(var d=[void 0],g=arguments[arguments.length-1],k=0;k<arguments.length-1;k++)d.push(arguments[k]);
k=1;null!=g.hash.level?k=g.hash.level:g.data&&null!=g.data.level&&(k=g.data.level);d[0]=k;c.log.apply(c,d)})};a.exports=b["default"]},function(a,b){b.__esModule=!0;b["default"]=function(c){c.registerHelper("lookup",function(d,g){return d&&d[g]})};a.exports=b["default"]},function(a,b,c){b.__esModule=!0;var d=c(5);b["default"]=function(g){g.registerHelper("with",function(k,q){d.isFunction(k)&&(k=k.call(this));var v=q.fn;if(d.isEmpty(k))return q.inverse(this);var r=q.data;q.data&&q.ids&&(r=d.createFrame(q.data),
r.contextPath=d.appendContextPath(q.data.contextPath,q.ids[0]));return v(k,{data:r,blockParams:d.blockParams([k],[r&&r.contextPath])})})};a.exports=b["default"]},function(a,b,c){a=c(1)["default"];b.__esModule=!0;b.registerDefaultDecorators=function(g){d["default"](g)};b=c(16);var d=a(b)},function(a,b,c){b.__esModule=!0;var d=c(5);b["default"]=function(g){g.registerDecorator("inline",function(k,q,v,r){var t=k;q.partials||(q.partials={},t=function(m,u){var h=v.partials;v.partials=d.extend({},h,q.partials);
m=k(m,u);v.partials=h;return m});q.partials[r.args[0]]=r.fn;return t})};a.exports=b["default"]},function(a,b,c){b.__esModule=!0;var d=c(5),g={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(k){if("string"===typeof k){var q=d.indexOf(g.methodMap,k.toLowerCase());k=0<=q?q:parseInt(k,10)}return k},log:function(k){k=g.lookupLevel(k);if("undefined"!==typeof console&&g.lookupLevel(g.level)<=k){var q=g.methodMap[k];console[q]||(q="log");for(var v=arguments.length,r=Array(1<v?
v-1:0),t=1;t<v;t++)r[t-1]=arguments[t];console[q].apply(console,r)}}};b["default"]=g;a.exports=b["default"]},function(a,b){function c(d){this.string=d}b.__esModule=!0;c.prototype.toString=c.prototype.toHTML=function(){return""+this.string};b["default"]=c;a.exports=b["default"]},function(a,b,c){function d(u,h,f,l,e,n,w){function y(z){var C=1>=arguments.length||void 0===arguments[1]?{}:arguments[1],I=w;w&&z!==w[0]&&(I=[z].concat(w));return f(u,z,u.helpers,u.partials,C.data||l,n&&[C.blockParams].concat(n),
I)}y=q(f,y,u,w,l,n);y.program=h;y.depth=w?w.length:0;y.blockParams=e||0;return y}function g(){return""}function k(u,h){h&&"root"in h||(h=h?m.createFrame(h):{},h.root=u);return h}function q(u,h,f,l,e,n){if(u.decorator){var w={};h=u.decorator(h,w,f,l&&l[0],e,n,l);r.extend(h,w)}return h}var v=c(3)["default"];a=c(1)["default"];b.__esModule=!0;b.checkRevision=function(u){var h=u&&u[0]||1,f=m.COMPILER_REVISION;if(h!==f){if(h<f)throw new t["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+
m.REVISION_CHANGES[f]+") or downgrade your runtime to an older version ("+m.REVISION_CHANGES[h]+").");throw new t["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+u[1]+").");}};b.template=function(u,h){function f(e){function n(I){return""+u.main(l,I,l.helpers,l.partials,y,C,z)}var w=1>=arguments.length||void 0===arguments[1]?{}:arguments[1],y=w.data;f._setup(w);!w.partial&&u.useData&&(y=k(e,y));var z=
void 0,C=u.useBlockParams?[]:void 0;u.useDepths&&(z=w.depths?e!==w.depths[0]?[e].concat(w.depths):w.depths:[e]);n=q(u.main,n,l,w.depths||[],y,C);return n(e,w)}if(!h)throw new t["default"]("No environment passed to template");if(!u||!u.main)throw new t["default"]("Unknown template object: "+typeof u);u.main.decorator=u.main_d;h.VM.checkRevision(u.compiler);var l={strict:function(e,n){if(!(n in e))throw new t["default"]('"'+n+'" not defined in '+e);return e[n]},lookup:function(e,n){for(var w=e.length,
y=0;y<w;y++)if(e[y]&&null!=e[y][n])return e[y][n]},lambda:function(e,n){return"function"===typeof e?e.call(n):e},escapeExpression:r.escapeExpression,invokePartial:function(e,n,w){w.hash&&(n=r.extend({},n,w.hash),w.ids&&(w.ids[0]=!0));e=h.VM.resolvePartial.call(this,e,n,w);var y=h.VM.invokePartial.call(this,e,n,w);null==y&&h.compile&&(w.partials[w.name]=h.compile(e,u.compilerOptions,h),y=w.partials[w.name](n,w));if(null!=y){if(w.indent){e=y.split("\n");n=0;for(y=e.length;n<y&&(e[n]||n+1!==y);n++)e[n]=
w.indent+e[n];y=e.join("\n")}return y}throw new t["default"]("The partial "+w.name+" could not be compiled when running in runtime-only mode");},fn:function(e){var n=u[e];n.decorator=u[e+"_d"];return n},programs:[],program:function(e,n,w,y,z){var C=this.programs[e],I=this.fn(e);n||z||y||w?C=d(this,e,I,n,w,y,z):C||(C=this.programs[e]=d(this,e,I));return C},data:function(e,n){for(;e&&n--;)e=e._parent;return e},merge:function(e,n){var w=e||n;e&&n&&e!==n&&(w=r.extend({},n,e));return w},noop:h.VM.noop,
compilerInfo:u.compiler};f.isTop=!0;f._setup=function(e){if(e.partial)l.helpers=e.helpers,l.partials=e.partials,l.decorators=e.decorators;else if(l.helpers=l.merge(e.helpers,h.helpers),u.usePartial&&(l.partials=l.merge(e.partials,h.partials)),u.usePartial||u.useDecorators)l.decorators=l.merge(e.decorators,h.decorators)};f._child=function(e,n,w,y){if(u.useBlockParams&&!w)throw new t["default"]("must pass block params");if(u.useDepths&&!y)throw new t["default"]("must pass parent depths");return d(l,
e,u[e],n,0,w,y)};return f};b.wrapProgram=d;b.resolvePartial=function(u,h,f){u?u.call||f.name||(f.name=u,u=f.partials[u]):u="@partial-block"===f.name?f.data["partial-block"]:f.partials[f.name];return u};b.invokePartial=function(u,h,f){f.partial=!0;f.ids&&(f.data.contextPath=f.ids[0]||f.data.contextPath);var l=void 0;f.fn&&f.fn!==g&&(f.data=m.createFrame(f.data),l=f.data["partial-block"]=f.fn,l.partials&&(f.partials=r.extend({},f.partials,l.partials)));void 0===u&&l&&(u=l);if(void 0===u)throw new t["default"]("The partial "+
f.name+" could not be found");if(u instanceof Function)return u(h,f)};b.noop=g;b=c(5);var r=v(b);b=c(6);var t=a(b),m=c(4)},function(a,b){(function(c){b.__esModule=!0;b["default"]=function(d){var g="undefined"!==typeof c?c:window,k=g.Handlebars;d.noConflict=function(){g.Handlebars===d&&(g.Handlebars=k);return d}};a.exports=b["default"]}).call(b,function(){return this}())},function(a,b){b.__esModule=!0;var c={helpers:{helperExpression:function(d){return"SubExpression"===d.type||("MustacheStatement"===
d.type||"BlockStatement"===d.type)&&!!(d.params&&d.params.length||d.hash)},scopedId:function(d){return/^\.|this\b/.test(d.original)},simpleId:function(d){return 1===d.parts.length&&!c.helpers.scopedId(d)&&!d.depth}}};b["default"]=c;a.exports=b["default"]},function(a,b,c){var d=c(1)["default"];a=c(3)["default"];b.__esModule=!0;b.parse=function(r,t){if("Program"===r.type)return r;k["default"].yy=v;v.locInfo=function(m){return new v.SourceLocation(t&&t.srcName,m)};return(new q["default"](t)).accept(k["default"].parse(r))};
var g=c(23),k=d(g);g=c(24);var q=d(g);d=c(26);a=a(d);c=c(5);b.parser=k["default"];var v={};c.extend(v,a)},function(a,b){a=function(){function c(){this.yy={}}var d={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,
CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,
mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,
CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",
75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],
[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(k,q,v,r,t,m,u){k=m.length-1;switch(t){case 1:return m[k-1];case 2:this.$=r.prepareProgram(m[k]);break;case 3:this.$=m[k];break;case 4:this.$=
m[k];break;case 5:this.$=m[k];break;case 6:this.$=m[k];break;case 7:this.$=m[k];break;case 8:this.$=m[k];break;case 9:this.$={type:"CommentStatement",value:r.stripComment(m[k]),strip:r.stripFlags(m[k],m[k]),loc:r.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:m[k],value:m[k],loc:r.locInfo(this._$)};break;case 11:this.$=r.prepareRawBlock(m[k-2],m[k-1],m[k],this._$);break;case 12:this.$={path:m[k-3],params:m[k-2],hash:m[k-1]};break;case 13:this.$=r.prepareBlock(m[k-3],m[k-
2],m[k-1],m[k],!1,this._$);break;case 14:this.$=r.prepareBlock(m[k-3],m[k-2],m[k-1],m[k],!0,this._$);break;case 15:this.$={open:m[k-5],path:m[k-4],params:m[k-3],hash:m[k-2],blockParams:m[k-1],strip:r.stripFlags(m[k-5],m[k])};break;case 16:this.$={path:m[k-4],params:m[k-3],hash:m[k-2],blockParams:m[k-1],strip:r.stripFlags(m[k-5],m[k])};break;case 17:this.$={path:m[k-4],params:m[k-3],hash:m[k-2],blockParams:m[k-1],strip:r.stripFlags(m[k-5],m[k])};break;case 18:this.$={strip:r.stripFlags(m[k-1],m[k-
1]),program:m[k]};break;case 19:t=r.prepareBlock(m[k-2],m[k-1],m[k],m[k],!1,this._$);r=r.prepareProgram([t],m[k-1].loc);r.chained=!0;this.$={strip:m[k-2].strip,program:r,chain:!0};break;case 20:this.$=m[k];break;case 21:this.$={path:m[k-1],strip:r.stripFlags(m[k-2],m[k])};break;case 22:this.$=r.prepareMustache(m[k-3],m[k-2],m[k-1],m[k-4],r.stripFlags(m[k-4],m[k]),this._$);break;case 23:this.$=r.prepareMustache(m[k-3],m[k-2],m[k-1],m[k-4],r.stripFlags(m[k-4],m[k]),this._$);break;case 24:this.$={type:"PartialStatement",
name:m[k-3],params:m[k-2],hash:m[k-1],indent:"",strip:r.stripFlags(m[k-4],m[k]),loc:r.locInfo(this._$)};break;case 25:this.$=r.preparePartialBlock(m[k-2],m[k-1],m[k],this._$);break;case 26:this.$={path:m[k-3],params:m[k-2],hash:m[k-1],strip:r.stripFlags(m[k-4],m[k])};break;case 27:this.$=m[k];break;case 28:this.$=m[k];break;case 29:this.$={type:"SubExpression",path:m[k-3],params:m[k-2],hash:m[k-1],loc:r.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:m[k],loc:r.locInfo(this._$)};break;case 31:this.$=
{type:"HashPair",key:r.id(m[k-2]),value:m[k],loc:r.locInfo(this._$)};break;case 32:this.$=r.id(m[k-1]);break;case 33:this.$=m[k];break;case 34:this.$=m[k];break;case 35:this.$={type:"StringLiteral",value:m[k],original:m[k],loc:r.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(m[k]),original:Number(m[k]),loc:r.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===m[k],original:"true"===m[k],loc:r.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",
original:void 0,value:void 0,loc:r.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:r.locInfo(this._$)};break;case 40:this.$=m[k];break;case 41:this.$=m[k];break;case 42:this.$=r.preparePath(!0,m[k],this._$);break;case 43:this.$=r.preparePath(!1,m[k],this._$);break;case 44:m[k-2].push({part:r.id(m[k]),original:m[k],separator:m[k-1]});this.$=m[k-2];break;case 45:this.$=[{part:r.id(m[k]),original:m[k]}];break;case 46:this.$=[];break;case 47:m[k-1].push(m[k]);break;
case 48:this.$=[m[k]];break;case 49:m[k-1].push(m[k]);break;case 50:this.$=[];break;case 51:m[k-1].push(m[k]);break;case 58:this.$=[];break;case 59:m[k-1].push(m[k]);break;case 64:this.$=[];break;case 65:m[k-1].push(m[k]);break;case 70:this.$=[];break;case 71:m[k-1].push(m[k]);break;case 78:this.$=[];break;case 79:m[k-1].push(m[k]);break;case 82:this.$=[];break;case 83:m[k-1].push(m[k]);break;case 86:this.$=[];break;case 87:m[k-1].push(m[k]);break;case 90:this.$=[];break;case 91:m[k-1].push(m[k]);
break;case 94:this.$=[];break;case 95:m[k-1].push(m[k]);break;case 98:this.$=[m[k]];break;case 99:m[k-1].push(m[k]);break;case 100:this.$=[m[k]];break;case 101:m[k-1].push(m[k])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},
{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,
6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,
28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],
82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,
35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],
80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,
38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,
45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],
83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,
90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,
34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],
47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],
82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,
32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,
28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,
83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,
14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,
75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},
{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,
34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],
29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,
15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,
93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(k,q){throw Error(k);},parse:function(k){var q=[0],v=[null],r=[],t=this.table,m="",u=0,h=0,f=0;this.lexer.setInput(k);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});k=this.lexer.yylloc;r.push(k);var l=this.lexer.options&&this.lexer.options.ranges;"function"===typeof this.yy.parseError&&(this.parseError=this.yy.parseError);
for(var e,n,w,y,z={},C,I;;){w=q[q.length-1];if(this.defaultActions[w])y=this.defaultActions[w];else{if(null===e||"undefined"==typeof e)e=this.lexer.lex()||1,"number"!==typeof e&&(e=this.symbols_[e]||e);y=t[w]&&t[w][e]}if(!("undefined"!==typeof y&&y.length&&y[0]||f)){I=[];for(C in t[w])this.terminals_[C]&&2<C&&I.push("'"+this.terminals_[C]+"'");var K=this.lexer.showPosition?"Parse error on line "+(u+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+I.join(", ")+", got '"+(this.terminals_[e]||e)+"'":
"Parse error on line "+(u+1)+": Unexpected "+(1==e?"end of input":"'"+(this.terminals_[e]||e)+"'");this.parseError(K,{text:this.lexer.match,token:this.terminals_[e]||e,line:this.lexer.yylineno,loc:k,expected:I})}if(y[0]instanceof Array&&1<y.length)throw Error("Parse Error: multiple actions possible at state: "+w+", token: "+e);switch(y[0]){case 1:q.push(e);v.push(this.lexer.yytext);r.push(this.lexer.yylloc);q.push(y[1]);e=null;n?(e=n,n=null):(h=this.lexer.yyleng,m=this.lexer.yytext,u=this.lexer.yylineno,
k=this.lexer.yylloc,0<f&&f--);break;case 2:I=this.productions_[y[1]][1];z.$=v[v.length-I];z._$={first_line:r[r.length-(I||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(I||1)].first_column,last_column:r[r.length-1].last_column};l&&(z._$.range=[r[r.length-(I||1)].range[0],r[r.length-1].range[1]]);w=this.performAction.call(z,m,h,u,this.yy,y[1],v,r);if("undefined"!==typeof w)return w;I&&(q=q.slice(0,-2*I),v=v.slice(0,-1*I),r=r.slice(0,-1*I));q.push(this.productions_[y[1]][0]);
v.push(z.$);r.push(z._$);y=t[q[q.length-2]][q[q.length-1]];q.push(y);break;case 3:return!0}}}},g=function(){return{EOF:1,parseError:function(k,q){if(this.yy.parser)this.yy.parser.parseError(k,q);else throw Error(k);},setInput:function(k){this._input=k;this._more=this._less=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);
this.offset=0;return this},input:function(){var k=this._input[0];this.yytext+=k;this.yyleng++;this.offset++;this.match+=k;this.matched+=k;k.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return k},unput:function(k){var q=k.length,v=k.split(/(?:\r\n?|\n)/g);this._input=k+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-q-1);this.offset-=q;k=this.match.split(/(?:\r\n?|\n)/g);
this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);v.length-1&&(this.yylineno-=v.length-1);var r=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:v?(v.length===k.length?this.yylloc.first_column:0)+k[k.length-v.length].length-v[0].length:this.yylloc.first_column-q};this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-q]);return this},more:function(){this._more=
!0;return this},less:function(k){this.unput(this.match.slice(k))},pastInput:function(){var k=this.matched.substr(0,this.matched.length-this.match.length);return(20<k.length?"...":"")+k.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var k=this.match;20>k.length&&(k+=this._input.substr(0,20-k.length));return(k.substr(0,20)+(20<k.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var k=this.pastInput(),q=Array(k.length+1).join("-");return k+this.upcomingInput()+"\n"+q+"^"},next:function(){if(this.done)return this.EOF;
this._input||(this.done=!0);var k;this._more||(this.match=this.yytext="");for(var q=this._currentRules(),v=0;v<q.length;v++)if((k=this._input.match(this.rules[q[v]]))&&(!r||k[0].length>r[0].length)){var r=k;var t=v;if(!this.options.flex)break}if(r){if(k=r[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=k.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:k?k[k.length-1].length-k[k.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+
r[0].length};this.yytext+=r[0];this.match+=r[0];this.matches=r;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._more=!1;this._input=this._input.slice(r[0].length);this.matched+=r[0];r=this.performAction.call(this,this.yy,this,q[t],this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(r)return r}else return""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+
this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var k=this.next();return"undefined"!==typeof k?k:this.lex()},begin:function(k){this.conditionStack.push(k)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(k){this.begin(k)},options:{},performAction:function(k,q,v,r){function t(m,
u){return q.yytext=q.yytext.substr(m,q.yyleng-u)}switch(v){case 0:"\\\\"===q.yytext.slice(-2)?(t(0,1),this.begin("mu")):"\\"===q.yytext.slice(-1)?(t(0,1),this.begin("emu")):this.begin("mu");if(q.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:this.popState();if("raw"===this.conditionStack[this.conditionStack.length-1])return 15;q.yytext=q.yytext.substr(5,q.yyleng-9);return"END_RAW_BLOCK";case 5:return 15;case 6:return this.popState(),
14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(q.yytext);this.popState();this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;
case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return q.yytext=t(1,2).replace(/\\"/g,'"'),80;case 32:return q.yytext=t(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return q.yytext=q.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,
/^(?:\{\{\{\{(?=[^/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,
/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,
29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}}}}();d.lexer=g;c.prototype=d;d.Parser=c;return new c}();b.__esModule=!0;b["default"]=a},function(a,b,c){function d(){this.options=0>=arguments.length||void 0===arguments[0]?{}:arguments[0]}function g(t,m,u){void 0===m&&(m=t.length);var h=t[m-1];t=t[m-2];if(!h)return u;if("ContentStatement"===h.type)return(t||
!u?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(h.original)}function k(t,m,u){void 0===m&&(m=-1);var h=t[m+1];t=t[m+2];if(!h)return u;if("ContentStatement"===h.type)return(t||!u?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(h.original)}function q(t,m,u){!(t=t[null==m?0:m+1])||"ContentStatement"!==t.type||!u&&t.rightStripped||(m=t.value,t.value=t.value.replace(u?/^\s+/:/^[ \t]*\r?\n?/,""),t.rightStripped=t.value!==m)}function v(t,m,u){if((t=t[null==m?t.length-1:m-1])&&"ContentStatement"===t.type&&(u||!t.leftStripped))return m=
t.value,t.value=t.value.replace(u?/\s+$/:/[ \t]+$/,""),t.leftStripped=t.value!==m,t.leftStripped}var r=c(1)["default"];b.__esModule=!0;c=c(25);r=r(c);d.prototype=new r["default"];d.prototype.Program=function(t){var m=!this.options.ignoreStandalone,u=!this.isRootSeen;this.isRootSeen=!0;for(var h=t.body,f=0,l=h.length;f<l;f++){var e=h[f],n=this.accept(e);if(n){var w=g(h,f,u),y=k(h,f,u),z=n.openStandalone&&w,C=n.closeStandalone&&y;w=n.inlineStandalone&&w&&y;n.close&&q(h,f,!0);n.open&&v(h,f,!0);m&&w&&
(q(h,f),v(h,f)&&"PartialStatement"===e.type&&(e.indent=/([ \t]+$)/.exec(h[f-1].original)[1]));m&&z&&(q((e.program||e.inverse).body),v(h,f));m&&C&&(q(h,f),v((e.inverse||e.program).body))}}return t};d.prototype.BlockStatement=d.prototype.DecoratorBlock=d.prototype.PartialBlockStatement=function(t){this.accept(t.program);this.accept(t.inverse);var m=t.program||t.inverse,u=t.program&&t.inverse,h=u,f=u;if(u&&u.chained)for(h=u.body[0].program;f.chained;)f=f.body[f.body.length-1].program;var l={open:t.openStrip.open,
close:t.closeStrip.close,openStandalone:k(m.body),closeStandalone:g((h||m).body)};t.openStrip.close&&q(m.body,null,!0);u?(u=t.inverseStrip,u.open&&v(m.body,null,!0),u.close&&q(h.body,null,!0),t.closeStrip.open&&v(f.body,null,!0),!this.options.ignoreStandalone&&g(m.body)&&k(h.body)&&(v(m.body),q(h.body))):t.closeStrip.open&&v(m.body,null,!0);return l};d.prototype.Decorator=d.prototype.MustacheStatement=function(t){return t.strip};d.prototype.PartialStatement=d.prototype.CommentStatement=function(t){t=
t.strip||{};return{inlineStandalone:!0,open:t.open,close:t.close}};b["default"]=d;a.exports=b["default"]},function(a,b,c){function d(){this.parents=[]}function g(t){this.acceptRequired(t,"path");this.acceptArray(t.params);this.acceptKey(t,"hash")}function k(t){g.call(this,t);this.acceptKey(t,"program");this.acceptKey(t,"inverse")}function q(t){this.acceptRequired(t,"name");this.acceptArray(t.params);this.acceptKey(t,"hash")}var v=c(1)["default"];b.__esModule=!0;c=c(6);var r=v(c);d.prototype={constructor:d,
mutating:!1,acceptKey:function(t,m){var u=this.accept(t[m]);if(this.mutating){if(u&&!d.prototype[u.type])throw new r["default"]('Unexpected node type "'+u.type+'" found when accepting '+m+" on "+t.type);t[m]=u}},acceptRequired:function(t,m){this.acceptKey(t,m);if(!t[m])throw new r["default"](t.type+" requires "+m);},acceptArray:function(t){for(var m=0,u=t.length;m<u;m++)this.acceptKey(t,m),t[m]||(t.splice(m,1),m--,u--)},accept:function(t){if(t){if(!this[t.type])throw new r["default"]("Unknown type: "+
t.type,t);this.current&&this.parents.unshift(this.current);this.current=t;var m=this[t.type](t);this.current=this.parents.shift();if(!this.mutating||m)return m;if(!1!==m)return t}},Program:function(t){this.acceptArray(t.body)},MustacheStatement:g,Decorator:g,BlockStatement:k,DecoratorBlock:k,PartialStatement:q,PartialBlockStatement:function(t){q.call(this,t);this.acceptKey(t,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:g,PathExpression:function(){},StringLiteral:function(){},
NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(t){this.acceptArray(t.pairs)},HashPair:function(t){this.acceptRequired(t,"value")}};b["default"]=d;a.exports=b["default"]},function(a,b,c){function d(k,q){q=q.path?q.path.original:q;if(k.path.original!==q)throw new g["default"](k.path.original+" doesn't match "+q,{loc:k.path.loc});}a=c(1)["default"];b.__esModule=!0;b.SourceLocation=function(k,q){this.source=k;this.start={line:q.first_line,
column:q.first_column};this.end={line:q.last_line,column:q.last_column}};b.id=function(k){return/^\[.*\]$/.test(k)?k.substr(1,k.length-2):k};b.stripFlags=function(k,q){return{open:"~"===k.charAt(2),close:"~"===q.charAt(q.length-3)}};b.stripComment=function(k){return k.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")};b.preparePath=function(k,q,v){v=this.locInfo(v);for(var r=k?"@":"",t=[],m=0,u=0,h=q.length;u<h;u++){var f=q[u].part,l=q[u].original!==f;r+=(q[u].separator||"")+f;if(l||".."!==f&&
"."!==f&&"this"!==f)t.push(f);else{if(0<t.length)throw new g["default"]("Invalid path: "+r,{loc:v});".."===f&&m++}}return{type:"PathExpression",data:k,depth:m,parts:t,original:r,loc:v}};b.prepareMustache=function(k,q,v,r,t,m){var u=r.charAt(3)||r.charAt(2);u="{"!==u&&"&"!==u;return{type:/\*/.test(r)?"Decorator":"MustacheStatement",path:k,params:q,hash:v,escaped:u,strip:t,loc:this.locInfo(m)}};b.prepareRawBlock=function(k,q,v,r){d(k,v);r=this.locInfo(r);return{type:"BlockStatement",path:k.path,params:k.params,
hash:k.hash,program:{type:"Program",body:q,strip:{},loc:r},openStrip:{},inverseStrip:{},closeStrip:{},loc:r}};b.prepareBlock=function(k,q,v,r,t,m){r&&r.path&&d(k,r);var u=/\*/.test(k.open);q.blockParams=k.blockParams;var h=void 0,f=void 0;if(v){if(u)throw new g["default"]("Unexpected inverse block on decorator",v);v.chain&&(v.program.body[0].closeStrip=r.strip);f=v.strip;h=v.program}t&&(t=h,h=q,q=t);return{type:u?"DecoratorBlock":"BlockStatement",path:k.path,params:k.params,hash:k.hash,program:q,
inverse:h,openStrip:k.strip,inverseStrip:f,closeStrip:r&&r.strip,loc:this.locInfo(m)}};b.prepareProgram=function(k,q){if(!q&&k.length){var v=k[0].loc,r=k[k.length-1].loc;v&&r&&(q={source:v.source,start:{line:v.start.line,column:v.start.column},end:{line:r.end.line,column:r.end.column}})}return{type:"Program",body:k,strip:{},loc:q}};b.preparePartialBlock=function(k,q,v,r){d(k,v);return{type:"PartialBlockStatement",name:k.path,params:k.params,hash:k.hash,program:q,openStrip:k.strip,closeStrip:v&&v.strip,
loc:this.locInfo(r)}};b=c(6);var g=a(b)},function(a,b,c){function d(){}function g(m,u){if(m===u)return!0;if(v.isArray(m)&&v.isArray(u)&&m.length===u.length){for(var h=0;h<m.length;h++)if(!g(m[h],u[h]))return!1;return!0}}function k(m){if(!m.path.parts){var u=m.path;m.path={type:"PathExpression",data:!1,depth:0,parts:[u.original+""],original:u.original+"",loc:u.loc}}}a=c(1)["default"];b.__esModule=!0;b.Compiler=d;b.precompile=function(m,u,h){if(null==m||"string"!==typeof m&&"Program"!==m.type)throw new q["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+
m);u=u||{};"data"in u||(u.data=!0);u.compat&&(u.useDepths=!0);m=h.parse(m,u);m=(new h.Compiler).compile(m,u);return(new h.JavaScriptCompiler).compile(m,u)};b.compile=function(m,u,h){function f(){var n=h.parse(m,u);n=(new h.Compiler).compile(n,u);n=(new h.JavaScriptCompiler).compile(n,u,void 0,!0);return h.template(n)}function l(n,w){e||(e=f());return e.call(this,n,w)}void 0===u&&(u={});if(null==m||"string"!==typeof m&&"Program"!==m.type)throw new q["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+
m);"data"in u||(u.data=!0);u.compat&&(u.useDepths=!0);var e=void 0;l._setup=function(n){e||(e=f());return e._setup(n)};l._child=function(n,w,y,z){e||(e=f());return e._child(n,w,y,z)};return l};b=c(6);var q=a(b),v=c(5);c=c(21);var r=a(c),t=[].slice;d.prototype={compiler:d,equals:function(m){var u=this.opcodes.length;if(m.opcodes.length!==u)return!1;for(var h=0;h<u;h++){var f=this.opcodes[h],l=m.opcodes[h];if(f.opcode!==l.opcode||!g(f.args,l.args))return!1}u=this.children.length;for(h=0;h<u;h++)if(!this.children[h].equals(m.children[h]))return!1;
return!0},guid:0,compile:function(m,u){this.sourceNode=[];this.opcodes=[];this.children=[];this.options=u;this.stringParams=u.stringParams;this.trackIds=u.trackIds;u.blockParams=u.blockParams||[];var h=u.knownHelpers;u.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0};if(h)for(var f in h)f in h&&(u.knownHelpers[f]=h[f]);return this.accept(m)},compileProgram:function(m){m=(new this.compiler).compile(m,this.options);var u=this.guid++;this.usePartial=
this.usePartial||m.usePartial;this.children[u]=m;this.useDepths=this.useDepths||m.useDepths;return u},accept:function(m){if(!this[m.type])throw new q["default"]("Unknown type: "+m.type,m);this.sourceNode.unshift(m);m=this[m.type](m);this.sourceNode.shift();return m},Program:function(m){this.options.blockParams.unshift(m.blockParams);for(var u=m.body,h=u.length,f=0;f<h;f++)this.accept(u[f]);this.options.blockParams.shift();this.isSimple=1===h;this.blockParams=m.blockParams?m.blockParams.length:0;return this},
BlockStatement:function(m){k(m);var u=m.program,h=m.inverse;u=u&&this.compileProgram(u);h=h&&this.compileProgram(h);var f=this.classifySexpr(m);"helper"===f?this.helperSexpr(m,u,h):"simple"===f?(this.simpleSexpr(m),this.opcode("pushProgram",u),this.opcode("pushProgram",h),this.opcode("emptyHash"),this.opcode("blockValue",m.path.original)):(this.ambiguousSexpr(m,u,h),this.opcode("pushProgram",u),this.opcode("pushProgram",h),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue"));this.opcode("append")},
DecoratorBlock:function(m){var u=m.program&&this.compileProgram(m.program);u=this.setupFullMustacheParams(m,u,void 0);m=m.path;this.useDecorators=!0;this.opcode("registerDecorator",u.length,m.original)},PartialStatement:function(m){this.usePartial=!0;var u=m.program;u&&(u=this.compileProgram(m.program));var h=m.params;if(1<h.length)throw new q["default"]("Unsupported number of partial arguments: "+h.length,m);h.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):h.push({type:"PathExpression",
parts:[],depth:0}));h=m.name.original;var f="SubExpression"===m.name.type;f&&this.accept(m.name);this.setupFullMustacheParams(m,u,void 0,!0);m=m.indent||"";this.options.preventIndent&&m&&(this.opcode("appendContent",m),m="");this.opcode("invokePartial",f,h,m);this.opcode("append")},PartialBlockStatement:function(m){this.PartialStatement(m)},MustacheStatement:function(m){this.SubExpression(m);m.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(m){this.DecoratorBlock(m)},
ContentStatement:function(m){m.value&&this.opcode("appendContent",m.value)},CommentStatement:function(){},SubExpression:function(m){k(m);var u=this.classifySexpr(m);"simple"===u?this.simpleSexpr(m):"helper"===u?this.helperSexpr(m):this.ambiguousSexpr(m)},ambiguousSexpr:function(m,u,h){m=m.path;var f=m.parts[0],l=null!=u||null!=h;this.opcode("getContext",m.depth);this.opcode("pushProgram",u);this.opcode("pushProgram",h);m.strict=!0;this.accept(m);this.opcode("invokeAmbiguous",f,l)},simpleSexpr:function(m){m=
m.path;m.strict=!0;this.accept(m);this.opcode("resolvePossibleLambda")},helperSexpr:function(m,u,h){u=this.setupFullMustacheParams(m,u,h);h=m.path;var f=h.parts[0];if(this.options.knownHelpers[f])this.opcode("invokeKnownHelper",u.length,f);else{if(this.options.knownHelpersOnly)throw new q["default"]("You specified knownHelpersOnly, but used the unknown helper "+f,m);h.strict=!0;h.falsy=!0;this.accept(h);this.opcode("invokeHelper",u.length,h.original,r["default"].helpers.simpleId(h))}},PathExpression:function(m){this.addDepth(m.depth);
this.opcode("getContext",m.depth);var u=m.parts[0],h=r["default"].helpers.scopedId(m),f=!m.depth&&!h&&this.blockParamIndex(u);f?this.opcode("lookupBlockParam",f,m.parts):u?m.data?(this.options.data=!0,this.opcode("lookupData",m.depth,m.parts,m.strict)):this.opcode("lookupOnContext",m.parts,m.falsy,m.strict,h):this.opcode("pushContext")},StringLiteral:function(m){this.opcode("pushString",m.value)},NumberLiteral:function(m){this.opcode("pushLiteral",m.value)},BooleanLiteral:function(m){this.opcode("pushLiteral",
m.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(m){m=m.pairs;var u=0,h=m.length;for(this.opcode("pushHash");u<h;u++)this.pushParam(m[u].value);for(;u--;)this.opcode("assignToHash",m[u].key);this.opcode("popHash")},opcode:function(m){this.opcodes.push({opcode:m,args:t.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(m){m&&(this.useDepths=!0)},classifySexpr:function(m){var u=r["default"].helpers.simpleId(m.path),
h=u&&!!this.blockParamIndex(m.path.parts[0]),f=!h&&r["default"].helpers.helperExpression(m);(u=!h&&(f||u))&&!f&&(h=this.options,h.knownHelpers[m.path.parts[0]]?f=!0:h.knownHelpersOnly&&(u=!1));return f?"helper":u?"ambiguous":"simple"},pushParams:function(m){for(var u=0,h=m.length;u<h;u++)this.pushParam(m[u])},pushParam:function(m){var u=null!=m.value?m.value:m.original||"";if(this.stringParams)u.replace&&(u=u.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),m.depth&&this.addDepth(m.depth),this.opcode("getContext",
m.depth||0),this.opcode("pushStringParam",u,m.type),"SubExpression"===m.type&&this.accept(m);else{if(this.trackIds){var h=void 0;!m.parts||r["default"].helpers.scopedId(m)||m.depth||(h=this.blockParamIndex(m.parts[0]));h?(u=m.parts.slice(1).join("."),this.opcode("pushId","BlockParam",h,u)):(u=m.original||u,u.replace&&(u=u.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",m.type,u))}this.accept(m)}},setupFullMustacheParams:function(m,u,h,f){var l=m.params;this.pushParams(l);
this.opcode("pushProgram",u);this.opcode("pushProgram",h);m.hash?this.accept(m.hash):this.opcode("emptyHash",f);return l},blockParamIndex:function(m){for(var u=0,h=this.options.blockParams.length;u<h;u++){var f=this.options.blockParams[u],l=f&&v.indexOf(f,m);if(f&&0<=l)return[u,l]}}}},function(a,b,c){function d(h){this.value=h}function g(){}function k(h,f,l,e){var n=f.popStack(),w=0,y=l.length;for(h&&y--;w<y;w++)n=f.nameLookup(n,l[w],e);return h?[f.aliasable("container.strict"),"(",n,", ",f.quotedString(l[w]),
")"]:n}var q=c(1)["default"];b.__esModule=!0;var v=c(4),r=c(6),t=q(r),m=c(5);c=c(29);var u=q(c);g.prototype={nameLookup:function(h,f){return g.isValidJavaScriptVariableName(f)?[h,".",f]:[h,"[",JSON.stringify(f),"]"]},depthedLookup:function(h){return[this.aliasable("container.lookup"),'(depths, "',h,'")']},compilerInfo:function(){var h=v.COMPILER_REVISION;return[h,v.REVISION_CHANGES[h]]},appendToBuffer:function(h,f,l){m.isArray(h)||(h=[h]);h=this.source.wrap(h,f);if(this.environment.isSimple)return["return ",
h,";"];if(l)return["buffer += ",h,";"];h.appendToBuffer=!0;return h},initializeBuffer:function(){return this.quotedString("")},compile:function(h,f,l,e){this.environment=h;this.options=f;this.stringParams=this.options.stringParams;this.trackIds=this.options.trackIds;this.precompile=!e;this.name=this.environment.name;this.isChild=!!l;this.context=l||{decorators:[],programs:[],environments:[]};this.preamble();this.stackSlot=0;this.stackVars=[];this.aliases={};this.registers={list:[]};this.hashes=[];
this.compileStack=[];this.inlineStack=[];this.blockParams=[];this.compileChildren(h,f);this.useDepths=this.useDepths||h.useDepths||h.useDecorators||this.options.compat;this.useBlockParams=this.useBlockParams||h.useBlockParams;var n=h.opcodes,w=void 0;h=0;for(l=n.length;h<l;h++){var y=n[h];this.source.currentLocation=y.loc;w=w||y.loc;this[y.opcode].apply(this,y.args)}this.source.currentLocation=w;this.pushSource("");if(this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new t["default"]("Compile completed with content left on stack");
this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),e?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));h=this.createFunctionContext(e);
if(this.isChild)return h;n={compiler:this.compilerInfo(),main:h};this.decorators&&(n.main_d=this.decorators,n.useDecorators=!0);h=this.context;y=h.programs;w=h.decorators;h=0;for(l=y.length;h<l;h++)y[h]&&(n[h]=y[h],w[h]&&(n[h+"_d"]=w[h],n.useDecorators=!0));this.environment.usePartial&&(n.usePartial=!0);this.options.data&&(n.useData=!0);this.useDepths&&(n.useDepths=!0);this.useBlockParams&&(n.useBlockParams=!0);this.options.compat&&(n.compat=!0);e?n.compilerOptions=this.options:(n.compiler=JSON.stringify(n.compiler),
this.source.currentLocation={start:{line:1,column:0}},n=this.objectLiteral(n),f.srcName?(n=n.toStringWithSourceMap({file:f.destName}),n.map=n.map&&n.map.toString()):n=n.toString());return n},preamble:function(){this.lastContext=0;this.source=new u["default"](this.options.srcName);this.decorators=new u["default"](this.options.srcName)},createFunctionContext:function(h){var f="",l=this.stackVars.concat(this.registers.list);0<l.length&&(f+=", "+l.join(", "));l=0;for(var e in this.aliases){var n=this.aliases[e];
this.aliases.hasOwnProperty(e)&&n.children&&1<n.referenceCount&&(f+=", alias"+ ++l+"="+e,n.children[0]="alias"+l)}e=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&e.push("blockParams");this.useDepths&&e.push("depths");f=this.mergeSource(f);return h?(e.push(f),Function.apply(this,e)):this.source.wrap(["function(",e.join(","),") {\n  ",f,"}"])},mergeSource:function(h){var f=this.environment.isSimple,l=!this.forceBuffer,e=void 0,n=void 0,w=void 0,y=void 0;this.source.each(function(z){z.appendToBuffer?
(w?z.prepend("  + "):w=z,y=z):(w&&(n?w.prepend("buffer += "):e=!0,y.add(";"),w=y=void 0),n=!0,f||(l=!1))});l?w?(w.prepend("return "),y.add(";")):n||this.source.push('return "";'):(h+=", buffer = "+(e?"":this.initializeBuffer()),w?(w.prepend("return buffer + "),y.add(";")):this.source.push("return buffer;"));h&&this.source.prepend("var "+h.substring(2)+(e?"":";\n"));return this.source.merge()},blockValue:function(h){var f=this.aliasable("helpers.blockHelperMissing"),l=[this.contextName(0)];this.setupHelperArgs(h,
0,l);h=this.popStack();l.splice(1,0,h);this.push(this.source.functionCall(f,"call",l))},ambiguousBlockValue:function(){var h=this.aliasable("helpers.blockHelperMissing"),f=[this.contextName(0)];this.setupHelperArgs("",0,f,!0);this.flushInline();var l=this.topStack();f.splice(1,0,l);this.pushSource(["if (!",this.lastHelper,") { ",l," = ",this.source.functionCall(h,"call",f),"}"])},appendContent:function(h){this.pendingContent?h=this.pendingContent+h:this.pendingLocation=this.source.currentLocation;
this.pendingContent=h},append:function(){if(this.isInline())this.replaceStack(function(f){return[" != null ? ",f,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var h=this.popStack();this.pushSource(["if (",h," != null) { ",this.appendToBuffer(h,void 0,!0)," }"]);this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),
")"]))},getContext:function(h){this.lastContext=h},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(h,f,l,e){var n=0;e||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(h[n++]));this.resolvePath("context",h,n,f,l)},lookupBlockParam:function(h,f){this.useBlockParams=!0;this.push(["blockParams[",h[0],"][",h[1],"]"]);this.resolvePath("context",f,1)},lookupData:function(h,f,l){h?this.pushStackLiteral("container.data(data, "+
h+")"):this.pushStackLiteral("data");this.resolvePath("data",f,0,!0,l)},resolvePath:function(h,f,l,e,n){var w=this;if(this.options.strict||this.options.assumeObjects)this.push(k(this.options.strict&&n,this,f,h));else for(n=f.length;l<n;l++)this.replaceStack(function(y){var z=w.nameLookup(y,f[l],h);return e?[" && ",z]:[" != null ? ",z," : ",y]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(h,
f){this.pushContext();this.pushString(f);"SubExpression"!==f&&("string"===typeof h?this.pushString(h):this.pushStackLiteral(h))},emptyHash:function(h){this.trackIds&&this.push("{}");this.stringParams&&(this.push("{}"),this.push("{}"));this.pushStackLiteral(h?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash);this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var h=this.hash;this.hash=this.hashes.pop();this.trackIds&&this.push(this.objectLiteral(h.ids));
this.stringParams&&(this.push(this.objectLiteral(h.contexts)),this.push(this.objectLiteral(h.types)));this.push(this.objectLiteral(h.values))},pushString:function(h){this.pushStackLiteral(this.quotedString(h))},pushLiteral:function(h){this.pushStackLiteral(h)},pushProgram:function(h){null!=h?this.pushStackLiteral(this.programExpression(h)):this.pushStackLiteral(null)},registerDecorator:function(h,f){var l=this.nameLookup("decorators",f,"decorator");h=this.setupHelperArgs(f,h);this.decorators.push(["fn = ",
this.decorators.functionCall(l,"",["fn","props","container",h])," || fn;"])},invokeHelper:function(h,f,l){var e=this.popStack();h=this.setupHelper(h,f);l=["("].concat(l?[h.name," || "]:"",e);this.options.strict||l.push(" || ",this.aliasable("helpers.helperMissing"));l.push(")");this.push(this.source.functionCall(l,"call",h.callParams))},invokeKnownHelper:function(h,f){h=this.setupHelper(h,f);this.push(this.source.functionCall(h.name,"call",h.callParams))},invokeAmbiguous:function(h,f){this.useRegister("helper");
var l=this.popStack();this.emptyHash();f=this.setupHelper(0,h,f);h=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",h,"helper")," || ",l,")"];this.options.strict||(h[0]="(helper = ",h.push(" != null ? helper : ",this.aliasable("helpers.helperMissing")));this.push(["(",h,f.paramsInit?["),(",f.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",f.callParams)," : helper))"])},invokePartial:function(h,f,l){var e=[],n=this.setupParams(f,
1,e);h&&(f=this.popStack(),delete n.name);l&&(n.indent=JSON.stringify(l));n.helpers="helpers";n.partials="partials";n.decorators="container.decorators";h?e.unshift(f):e.unshift(this.nameLookup("partials",f,"partial"));this.options.compat&&(n.depths="depths");n=this.objectLiteral(n);e.push(n);this.push(this.source.functionCall("container.invokePartial","",e))},assignToHash:function(h){var f=this.popStack(),l=void 0,e=void 0,n=void 0;this.trackIds&&(n=this.popStack());this.stringParams&&(e=this.popStack(),
l=this.popStack());var w=this.hash;l&&(w.contexts[h]=l);e&&(w.types[h]=e);n&&(w.ids[h]=n);w.values[h]=f},pushId:function(h,f,l){"BlockParam"===h?this.pushStackLiteral("blockParams["+f[0]+"].path["+f[1]+"]"+(l?" + "+JSON.stringify("."+l):"")):"PathExpression"===h?this.pushString(f):"SubExpression"===h?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:g,compileChildren:function(h,f){h=h.children;for(var l,e,n=0,w=h.length;n<w;n++){l=h[n];e=new this.compiler;var y=this.matchExistingProgram(l);
null==y?(this.context.programs.push(""),y=this.context.programs.length,l.index=y,l.name="program"+y,this.context.programs[y]=e.compile(l,f,this.context,!this.precompile),this.context.decorators[y]=e.decorators,this.context.environments[y]=l,this.useDepths=this.useDepths||e.useDepths,this.useBlockParams=this.useBlockParams||e.useBlockParams):(l.index=y,l.name="program"+y,this.useDepths=this.useDepths||l.useDepths,this.useBlockParams=this.useBlockParams||l.useBlockParams)}},matchExistingProgram:function(h){for(var f=
0,l=this.context.environments.length;f<l;f++){var e=this.context.environments[f];if(e&&e.equals(h))return f}},programExpression:function(h){h=this.environment.children[h];h=[h.index,"data",h.blockParams];(this.useBlockParams||this.useDepths)&&h.push("blockParams");this.useDepths&&h.push("depths");return"container.program("+h.join(", ")+")"},useRegister:function(h){this.registers[h]||(this.registers[h]=!0,this.registers.list.push(h))},push:function(h){h instanceof d||(h=this.source.wrap(h));this.inlineStack.push(h);
return h},pushStackLiteral:function(h){this.push(new d(h))},pushSource:function(h){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0);h&&this.source.push(h)},replaceStack:function(h){var f=void 0,l=void 0;if(!this.isInline())throw new t["default"]("replaceStack on non-inline");var e=this.popStack(!0);if(e instanceof d){var n=[e.value];e=["(",n];l=!0}else f=!0,n=this.incrStack(),e=["((",this.push(n),
" = ",e,")"],n=this.topStack();h=h.call(this,n);l||this.popStack();f&&this.stackSlot--;this.push(e.concat(h,")"))},incrStack:function(){this.stackSlot++;this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot);return this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var h=this.inlineStack;this.inlineStack=[];for(var f=0,l=h.length;f<l;f++){var e=h[f];if(e instanceof d)this.compileStack.push(e);else{var n=this.incrStack();this.pushSource([n,
" = ",e,";"]);this.compileStack.push(n)}}},isInline:function(){return this.inlineStack.length},popStack:function(h){var f=this.isInline(),l=(f?this.inlineStack:this.compileStack).pop();if(!h&&l instanceof d)return l.value;if(!f){if(!this.stackSlot)throw new t["default"]("Invalid stack pop");this.stackSlot--}return l},topStack:function(){var h=this.isInline()?this.inlineStack:this.compileStack;h=h[h.length-1];return h instanceof d?h.value:h},contextName:function(h){return this.useDepths&&h?"depths["+
h+"]":"depth"+h},quotedString:function(h){return this.source.quotedString(h)},objectLiteral:function(h){return this.source.objectLiteral(h)},aliasable:function(h){var f=this.aliases[h];if(f)return f.referenceCount++,f;f=this.aliases[h]=this.source.wrap(h);f.aliasable=!0;f.referenceCount=1;return f},setupHelper:function(h,f,l){var e=[];h=this.setupHelperArgs(f,h,e,l);f=this.nameLookup("helpers",f,"helper");l=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : {}");return{params:e,
paramsInit:h,name:f,callParams:[l].concat(e)}},setupParams:function(h,f,l){var e={},n=[],w=[],y=[],z=!l;z&&(l=[]);e.name=this.quotedString(h);e.hash=this.popStack();this.trackIds&&(e.hashIds=this.popStack());this.stringParams&&(e.hashTypes=this.popStack(),e.hashContexts=this.popStack());h=this.popStack();var C=this.popStack();if(C||h)e.fn=C||"container.noop",e.inverse=h||"container.noop";for(h=f;h--;)f=this.popStack(),l[h]=f,this.trackIds&&(y[h]=this.popStack()),this.stringParams&&(w[h]=this.popStack(),
n[h]=this.popStack());z&&(e.args=this.source.generateArray(l));this.trackIds&&(e.ids=this.source.generateArray(y));this.stringParams&&(e.types=this.source.generateArray(w),e.contexts=this.source.generateArray(n));this.options.data&&(e.data="data");this.useBlockParams&&(e.blockParams="blockParams");return e},setupHelperArgs:function(h,f,l,e){h=this.setupParams(h,f,l);h=this.objectLiteral(h);return e?(this.useRegister("options"),l.push("options"),["options=",h]):l?(l.push(h),""):h}};(function(){for(var h=
"break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),f=g.RESERVED_WORDS={},l=0,e=h.length;l<e;l++)f[h[l]]=!0})();g.isValidJavaScriptVariableName=
function(h){return!g.RESERVED_WORDS[h]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(h)};b["default"]=g;a.exports=b["default"]},function(a,b,c){function d(v,r,t){if(k.isArray(v)){for(var m=[],u=0,h=v.length;u<h;u++)m.push(r.wrap(v[u],t));return m}return"boolean"===typeof v||"number"===typeof v?v+"":v}function g(v){this.srcFile=v;this.source=[]}b.__esModule=!0;var k=c(5),q=void 0;q||(q=function(v,r,t,m){this.src="";m&&this.add(m)},q.prototype={add:function(v){k.isArray(v)&&(v=v.join(""));this.src+=v},prepend:function(v){k.isArray(v)&&
(v=v.join(""));this.src=v+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}});g.prototype={isEmpty:function(){return!this.source.length},prepend:function(v,r){this.source.unshift(this.wrap(v,r))},push:function(v,r){this.source.push(this.wrap(v,r))},merge:function(){var v=this.empty();this.each(function(r){v.add(["  ",r,"\n"])});return v},each:function(v){for(var r=0,t=this.source.length;r<t;r++)v(this.source[r])},empty:function(){var v=this.currentLocation||
{start:{}};return new q(v.start.line,v.start.column,this.srcFile)},wrap:function(v){var r=1>=arguments.length||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];if(v instanceof q)return v;v=d(v,this,r);return new q(r.start.line,r.start.column,this.srcFile,v)},functionCall:function(v,r,t){t=this.generateList(t);return this.wrap([v,r?"."+r+"(":"(",t,")"])},quotedString:function(v){return'"'+(v+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,
"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(v){var r=[],t;for(t in v)if(v.hasOwnProperty(t)){var m=d(v[t],this);"undefined"!==m&&r.push([this.quotedString(t),":",m])}v=this.generateList(r);v.prepend("{");v.add("}");return v},generateList:function(v){for(var r=this.empty(),t=0,m=v.length;t<m;t++)t&&r.add(","),r.add(d(v[t],this));return r},generateArray:function(v){v=this.generateList(v);v.prepend("[");v.add("]");return v}};b["default"]=g;a.exports=b["default"]}])});
(function(a,b){"function"===typeof define&&define.amd?define(b):"object"===typeof exports?module.exports=b():a.NProgress=b()})(this,function(){function a(m,u,h){return m<u?u:m>h?h:m}function b(m,u,h){m="translate3d"===v.positionUsing?{transform:"translate3d("+100*(-1+m)+"%,0,0)"}:"translate"===v.positionUsing?{transform:"translate("+100*(-1+m)+"%,0)"}:{"margin-left":100*(-1+m)+"%"};m.transition="all "+u+"ms "+h;return m}function c(m,u){return 0<=("string"==typeof m?m:k(m)).indexOf(" "+u+" ")}function d(m,
u){var h=k(m),f=h+u;c(h,u)||(m.className=f.substring(1))}function g(m,u){var h=k(m);c(m,u)&&(u=h.replace(" "+u+" "," "),m.className=u.substring(1,u.length-1))}function k(m){return(" "+(m&&m.className||"")+" ").replace(/\s+/gi," ")}var q={version:"0.2.0"},v=q.settings={minimum:.08,easing:"linear",positionUsing:"",speed:350,trickle:!0,trickleSpeed:250,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};
q.configure=function(m){var u;for(u in m){var h=m[u];void 0!==h&&m.hasOwnProperty(u)&&(v[u]=h)}return this};q.status=null;q.set=function(m){var u=q.isStarted();m=a(m,v.minimum,1);q.status=1===m?null:m;var h=q.render(!u),f=h.querySelector(v.barSelector),l=v.speed,e=v.easing;h.offsetWidth;r(function(n){""===v.positionUsing&&(v.positionUsing=q.getPositioningCSS());t(f,b(m,l,e));1===m?(t(h,{transition:"none",opacity:1}),h.offsetWidth,setTimeout(function(){t(h,{transition:"all "+l+"ms linear",opacity:0});
setTimeout(function(){q.remove();n()},l)},l)):setTimeout(n,l)});return this};q.isStarted=function(){return"number"===typeof q.status};q.start=function(){q.status||q.set(0);var m=function(){setTimeout(function(){q.status&&(q.trickle(),m())},v.trickleSpeed)};v.trickle&&m();return this};q.done=function(m){return m||q.status?q.inc(.3+.5*Math.random()).set(1):this};q.inc=function(m){var u=q.status;if(!u)return q.start();if(!(1<u))return"number"!==typeof m&&(m=0<=u&&.25>u?(3*Math.random()+3)/100:.25<=u&&
.65>u?3*Math.random()/100:.65<=u&&.9>u?2*Math.random()/100:.9<=u&&.99>u?.005:0),u=a(u+m,0,.994),q.set(u)};q.trickle=function(){return q.inc()};(function(){var m=0,u=0;q.promise=function(h){if(!h||"resolved"===h.state())return this;0===u&&q.start();m++;u++;h.always(function(){u--;0===u?(m=0,q.done()):q.set((m-u)/m)});return this}})();q.render=function(m){if(q.isRendered())return document.getElementById("nprogress");d(document.documentElement,"nprogress-busy");var u=document.createElement("div");u.id=
"nprogress";u.innerHTML=v.template;var h=u.querySelector(v.barSelector),f=m?"-100":100*(-1+(q.status||0));m=document.querySelector(v.parent);t(h,{transition:"all 0 linear",transform:"translate3d("+f+"%,0,0)"});v.showSpinner||(h=u.querySelector(v.spinnerSelector))&&h&&h.parentNode&&h.parentNode.removeChild(h);m!=document.body&&d(m,"nprogress-custom-parent");m.appendChild(u);return u};q.remove=function(){g(document.documentElement,"nprogress-busy");g(document.querySelector(v.parent),"nprogress-custom-parent");
var m=document.getElementById("nprogress");m&&m&&m.parentNode&&m.parentNode.removeChild(m)};q.isRendered=function(){return!!document.getElementById("nprogress")};q.getPositioningCSS=function(){var m=document.body.style,u="WebkitTransform"in m?"Webkit":"MozTransform"in m?"Moz":"msTransform"in m?"ms":"OTransform"in m?"O":"";return u+"Perspective"in m?"translate3d":u+"Transform"in m?"translate":"margin"};var r=function(){function m(){var h=u.shift();h&&h(m)}var u=[];return function(h){u.push(h);1==u.length&&
m()}}(),t=function(){function m(l){return l.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(e,n){return n.toUpperCase()})}function u(l){l=m(l);var e;if(!(e=f[l])){e=l;a:{var n=document.body.style;if(!(l in n))for(var w=h.length,y=l.charAt(0).toUpperCase()+l.slice(1),z;w--;)if(z=h[w]+y,z in n){l=z;break a}}e=f[e]=l}return e}var h=["Webkit","O","Moz","ms"],f={};return function(l,e){var n=arguments;if(2==n.length)for(z in e){var w=e[z];if(void 0!==w&&e.hasOwnProperty(z)){n=l;var y=z;y=u(y);n.style[y]=
w}}else{var z=l;y=n[1];n=n[2];y=u(y);z.style[y]=n}}}();return q});
(function(a,b){"undefined"!==typeof module&&module.exports?"undefined"!==typeof process&&"electron"in process.versions?a.BootstrapDialog=b(a.jQuery):module.exports=b(require("jquery"),require("bootstrap")):"function"===typeof define&&define.amd?define("bootstrap-dialog",["jquery","bootstrap"],function(c){return b(c)}):a.BootstrapDialog=b(a.jQuery)})(this,function(a){var b=a.fn.modal.Constructor,c=function(g,k){b.call(this,g,k)};c.getModalVersion=function(){return"undefined"===typeof a.fn.modal.Constructor.VERSION?
"v3.1":/3\.2\.\d+/.test(a.fn.modal.Constructor.VERSION)?"v3.2":/3\.3\.[1,2]/.test(a.fn.modal.Constructor.VERSION)?"v3.3":"v3.3.4"};c.ORIGINAL_BODY_PADDING=parseInt(a("body").css("padding-right")||0,10);c.METHODS_TO_OVERRIDE={};c.METHODS_TO_OVERRIDE["v3.1"]={};c.METHODS_TO_OVERRIDE["v3.2"]={hide:function(g){g&&g.preventDefault();g=a.Event("hide.bs.modal");this.$element.trigger(g);this.isShown&&!g.isDefaultPrevented()&&(this.isShown=!1,0===this.getGlobalOpenedDialogs().length&&this.$body.removeClass("modal-open"),
this.resetScrollbar(),this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())}};c.METHODS_TO_OVERRIDE["v3.3"]={setScrollbar:function(){var g=c.ORIGINAL_BODY_PADDING;this.bodyIsOverflowing&&this.$body.css("padding-right",g+this.scrollbarWidth)},resetScrollbar:function(){0===
this.getGlobalOpenedDialogs().length&&this.$body.css("padding-right",c.ORIGINAL_BODY_PADDING)},hideModal:function(){this.$element.hide();this.backdrop(a.proxy(function(){0===this.getGlobalOpenedDialogs().length&&this.$body.removeClass("modal-open");this.resetAdjustments();this.resetScrollbar();this.$element.trigger("hidden.bs.modal")},this))}};c.METHODS_TO_OVERRIDE["v3.3.4"]=a.extend({},c.METHODS_TO_OVERRIDE["v3.3"]);c.prototype={constructor:c,getGlobalOpenedDialogs:function(){var g=[];a.each(d.dialogs,
function(k,q){q.isRealized()&&q.isOpened()&&g.push(q)});return g}};c.prototype=a.extend(c.prototype,b.prototype,c.METHODS_TO_OVERRIDE[c.getModalVersion()]);var d=function(g){this.defaultOptions=a.extend(!0,{id:d.newGuid(),buttons:[],data:{},onshow:null,onshown:null,onhide:null,onhidden:null},d.defaultOptions);this.indexedButtons={};this.registeredButtonHotkeys={};this.draggableData={isMouseDown:!1,mouseOffset:{}};this.opened=this.realized=!1;this.initOptions(g);this.holdThisInstance()};d.BootstrapDialogModal=
c;d.NAMESPACE="bootstrap-dialog";d.TYPE_DEFAULT="type-default";d.TYPE_INFO="type-info";d.TYPE_PRIMARY="type-primary";d.TYPE_SUCCESS="type-success";d.TYPE_WARNING="type-warning";d.TYPE_DANGER="type-danger";d.DEFAULT_TEXTS={};d.DEFAULT_TEXTS[d.TYPE_DEFAULT]="Information";d.DEFAULT_TEXTS[d.TYPE_INFO]="Information";d.DEFAULT_TEXTS[d.TYPE_PRIMARY]="Information";d.DEFAULT_TEXTS[d.TYPE_SUCCESS]="Success";d.DEFAULT_TEXTS[d.TYPE_WARNING]="Warning";d.DEFAULT_TEXTS[d.TYPE_DANGER]="Danger";d.DEFAULT_TEXTS.OK=
"OK";d.DEFAULT_TEXTS.CANCEL="Cancel";d.DEFAULT_TEXTS.CONFIRM="Confirmation";d.SIZE_NORMAL="size-normal";d.SIZE_SMALL="size-small";d.SIZE_WIDE="size-wide";d.SIZE_LARGE="size-large";d.BUTTON_SIZES={};d.BUTTON_SIZES[d.SIZE_NORMAL]="";d.BUTTON_SIZES[d.SIZE_SMALL]="";d.BUTTON_SIZES[d.SIZE_WIDE]="";d.BUTTON_SIZES[d.SIZE_LARGE]="btn-lg";d.ICON_SPINNER="glyphicon glyphicon-asterisk";d.defaultOptions={type:d.TYPE_PRIMARY,size:d.SIZE_NORMAL,cssClass:"",title:null,message:null,nl2br:!0,closable:!0,closeByBackdrop:!0,
closeByKeyboard:!0,spinicon:d.ICON_SPINNER,autodestroy:!0,draggable:!1,animate:!0,description:"",tabindex:-1};d.configDefaultOptions=function(g){d.defaultOptions=a.extend(!0,d.defaultOptions,g)};d.dialogs={};d.openAll=function(){a.each(d.dialogs,function(g,k){k.open()})};d.closeAll=function(){a.each(d.dialogs,function(g,k){k.close()})};d.getDialog=function(g){var k=null;"undefined"!==typeof d.dialogs[g]&&(k=d.dialogs[g]);return k};d.setDialog=function(g){return d.dialogs[g.getId()]=g};d.addDialog=
function(g){return d.setDialog(g)};d.moveFocus=function(){var g=null;a.each(d.dialogs,function(k,q){q.isRealized()&&q.isOpened()&&(g=q)});null!==g&&g.getModal().focus()};d.METHODS_TO_OVERRIDE={};d.METHODS_TO_OVERRIDE["v3.1"]={handleModalBackdropEvent:function(){this.getModal().on("click",{dialog:this},function(g){g.target===this&&g.data.dialog.isClosable()&&g.data.dialog.canCloseByBackdrop()&&g.data.dialog.close()});return this},updateZIndex:function(){var g=0;a.each(d.dialogs,function(v,r){r.isRealized()&&
r.isOpened()&&g++});var k=this.getModal(),q=k.data("bs.modal").$backdrop;k.css("z-index",1050+20*(g-1));q.css("z-index",1040+20*(g-1));return this},open:function(){!this.isRealized()&&this.realize();this.getModal().modal("show");this.updateZIndex();return this}};d.METHODS_TO_OVERRIDE["v3.2"]={handleModalBackdropEvent:d.METHODS_TO_OVERRIDE["v3.1"].handleModalBackdropEvent,updateZIndex:d.METHODS_TO_OVERRIDE["v3.1"].updateZIndex,open:d.METHODS_TO_OVERRIDE["v3.1"].open};d.METHODS_TO_OVERRIDE["v3.3"]=
{};d.METHODS_TO_OVERRIDE["v3.3.4"]=a.extend({},d.METHODS_TO_OVERRIDE["v3.1"]);d.prototype={constructor:d,initOptions:function(g){this.options=a.extend(!0,this.defaultOptions,g);return this},holdThisInstance:function(){d.addDialog(this);return this},initModalStuff:function(){this.setModal(this.createModal()).setModalDialog(this.createModalDialog()).setModalContent(this.createModalContent()).setModalHeader(this.createModalHeader()).setModalBody(this.createModalBody()).setModalFooter(this.createModalFooter());
this.getModal().append(this.getModalDialog());this.getModalDialog().append(this.getModalContent());this.getModalContent().append(this.getModalHeader()).append(this.getModalBody()).append(this.getModalFooter());return this},createModal:function(){var g=a('<div class="modal" role="dialog" aria-hidden="true"></div>');g.prop("id",this.getId());g.attr("aria-labelledby",this.getId()+"_title");return g},getModal:function(){return this.$modal},setModal:function(g){this.$modal=g;return this},createModalDialog:function(){return a('<div class="modal-dialog"></div>')},
getModalDialog:function(){return this.$modalDialog},setModalDialog:function(g){this.$modalDialog=g;return this},createModalContent:function(){return a('<div class="modal-content"></div>')},getModalContent:function(){return this.$modalContent},setModalContent:function(g){this.$modalContent=g;return this},createModalHeader:function(){return a('<div class="modal-header"></div>')},getModalHeader:function(){return this.$modalHeader},setModalHeader:function(g){this.$modalHeader=g;return this},createModalBody:function(){return a('<div class="modal-body"></div>')},
getModalBody:function(){return this.$modalBody},setModalBody:function(g){this.$modalBody=g;return this},createModalFooter:function(){return a('<div class="modal-footer"></div>')},getModalFooter:function(){return this.$modalFooter},setModalFooter:function(g){this.$modalFooter=g;return this},createDynamicContent:function(g){g="function"===typeof g?g.call(g,this):g;"string"===typeof g&&(g=this.formatStringContent(g));return g},formatStringContent:function(g){return this.options.nl2br?g.replace(/\r\n/g,
"<br />").replace(/[\r\n]/g,"<br />"):g},setData:function(g,k){this.options.data[g]=k;return this},getData:function(g){return this.options.data[g]},setId:function(g){this.options.id=g;return this},getId:function(){return this.options.id},getType:function(){return this.options.type},setType:function(g){this.options.type=g;this.updateType();return this},updateType:function(){if(this.isRealized()){var g=[d.TYPE_DEFAULT,d.TYPE_INFO,d.TYPE_PRIMARY,d.TYPE_SUCCESS,d.TYPE_WARNING,d.TYPE_DANGER];this.getModal().removeClass(g.join(" ")).addClass(this.getType())}return this},
getSize:function(){return this.options.size},setSize:function(g){this.options.size=g;this.updateSize();return this},updateSize:function(){if(this.isRealized()){var g=this;this.getModal().removeClass(d.SIZE_NORMAL).removeClass(d.SIZE_SMALL).removeClass(d.SIZE_WIDE).removeClass(d.SIZE_LARGE);this.getModal().addClass(this.getSize());this.getModalDialog().removeClass("modal-sm");this.getSize()===d.SIZE_SMALL&&this.getModalDialog().addClass("modal-sm");this.getModalDialog().removeClass("modal-lg");this.getSize()===
d.SIZE_WIDE&&this.getModalDialog().addClass("modal-lg");a.each(this.options.buttons,function(k,q){k=g.getButton(q.id);var v=["btn-lg","btn-sm","btn-xs"],r=!1;"string"===typeof q.cssClass&&(q=q.cssClass.split(" "),a.each(q,function(t,m){-1!==a.inArray(m,v)&&(r=!0)}));r||(k.removeClass(v.join(" ")),k.addClass(g.getButtonSize()))})}return this},getCssClass:function(){return this.options.cssClass},setCssClass:function(g){this.options.cssClass=g;return this},getTitle:function(){return this.options.title},
setTitle:function(g){this.options.title=g;this.updateTitle();return this},updateTitle:function(){if(this.isRealized()){var g=null!==this.getTitle()?this.createDynamicContent(this.getTitle()):this.getDefaultText();this.getModalHeader().find("."+this.getNamespace("title")).html("").append(g).prop("id",this.getId()+"_title")}return this},getMessage:function(){return this.options.message},setMessage:function(g){this.options.message=g;this.updateMessage();return this},updateMessage:function(){if(this.isRealized()){var g=
this.createDynamicContent(this.getMessage());this.getModalBody().find("."+this.getNamespace("message")).html("").append(g)}return this},isClosable:function(){return this.options.closable},setClosable:function(g){this.options.closable=g;this.updateClosable();return this},setCloseByBackdrop:function(g){this.options.closeByBackdrop=g;return this},canCloseByBackdrop:function(){return this.options.closeByBackdrop},setCloseByKeyboard:function(g){this.options.closeByKeyboard=g;return this},canCloseByKeyboard:function(){return this.options.closeByKeyboard},
isAnimate:function(){return this.options.animate},setAnimate:function(g){this.options.animate=g;return this},updateAnimate:function(){this.isRealized()&&this.getModal().toggleClass("fade",this.isAnimate());return this},getSpinicon:function(){return this.options.spinicon},setSpinicon:function(g){this.options.spinicon=g;return this},addButton:function(g){this.options.buttons.push(g);return this},addButtons:function(g){var k=this;a.each(g,function(q,v){k.addButton(v)});return this},getButtons:function(){return this.options.buttons},
setButtons:function(g){this.options.buttons=g;this.updateButtons();return this},getButton:function(g){return"undefined"!==typeof this.indexedButtons[g]?this.indexedButtons[g]:null},getButtonSize:function(){return"undefined"!==typeof d.BUTTON_SIZES[this.getSize()]?d.BUTTON_SIZES[this.getSize()]:""},updateButtons:function(){this.isRealized()&&(0===this.getButtons().length?this.getModalFooter().hide():this.getModalFooter().show().find("."+this.getNamespace("footer")).html("").append(this.createFooterButtons()));
return this},isAutodestroy:function(){return this.options.autodestroy},setAutodestroy:function(g){this.options.autodestroy=g},getDescription:function(){return this.options.description},setDescription:function(g){this.options.description=g;return this},setTabindex:function(g){this.options.tabindex=g;return this},getTabindex:function(){return this.options.tabindex},updateTabindex:function(){this.isRealized()&&this.getModal().attr("tabindex",this.getTabindex());return this},getDefaultText:function(){return d.DEFAULT_TEXTS[this.getType()]},
getNamespace:function(g){return d.NAMESPACE+"-"+g},createHeaderContent:function(){var g=a("<div></div>");g.addClass(this.getNamespace("header"));g.append(this.createTitleContent());g.prepend(this.createCloseButton());return g},createTitleContent:function(){var g=a("<div></div>");g.addClass(this.getNamespace("title"));return g},createCloseButton:function(){var g=a("<div></div>");g.addClass(this.getNamespace("close-button"));var k=a('<button class="close">&times;</button>');g.append(k);g.on("click",
{dialog:this},function(q){q.data.dialog.close()});return g},createBodyContent:function(){var g=a("<div></div>");g.addClass(this.getNamespace("body"));g.append(this.createMessageContent());return g},createMessageContent:function(){var g=a("<div></div>");g.addClass(this.getNamespace("message"));return g},createFooterContent:function(){var g=a("<div></div>");g.addClass(this.getNamespace("footer"));return g},createFooterButtons:function(){var g=this,k=a("<div></div>");k.addClass(this.getNamespace("footer-buttons"));
this.indexedButtons={};a.each(this.options.buttons,function(q,v){v.id||(v.id=d.newGuid());q=g.createButton(v);g.indexedButtons[v.id]=q;k.append(q)});return k},createButton:function(g){var k=a('<button class="btn"></button>');k.prop("id",g.id);k.data("button",g);"undefined"!==typeof g.icon&&""!==a.trim(g.icon)&&k.append(this.createButtonIcon(g.icon));"undefined"!==typeof g.label&&k.append(g.label);"undefined"!==typeof g.cssClass&&""!==a.trim(g.cssClass)?k.addClass(g.cssClass):k.addClass("btn-default");
"undefined"!==typeof g.hotkey&&(this.registeredButtonHotkeys[g.hotkey]=k);k.on("click",{dialog:this,$button:k,button:g},function(q){var v=q.data.dialog,r=q.data.$button,t=r.data("button");t.autospin&&r.toggleSpin(!0);if("function"===typeof t.action)return t.action.call(r,v,q)});this.enhanceButton(k);"undefined"!==typeof g.enabled&&k.toggleEnable(g.enabled);return k},enhanceButton:function(g){g.dialog=this;g.toggleEnable=function(k){"undefined"!==typeof k?this.prop("disabled",!k).toggleClass("disabled",
!k):this.prop("disabled",!this.prop("disabled"));return this};g.enable=function(){this.toggleEnable(!0);return this};g.disable=function(){this.toggleEnable(!1);return this};g.toggleSpin=function(k){var q=this.dialog,v=this.find("."+q.getNamespace("button-icon"));"undefined"===typeof k&&(k=!(0<g.find(".icon-spin").length));k?(v.hide(),g.prepend(q.createButtonIcon(q.getSpinicon()).addClass("icon-spin"))):(v.show(),g.find(".icon-spin").remove());return this};g.spin=function(){this.toggleSpin(!0);return this};
g.stopSpin=function(){this.toggleSpin(!1);return this};return this},createButtonIcon:function(g){var k=a("<span></span>");k.addClass(this.getNamespace("button-icon")).addClass(g);return k},enableButtons:function(g){a.each(this.indexedButtons,function(k,q){q.toggleEnable(g)});return this},updateClosable:function(){this.isRealized()&&this.getModalHeader().find("."+this.getNamespace("close-button")).toggle(this.isClosable());return this},onShow:function(g){this.options.onshow=g;return this},onShown:function(g){this.options.onshown=
g;return this},onHide:function(g){this.options.onhide=g;return this},onHidden:function(g){this.options.onhidden=g;return this},isRealized:function(){return this.realized},setRealized:function(g){this.realized=g;return this},isOpened:function(){return this.opened},setOpened:function(g){this.opened=g;return this},handleModalEvents:function(){this.getModal().on("show.bs.modal",{dialog:this},function(g){var k=g.data.dialog;k.setOpened(!0);if(k.isModalEvent(g)&&"function"===typeof k.options.onshow)return g=
k.options.onshow(k),!1===g&&k.setOpened(!1),g});this.getModal().on("shown.bs.modal",{dialog:this},function(g){var k=g.data.dialog;k.isModalEvent(g)&&"function"===typeof k.options.onshown&&k.options.onshown(k)});this.getModal().on("hide.bs.modal",{dialog:this},function(g){var k=g.data.dialog;k.setOpened(!1);if(k.isModalEvent(g)&&"function"===typeof k.options.onhide)return g=k.options.onhide(k),!1===g&&k.setOpened(!0),g});this.getModal().on("hidden.bs.modal",{dialog:this},function(g){var k=g.data.dialog;
k.isModalEvent(g)&&"function"===typeof k.options.onhidden&&k.options.onhidden(k);k.isAutodestroy()&&(k.setRealized(!1),delete d.dialogs[k.getId()],a(this).remove());d.moveFocus()});this.handleModalBackdropEvent();this.getModal().on("keyup",{dialog:this},function(g){27===g.which&&g.data.dialog.isClosable()&&g.data.dialog.canCloseByKeyboard()&&g.data.dialog.close()});this.getModal().on("keyup",{dialog:this},function(g){var k=g.data.dialog;"undefined"!==typeof k.registeredButtonHotkeys[g.which]&&(g=
a(k.registeredButtonHotkeys[g.which]),!g.prop("disabled")&&g.focus().trigger("click"))});return this},handleModalBackdropEvent:function(){this.getModal().on("click",{dialog:this},function(g){a(g.target).hasClass("modal-backdrop")&&g.data.dialog.isClosable()&&g.data.dialog.canCloseByBackdrop()&&g.data.dialog.close()});return this},isModalEvent:function(g){return"undefined"!==typeof g.namespace&&"bs.modal"===g.namespace},makeModalDraggable:function(){this.options.draggable&&(this.getModalHeader().addClass(this.getNamespace("draggable")).on("mousedown",
{dialog:this},function(g){var k=g.data.dialog;k.draggableData.isMouseDown=!0;var q=k.getModalDialog().offset();k.draggableData.mouseOffset={top:g.clientY-q.top,left:g.clientX-q.left}}),this.getModal().on("mouseup mouseleave",{dialog:this},function(g){g.data.dialog.draggableData.isMouseDown=!1}),a("body").on("mousemove",{dialog:this},function(g){var k=g.data.dialog;k.draggableData.isMouseDown&&k.getModalDialog().offset({top:g.clientY-k.draggableData.mouseOffset.top,left:g.clientX-k.draggableData.mouseOffset.left})}));
return this},realize:function(){this.initModalStuff();this.getModal().addClass(d.NAMESPACE).addClass(this.getCssClass());this.updateSize();this.getDescription()&&this.getModal().attr("aria-describedby",this.getDescription());this.getModalFooter().append(this.createFooterContent());this.getModalHeader().append(this.createHeaderContent());this.getModalBody().append(this.createBodyContent());this.getModal().data("bs.modal",new c(this.getModal(),{backdrop:"static",keyboard:!1,show:!1}));this.makeModalDraggable();
this.handleModalEvents();this.setRealized(!0);this.updateButtons();this.updateType();this.updateTitle();this.updateMessage();this.updateClosable();this.updateAnimate();this.updateSize();this.updateTabindex();return this},open:function(){!this.isRealized()&&this.realize();this.getModal().modal("show");return this},close:function(){!this.isRealized()&&this.realize();this.getModal().modal("hide");return this}};d.prototype=a.extend(d.prototype,d.METHODS_TO_OVERRIDE[c.getModalVersion()]);d.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,
function(g){var k=16*Math.random()|0;return("x"===g?k:k&3|8).toString(16)})};d.show=function(g){return(new d(g)).open()};d.alert=function(g,k){var q={};q={type:d.TYPE_PRIMARY,title:null,message:null,closable:!1,draggable:!1,buttonLabel:d.DEFAULT_TEXTS.OK,callback:null};q="object"===typeof g&&g.constructor==={}.constructor?a.extend(!0,q,g):a.extend(!0,q,{message:g,callback:"undefined"!==typeof k?k:null});return(new d({type:q.type,title:q.title,message:q.message,closable:q.closable,draggable:q.draggable,
data:{callback:q.callback},onhide:function(v){!v.getData("btnClicked")&&v.isClosable()&&"function"===typeof v.getData("callback")&&v.getData("callback")(!1)},buttons:[{label:q.buttonLabel,action:function(v){v.setData("btnClicked",!0);return"function"===typeof v.getData("callback")&&!1===v.getData("callback").call(this,!0)?!1:v.close()}}]})).open()};d.confirm=function(g,k){var q={};q={type:d.TYPE_PRIMARY,title:null,message:null,closable:!1,draggable:!1,btnCancelLabel:d.DEFAULT_TEXTS.CANCEL,btnOKLabel:d.DEFAULT_TEXTS.OK,
btnOKClass:null,callback:null};q="object"===typeof g&&g.constructor==={}.constructor?a.extend(!0,q,g):a.extend(!0,q,{message:g,closable:!1,buttonLabel:d.DEFAULT_TEXTS.OK,callback:"undefined"!==typeof k?k:null});null===q.btnOKClass&&(q.btnOKClass=["btn",q.type.split("-")[1]].join("-"));return(new d({type:q.type,title:q.title,message:q.message,closable:q.closable,draggable:q.draggable,data:{callback:q.callback},buttons:[{label:q.btnCancelLabel,action:function(v){return"function"===typeof v.getData("callback")&&
!1===v.getData("callback").call(this,!1)?!1:v.close()}},{label:q.btnOKLabel,cssClass:q.btnOKClass,action:function(v){return"function"===typeof v.getData("callback")&&!1===v.getData("callback").call(this,!0)?!1:v.close()}}]})).open()};d.warning=function(g,k){return(new d({type:d.TYPE_WARNING,message:g})).open()};d.danger=function(g,k){return(new d({type:d.TYPE_DANGER,message:g})).open()};d.success=function(g,k){return(new d({type:d.TYPE_SUCCESS,message:g})).open()};return d});
(function(a,b){var c=function(l,e){var n={},w;for(w in l)n[w]=e[w]&&0===e[w].length%2?e[w].concat(l[w]):l[w];return n},d=function(l){for(var e={},n=0;n<l.length;n++)e[l[n].toUpperCase()]=l[n];return e},g=function(l,e){return"string"===typeof l?-1!==k(e).indexOf(k(l)):!1},k=function(l){return l.toLowerCase()},q=function(l,e){if("string"===typeof l)return l=l.replace(/^\s\s*/,"").replace(/\s\s*$/,""),"undefined"===typeof e?l:l.substring(0,255)},v=function(l,e){for(var n=0,w,y,z,C,I,K;n<e.length&&!I;){var M=
e[n],O=e[n+1];for(w=y=0;w<M.length&&!I;)if(I=M[w++].exec(l))for(z=0;z<O.length;z++)K=I[++y],C=O[z],"object"===typeof C&&0<C.length?2===C.length?this[C[0]]="function"==typeof C[1]?C[1].call(this,K):C[1]:3===C.length?this[C[0]]="function"!==typeof C[1]||C[1].exec&&C[1].test?K?K.replace(C[1],C[2]):b:K?C[1].call(this,K,C[2]):b:4===C.length&&(this[C[0]]=K?C[3].call(this,K.replace(C[1],C[2])):b):this[C]=K?K:b;n+=2}},r=function(l,e){for(var n in e)if("object"===typeof e[n]&&0<e[n].length)for(var w=0;w<e[n].length;w++){if(g(e[n][w],
l))return"?"===n?b:n}else if(g(e[n],l))return"?"===n?b:n;return l},t={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2E3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},m={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],["version",["name","Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],["version",["name","Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],["name",
"version"],[/opios[\/ ]+([\w\.]+)/i],["version",["name","Opera Mini"]],[/\bopr\/([\w\.]+)/i],["version",["name","Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,
/(weibo)__([\d\.]+)/i],["name","version"],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],["version",["name","UCBrowser"]],[/\bqbcore\/([\w\.]+)/i],["version",["name","WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],["version",["name","WeChat"]],[/konqueror\/([\w\.]+)/i],["version",["name","Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],["version",["name","IE"]],[/yabrowser\/([\w\.]+)/i],["version",["name","Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[["name",/(.+)/,"$1 Secure Browser"],
"version"],[/\bfocus\/([\w\.]+)/i],["version",["name","Firefox Focus"]],[/\bopt\/([\w\.]+)/i],["version",["name","Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],["version",["name","Coc Coc"]],[/dolfin\/([\w\.]+)/i],["version",["name","Dolphin"]],[/coast\/([\w\.]+)/i],["version",["name","Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],["version",["name","MIUI Browser"]],[/fxios\/([-\w\.]+)/i],["version",["name","Firefox"]],[/\bqihu|(qi?ho?o?|360)browser/i],[["name","360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],
[["name",/(.+)/,"$1 Browser"],"version"],[/(comodo_dragon)\/([\w\.]+)/i],[["name",/_/g," "],"version"],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],["name","version"],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],["name"],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[["name","Facebook"],"version"],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],
["name","version"],[/\bgsa\/([\w\.]+) .*safari\//i],["version",["name","GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],["version",["name","Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[["name","Chrome WebView"],"version"],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],["version",["name","Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],["name","version"],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],["version",["name","Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],
["version","name"],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],["name",["version",r,{"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],["name","version"],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[["name","Netscape"],"version"],[/mobile vr; rv:([\w\.]+)\).+firefox/i],["version",["name","Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,
/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],["name","version"]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",k]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],
[["architecture","arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[["architecture","armhf"]],[/windows (ce|mobile); ppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[["architecture",/ower/,"",k]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[["architecture",k]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],
["model",["vendor","Samsung"],["type","tablet"]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],["model",["vendor","Samsung"],["type","mobile"]],[/\((ip(?:hone|od)[\w ]*);/i],["model",["vendor","Apple"],["type","mobile"]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],["model",["vendor","Apple"],["type","tablet"]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],["model",["vendor","Huawei"],["type",
"tablet"]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],["model",["vendor","Huawei"],["type","mobile"]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[["model",/_/g," "],["vendor","Xiaomi"],["type","mobile"]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],
[["model",/_/g," "],["vendor","Xiaomi"],["type","tablet"]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],["model",["vendor","OPPO"],["type","mobile"]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],["model",["vendor","Vivo"],["type","mobile"]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],["model",["vendor","Realme"],["type","mobile"]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],
["model",["vendor","Motorola"],["type","mobile"]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],["model",["vendor","Motorola"],["type","tablet"]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],["model",["vendor","LG"],["type","tablet"]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],["model",["vendor","LG"],["type","mobile"]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],
["model",["vendor","Lenovo"],["type","tablet"]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[["model",/_/g," "],["vendor","Nokia"],["type","mobile"]],[/(pixel c)\b/i],["model",["vendor","Google"],["type","tablet"]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],["model",["vendor","Google"],["type","mobile"]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],["model",["vendor","Sony"],["type","mobile"]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],
[["model","Xperia Tablet"],["vendor","Sony"],["type","tablet"]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],["model",["vendor","OnePlus"],["type","mobile"]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],["model",["vendor","Amazon"],["type","tablet"]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[["model",/(.+)/g,"Fire Phone $1"],["vendor","Amazon"],["type","mobile"]],[/(playbook);[-\w\),; ]+(rim)/i],["model","vendor",["type","tablet"]],
[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],["model",["vendor","BlackBerry"],["type","mobile"]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],["model",["vendor","ASUS"],["type","tablet"]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],["model",["vendor","ASUS"],["type","mobile"]],[/(nexus 9)/i],["model",["vendor","HTC"],["type","tablet"]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],
["vendor",["model",/_/g," "],["type","mobile"]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],["model",["vendor","Acer"],["type","tablet"]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],["model",["vendor","Meizu"],["type","mobile"]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],["model",["vendor","Sharp"],["type","mobile"]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,
/(jolla)/i,/(oppo) ?([\w ]+) bui/i],["vendor","model",["type","mobile"]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],["vendor","model",["type","tablet"]],[/(surface duo)/i],["model",["vendor","Microsoft"],["type","tablet"]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],["model",
["vendor","Fairphone"],["type","mobile"]],[/(u304aa)/i],["model",["vendor","AT&T"],["type","mobile"]],[/\bsie-(\w*)/i],["model",["vendor","Siemens"],["type","mobile"]],[/\b(rct\w+) b/i],["model",["vendor","RCA"],["type","tablet"]],[/\b(venue[\d ]{2,7}) b/i],["model",["vendor","Dell"],["type","tablet"]],[/\b(q(?:mv|ta)\w+) b/i],["model",["vendor","Verizon"],["type","tablet"]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],["model",["vendor","Barnes & Noble"],["type","tablet"]],[/\b(tm\d{3}\w+) b/i],
["model",["vendor","NuVision"],["type","tablet"]],[/\b(k88) b/i],["model",["vendor","ZTE"],["type","tablet"]],[/\b(nx\d{3}j) b/i],["model",["vendor","ZTE"],["type","mobile"]],[/\b(gen\d{3}) b.+49h/i],["model",["vendor","Swiss"],["type","mobile"]],[/\b(zur\d{3}) b/i],["model",["vendor","Swiss"],["type","tablet"]],[/\b((zeki)?tb.*\b) b/i],["model",["vendor","Zeki"],["type","tablet"]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[["vendor","Dragon Touch"],"model",["type","tablet"]],[/\b(ns-?\w{0,9}) b/i],
["model",["vendor","Insignia"],["type","tablet"]],[/\b((nxa|next)-?\w{0,9}) b/i],["model",["vendor","NextBook"],["type","tablet"]],[/\b(xtreme_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[["vendor","Voice"],"model",["type","mobile"]],[/\b(lvtel\-)?(v1[12]) b/i],[["vendor","LvTel"],"model",["type","mobile"]],[/\b(ph-1) /i],["model",["vendor","Essential"],["type","mobile"]],[/\b(v(100md|700na|7011|917g).*\b) b/i],["model",["vendor","Envizen"],["type","tablet"]],[/\b(trio[-\w\. ]+) b/i],["model",["vendor",
"MachSpeed"],["type","tablet"]],[/\btu_(1491) b/i],["model",["vendor","Rotor"],["type","tablet"]],[/(shield[\w ]+) b/i],["model",["vendor","Nvidia"],["type","tablet"]],[/(sprint) (\w+)/i],["vendor","model",["type","mobile"]],[/(kin\.[onetw]{3})/i],[["model",/\./g," "],["vendor","Microsoft"],["type","mobile"]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],["model",["vendor","Zebra"],["type","tablet"]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],["model",["vendor","Zebra"],["type","mobile"]],
[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],["vendor","model",["type","console"]],[/droid.+; (shield) bui/i],["model",["vendor","Nvidia"],["type","console"]],[/(playstation [345portablevi]+)/i],["model",["vendor","Sony"],["type","console"]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],["model",["vendor","Microsoft"],["type","console"]],[/smart-tv.+(samsung)/i],["vendor",["type","smarttv"]],[/hbbtv.+maple;(\d+)/i],[["model",/^/,"SmartTV"],["vendor","Samsung"],["type","smarttv"]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],
[["vendor","LG"],["type","smarttv"]],[/(apple) ?tv/i],["vendor",["model","Apple TV"],["type","smarttv"]],[/crkey/i],[["model","Chromecast"],["vendor","Google"],["type","smarttv"]],[/droid.+aft(\w)( bui|\))/i],["model",["vendor","Amazon"],["type","smarttv"]],[/\(dtv[\);].+(aquos)/i],["model",["vendor","Sharp"],["type","smarttv"]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[["vendor",q],["model",q],["type","smarttv"]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],
[["type","smarttv"]],[/((pebble))app/i],["vendor","model",["type","wearable"]],[/droid.+; (glass) \d/i],["model",["vendor","Google"],["type","wearable"]],[/droid.+; (wt63?0{2,3})\)/i],["model",["vendor","Zebra"],["type","wearable"]],[/(quest( 2)?)/i],["model",["vendor","Facebook"],["type","wearable"]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],["vendor",["type","embedded"]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],["model",["type","mobile"]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],
["model",["type","tablet"]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[["type","tablet"]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[["type","mobile"]],[/(android[-\w\. ]{0,9});.+buil/i],["model",["vendor","Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],["version",["name","EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],["version",["name","Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,
/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],["name","version"],[/rv:([\w\.]{1,9})\b.+(gecko)/i],["version","name"]],os:[[/microsoft (windows) (vista|xp)/i],["name","version"],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],["name",["version",r,t]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[["name","Windows"],["version",r,t]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],
[["version",/_/g,"."],["name","iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[["name","Mac OS"],["version",/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],["version","name"],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],["name","version"],[/\(bb(10);/i],["version",["name","BlackBerry"]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],["version",
["name","Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],["version",["name","Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],["version",["name","webOS"]],[/crkey\/([\d\.]+)/i],["version",["name","Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[["name","Chromium OS"],"version"],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,
/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],["name","version"],[/(sunos) ?([\w\.\d]*)/i],[["name","Solaris"],
"version"],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],["name","version"]]},u=function(l,e){"object"===typeof l&&(e=l,l=b);if(!(this instanceof u))return(new u(l,e)).getResult();var n=l||("undefined"!==typeof a&&a.navigator&&a.navigator.userAgent?a.navigator.userAgent:""),w=e?c(m,e):m;this.getBrowser=function(){var y={};y.name=b;y.version=b;v.call(y,n,w.browser);var z=y.version;z="string"===
typeof z?z.replace(/[^\d\.]/g,"").split(".")[0]:b;y.major=z;return y};this.getCPU=function(){var y={};y.architecture=b;v.call(y,n,w.cpu);return y};this.getDevice=function(){var y={};y.vendor=b;y.model=b;y.type=b;v.call(y,n,w.device);return y};this.getEngine=function(){var y={};y.name=b;y.version=b;v.call(y,n,w.engine);return y};this.getOS=function(){var y={};y.name=b;y.version=b;v.call(y,n,w.os);return y};this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),
os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}};this.getUA=function(){return n};this.setUA=function(y){n="string"===typeof y&&255<y.length?q(y,255):y;return this};this.setUA(n);return this};u.VERSION="0.7.31";u.BROWSER=d(["name","version","major"]);u.CPU=d(["architecture"]);u.DEVICE=d("model vendor type console mobile smarttv tablet wearable embedded".split(" "));u.ENGINE=u.OS=d(["name","version"]);"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=
u),exports.UAParser=u):"function"===typeof define&&define.amd?define(function(){return u}):"undefined"!==typeof a&&(a.UAParser=u);var h="undefined"!==typeof a&&(a.jQuery||a.Zepto);if(h&&!h.ua){var f=new u;h.ua=f.getResult();h.ua.get=function(){return f.getUA()};h.ua.set=function(l){f.setUA(l);l=f.getResult();for(var e in l)h.ua[e]=l[e]}}})("object"===typeof window?window:this);var gei={core:{}};
gei.core.eventBus={eventGroup:{},on:function(a,b,c){var d=this.eventGroup[a];d||(d=[],this.eventGroup[a]=d);d.push({fn:b,scope:c})},fire:function(){var a=Array.prototype.slice.call(arguments,0),b=a.shift(),c=this.eventGroup[b];log("********EventBus fire name\uff1a"+b);if(c)for(b=0;b<c.length;b++){var d=c[b];d.fn.apply(d.scope,a)}},off:function(a,b){var c=this.eventGroup[a];c&&(this.eventGroup[a]=b?c.filter(function(d){return d.fn!=b}):[])},clear:function(){this.eventGroup={}}};
gei.core.onPressEnter=function(a,b){$(a).bind("keydown",function(){"13"==getEvent().keyCode&&b()})};gei.core.equals=function(a,b){if(a===b)return!0;if(!(a instanceof Object&&b instanceof Object)||a.constructor!==b.constructor)return!1;for(var c in a)if(a.hasOwnProperty(c)&&(!b.hasOwnProperty(c)||a[c]!==b[c]&&("object"!==typeof a[c]||!Object.equals(a[c],b[c]))))return!1;for(c in b)if(b.hasOwnProperty(c)&&!a.hasOwnProperty(c))return!1;return!0};var pageCreateTime=(new Date).getTime();
function page(a){}String.prototype.replaceAll=function(a,b){for(var c=this;0<=c.indexOf(a);)c=c.replace(a,b);return c};String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")};String.prototype.ltrim=function(){return this.replace(/(^\s*)/g,"")};String.prototype.rtrim=function(){return this.replace(/(\s*$)/g,"")};function to(a){$('<form target="_blank" method="get"/>').attr("action",a).appendTo("body").submit()}function go(a){window.location.href=a}
function slideTo(a,b){b=b||0;0==a.size()?log("warn: slideTo\u672a\u7ed1\u5b9a\u5bf9\u8c61"):$("html,body").animate({scrollTop:a.offset().top+b},500)}function slideToTop(){$("html,body").animate({scrollTop:0},500)}var _dlogWindowIndex=1;
function dlog(a){if(debugModel){var b=window.screen.availWidth-300,c=$("#debugLogWin");0==c.size()&&(c=$("<div/>").attr("id","debugLogWin").css("border","3px solid red").css("overflow","auto").appendTo($("body")),c.css("position","fixed").css("top",100).css("left",b).css("background-color","white").width(300).height(300));log(a);c.html("("+_dlogWindowIndex++ +") "+a+"<br/>"+c.html())}}function isSpiderVisitFunc(){return"undefined"===typeof isSpiderVisit?!1:isSpiderVisit}
function rendSpanHref(a){a||(a=$("body"));if(isSpiderVisitFunc())return!1;a.find(".js-href").each(function(b,c){b=$(c);c=b.attr("name");c=c.replace(/\|:\|/g,"/").replace(/\|\*\|/g,".");debugModel&&(c=gei.util.urlAddParm(c,"spanHref","true"));b.removeClass("js-href");$("<a/>").attr("href",c).attr("title",b.attr("title")).attr("container",b.attr("container")).attr("scrollTO",b.attr("scrollTO")).attr("pjax",b.attr("pjax")).attr("target",b.attr("target")).attr("class",b.attr("class")).attr("style",b.attr("style")).attr("rel",
b.attr("rel")).attr("id",b.attr("id")).attr("cnt_stat_target_type",b.attr("cnt_stat_target_type")).attr("cnt_stat_target_pkey",b.attr("cnt_stat_target_pkey")).html(b.html()).insertAfter(b);b.remove()})}
function rendPjax(a){a||(a=$("body"));a.find('a[pjax="true"]').each(function(b,c){c=$(c);var d=$(c.attr("container")),g=!1;(b=c.attr("scrollTo")?$(c.attr("scrollTo")):null)&&0<b.size()&&(g=b.position().top-50);$(c).click(function(k){$.support.pjax&&k.preventDefault();$.pjax({url:c.attr("href"),timeout:5E3,scrollTo:g,container:d})})})}gei.core.eventBus.on("Event_pageContentLoadEnd",rendLink);gei.core.eventBus.on("Event_itemDetailLoadSuccess",function(a,b){rendLink(b)});
function rendLink(a){a||(a=$("body"));rendSpanHref(a);rendPjax(a)}function autoReloadImage(){$("img").each(function(a,b){var c=$(b);c.bind("error",function(){_imageErrorTry(c)})})}gei.core.eventBus.on("Event_pageContentLoadEnd",autoReloadImage);var isSendedWarnLog=!1;
function _convertData(a,b){var c=a,d=a;b&&(c=d=$.base64.decode(gei.util.deleteHead(a,imageLazyPrefix)));if(""!=$.trim(c)&&0==c.indexOf("http"))return c;isSendedWarnLog||(reportWarn("isOriginalBase64="+b+",data="+a+",decode="+d,"lazy"),isSendedWarnLog=!0);return assetsUrl+"/site/img/icon/waring-grey.png"}
function _imageErrorTry(a){var b=a.data("errorCount");b||(b=0);b++;a.data("errorCount",b);var c=a.attr("src");a.data("original")&&(c=_convertData(a.data("original"),a.data("is-original-base64")));3>=b?(a.attr("src",assetsUrl+"/site/img/public/blank.png"),a.attr("src",c)):a.attr("src",assetsUrl+"/site/img/icon/waring-grey.png")}function urlAddParm(a,b,c){return a+(-1==a.indexOf("?"))?"?":"&"+b+"="+c}function freshPage(){window.location.href=window.location.href}
function getUUID(){return(new UUID).id}function UUID(){this.id=this.createUUID()}UUID.prototype.valueOf=function(){return this.id};UUID.prototype.toString=function(){return this.id};
UUID.prototype.createUUID=function(){var a=new Date(1582,10,15,0,0,0,0),b=(new Date).getTime()-a.getTime();a=UUID.getIntegerBits(b,0,31);var c=UUID.getIntegerBits(b,32,47);b=UUID.getIntegerBits(b,48,59)+"1";var d=UUID.getIntegerBits(UUID.rand(4095),0,7),g=UUID.getIntegerBits(UUID.rand(4095),0,7),k=UUID.getIntegerBits(UUID.rand(8191),0,7)+UUID.getIntegerBits(UUID.rand(8191),8,15)+UUID.getIntegerBits(UUID.rand(8191),0,7)+UUID.getIntegerBits(UUID.rand(8191),8,15)+UUID.getIntegerBits(UUID.rand(8191),
0,15);return a+c+b+d+g+k};UUID.getIntegerBits=function(a,b,c){a=UUID.returnBase(a,16);for(var d=[],g="",k=0;k<a.length;k++)d.push(a.substring(k,k+1));for(k=Math.floor(b/4);k<=Math.floor(c/4);k++)g=d[k]&&""!=d[k]?g+d[k]:g+"0";return g};UUID.returnBase=function(a,b){return a.toString(b).toUpperCase()};UUID.rand=function(a){return Math.floor(Math.random()*(a+1))};
var browser={versions:function(){var a=navigator.userAgent;return{trident:-1<a.indexOf("Trident"),presto:-1<a.indexOf("Presto"),webKit:-1<a.indexOf("AppleWebKit"),gecko:-1<a.indexOf("Gecko")&&-1==a.indexOf("KHTML"),ios:!!a.match(/(i[^;]+;(U;)? CPU.+Mac OS X)/),android:-1<a.indexOf("Android")||-1<a.indexOf("Linux"),iPhone:-1<a.indexOf("iPhone"),iPad:-1<a.indexOf("iPad"),webApp:-1==a.indexOf("Safari")}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()};
function isIPhoneOrIPad(){return browser.versions.iPhone||browser.versions.iPad}function createFormAndSubmit(a,b,c,d){c=c||"get";d=d||"_self";var g=$("<form>").attr("action",a).attr("method",c).attr("target",d);$.each(b,function(k,q){$("<input>").attr("type","hidden").attr("name",k).val(q).appendTo(g)});g.appendTo($("body"));g.submit();g.remove()}
Date.prototype.format=function(a){var b={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),"S+":this.getMilliseconds()};/(y+)/i.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var c in b)(new RegExp("("+c+")")).test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?b[c]:("00"+b[c]).substr((""+b[c]).length)));return a};gei.log={};
gei.log.ignore={ignoreLogFunctions:[],init:function(){gei.log.ignore.addIgnoreLogFunction(this.ignoreLogByMsg);gei.log.ignore.addIgnoreLogFunction(this.ignoreByJsFile)},addIgnoreLogFunction:function(a){this.ignoreLogFunctions.push(a)},isIgnoreLog:function(a){for(var b=0;b<this.ignoreLogFunctions.length;b++)if(this.ignoreLogFunctions[b](a))return!0;return!1},ignoreLogByMsg:function(a){a=a.message||"";for(var b=["The fetching process for the media resource was aborted by the user agent at the user",
"The operation was aborted","The play() request was interrupted by a call to pause()","The play() request was interrupted by end of playback.","The play() request was interrupted because the media was removed from the document."],c=0;c<b.length;c++)if(-1!=a.indexOf(b[c]))return!0;return!1},ignoreByJsFile:function(a){a=a.jsFile||"";for(var b=["chrome-extension://"],c=0;c<b.length;c++)if(0==a.indexOf(b[c]))return!0;return!1}};gei.log.ignore.init();var _pageErrorReportCount=0;
function log(a){"undefined"!==typeof console&&"undefined"!==typeof console.log&&developModel&&console.log(a)}function logErr(a){"undefined"!==typeof console&&"undefined"!==typeof console.log&&(console.error(a),debugModel&&dlog(a))}var lastErrorMsg="",errorCount=0;
gei.log.sendError=function(a,b,c,d,g){log(arguments);d=d||window.event&&window.event.errorCharacter||0;var k={status:0};k.errorRow=c;k.errorColumn=d;k.jsFile=b;g&&g.stack?(k.stack=g.stack.toString(),k.message=g.toString()):k.message=a;g.message!==lastErrorMsg&&(lastErrorMsg=g.message,errorCount=1);10<=errorCount||(errorCount++,gei.util.jsInterface_jsReportError(k))};window.onerror=gei.log.sendError;
window.addEventListener&&window.addEventListener("unhandledrejection",function(a){if(a.reason&&(!a.reason.stack&&a.reason.message&&gei.log.sendError(a.reason.message,window.location.href,null,null,a.reason.message),a.reason.stack)){var b="",c=/(https?:\/\/[^\s]+)/g.exec(a.reason.stack);null!=c&&0<c.length&&(b=c[0]);var d=b.split(":");c=d[d.length-2];d=d[d.length-1];b=b.slice(0,-c.length-d.length-2);a=a.reason.message;gei.log.sendError(a,b,c,d,a)}},!0);window.onload=function(){gei.util.jsInterface_jsReportError({status:1})};
function reportWarn(a,b,c,d){3<=_pageErrorReportCount||(_pageErrorReportCount++,gei.util.jsInterface_jsReportError({customType:b,customMsg:a,errorRow:c,stack:d,status:0}),dlog("JS ReportWarn : "+a))}function reportWarnImportant(a,b){reportWarn("import warn log:"+a,b)}gei.operateLog={};
gei.operateLog.view={pjaxOldPath:"",recordPjaxPV:function(){$(document.body).on("pjax:beforeSend",function(){gei.operateLog.view.pjaxOldPath=window.location.href}).on("pjax:end",function(){var a=window.location.href;a!==gei.operateLog.view.pjaxOldPath&&gei.ajax({url:"/gei-common/jsonComp/f/d/l/p",type:"POST",data:{page:a}})})}};$(function(){gei.operateLog.view.recordPjaxPV()});gei.util={};gei.util.click=function(a,b){$(a).unbind("click").click(b)};
gei.util.clickFn=function(a,b,c){$(a).unbind("click",b).click(c,b)};gei.util.hover=function(a,b,c){$(a).unbind("mouseenter mouseleave");_.isUndefined(c)?$(a).mouseenter(b):$(a).hover(b,c)};gei.util.hoverFn=function(a,b,c){_.isUndefined(c)?$(a).unbind("mouseenter",b).mouseenter(b):$(a).unbind("mouseenter",b).unbind("mouseleave",c).hover(b,c)};gei.sec=function(a){var b={"'":"&apos;",'"':"&quot;","<":"&lt;",">":"&gt;"};return a=a.replace(/(['")-><&\\\/\.])/g,function(c){return b[c]||c})};
gei.ajax=function(a,b,c){a.dataType||(a.dataType="json");a.success=function(d,g){"json"==a.dataType?ajaxSuccJson(a,d,b,c):b&&b(d)};a.error=function(d,g,k){0!=d.status&&c&&c()};return $.ajax(a)};
function ajaxSuccJson(a,b,c,d){"success"==b.status?c&&c(b):b.errorCode?"needLogin"==b.errorCode?gei.login.pop.loginPop(gei.login.pop.tipMessageOperate):"needVip"==b.errorCode?gei.util.pop({type:BootstrapDialog.TYPE_WARNING,title:"\u5f00\u901aVIP\u4f1a\u5458",message:"\u8be5\u64cd\u4f5c\u9700\u8981VIP\u4f1a\u5458"}):d?d(b):gei.util.alertWarn("\u7cfb\u7edf\u9519\u8bef:"+b.errorCode):d?d(b):reportWarn("ajax\u672a\u5904\u7406\u5f02\u5e38,status="+b.status+" url="+a.url)}
gei.ajaxWithError=function(a,b,c){return gei.ajax(a,b,function(d){gei.util.pop({type:BootstrapDialog.TYPE_DANGER,title:"\u7cfb\u7edf\u51fa\u9519",message:d&&d.message?d.message:"\u7cfb\u7edf\u51fa\u9519\u4e86,\u8bf7\u548c\u7f51\u7ad9\u7ba1\u7406\u5458\u8054\u7cfb"})})};
gei.util.pop=function(a){a=$.extend({cssClass:"",width:500,title:"\u7cfb\u7edf\u63d0\u793a",buttons:[{label:"\u5173\u95ed",action:function(c){c.close()}}]},a);var b=$.extend({},a);b.onshow=function(c){if(!_.isUndefined(a.onshow))a.onshow(c);_.isUndefined(a.width)||c.$modalBody.parent().parent().width(a.width);_.isUndefined(a.dialogBodyCss)||c.$modalBody.attr("style",a.dialogBodyCss);_.isUndefined(a.dialogHeaderClass)||c.$modalHeader.addClass(a.dialogHeaderClass);_.isUndefined(a.dialogContainerClass)||
c.$modalDialog.addClass(a.dialogContainerClass)};return BootstrapDialog.show(b)};gei.util.confirm=function(a,b,c){c=$.extend({type:BootstrapDialog.TYPE_INFO,title:"\u7cfb\u7edf\u63d0\u793a",width:300,message:a,buttons:[{label:"\u786e\u8ba4",cssClass:"btn-primary",action:function(d){d.close();b()}},{label:"\u53d6\u6d88",action:function(d){d.close()}}]},c);gei.util.pop(c)};
gei.util.alertSuccess=function(a,b){b=$.extend({type:BootstrapDialog.TYPE_SUCCESS,title:"\u7cfb\u7edf\u63d0\u793a",width:300,message:a},b);gei.util.pop(b)};gei.util.alertWarn=function(a,b){b=$.extend({type:BootstrapDialog.TYPE_WARNING,title:"\u7cfb\u7edf\u63d0\u793a",width:300,message:a},b);gei.util.pop(b)};
gei.util.uiPopover=function(a,b){var c=$.extend({placement:isMobileSite?"auto-top":"auto-right",trigger:"hover",closeable:!0},b||{});$(a).each(function(d,g){d=$(g);(g=d.attr("data-placement"))&&(c=$.extend(c,{placement:g}));g="";var k=d.attr("data-selector");k&&(g=$(k).html());c=$.extend(c,{content:g});d.webuiPopover(c)})};gei.util.reload=function(){window.location.href=window.location.href};
gei.util.tooltipAutoHide=function(a,b,c){c=c||{};c=$.extend({trigger:"manual",html:!0,placement:"top"},c);a.attr("title",b);a.tooltip(c);a.tooltip("fixTitle");a.tooltip("show");window.setTimeout(function(){a.tooltip("hide")},15E3);var d=null;a.mouseleave(function(){d=setInterval(function(){a.tooltip("hide");clearInterval(d)},3E3)});a.mouseenter(function(){d&&clearInterval(d)})};
gei.util.tipLoading={start:function(a){a&&0<$(a).size()&&$(a).tooltip({title:"\u52a0\u8f7d\u4e2d...",trigger:"manual",container:"body"});$(a).tooltip("show")},done:function(a){a&&0<$(a).size()&&$(a).tooltip("hide")}};gei.util.cnzzPost=function(){};gei.util.arr={join:function(a,b){for(var c="",d=0;d<a.length;d++)c+=a[d]+(d!=a.length-1?b:"");return c}};
gei.util.changeRadioCheckedRed=function(a){a&&0==a.size()||$('input[type="radio"]:checked',a).each(function(b,c){$('input[name="'+$(c).attr("name")+'"]',a).each(function(d,g){$(g).is(":checked")?$(g).parent().css("color","#d9534f"):$(g).parent().css("color","black")})})};
gei.util.dateFormat=function(a,b){var c={"M+":b.getMonth()+1,"d+":b.getDate(),"h+":b.getHours(),"m+":b.getMinutes(),"s+":b.getSeconds(),"q+":Math.floor((b.getMonth()+3)/3),S:b.getMilliseconds()};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(b.getFullYear()+"").substr(4-RegExp.$1.length)));for(var d in c)(new RegExp("("+d+")")).test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?c[d]:("00"+c[d]).substr((""+c[d]).length)));return a};
gei.util.createForm=function(a,b){var c=$("<form/>").appendTo("body");c.attr("action",a);c.attr("method","post");c.attr("target","_blank");c.hide();$.each(b,function(d,g){c.append("<input type='hidden' name='"+d+"' value = '"+g+"'/>")});return c};gei.util.loadCoin=function(a){isLogin&&$(a).html("\u6211\u7684\u94dc\u5e01"+userTotalFundDown)};gei.util.geiEnv=function(){return{operationSys:$.ua.os.name+"/"+$.ua.os.version,userAgent:$.ua.get(),page:window.location.href,browser:$.ua.browser.name,browserVersion:$.ua.browser.version}};
gei.util.jsInterface_jsReportError=function(a){var b={};try{b=gei.util.geiEnv()}catch(c){b.message=c.message}a=$.extend({},b,a||{});gei.log.ignore.isIgnoreLog(a)?console.log("jsLogIgnore",a):$.ajax({url:"/gei-common/jsonComp/f/d/l",type:"POST",data:a,dataType:"json"})};gei.util.CommonException=function(a,b){this.code=a;this.message=b};
gei.util.isEmojiCharacter=function(a){if("undefined"!=typeof a)for(var b=0;b<a.length;b++){var c=a.charCodeAt(b);if(55296<=c&&56319>=c){if(1<a.length){var d=a.charCodeAt(b+1);c=1024*(c-55296)+(d-56320)+65536;if(118784<=c&&128895>=c)return!0}}else if(1<a.length){if(d=a.charCodeAt(b+1),8419==d)return!0}else if(8448<=c&&10239>=c||11013<=c&&11015>=c||10548<=c&&10549>=c||12951<=c&&12953>=c||169==c||174==c||12349==c||12336==c||11093==c||11036==c||11035==c||11088==c)return!0}};
gei.util.load=function(a,b,c,d,g){$(a).load(b,c,function(k,q){_.isEqual(q,"success")?_.isUndefined(d)||d(k):$(a).html(g)})};gei.util.appVersionStd=function(a){if(_.isUndefined(a)||""==a)return"";var b="";a=a.split(".");for(var c=0;c<a.length;c++){for(;10>a[c].length;)a[c]="0"+a[c];b+=a[c]}return b};gei.util.deleteHead=function(a,b){return null==a||null==b?a:0===a.indexOf(b)?a.substring(b.length):a};gei.util.isNullOrUndefined=function(a){return _.isEmpty(a)||_.isNull(a)||_.isUndefined(a)?!0:!1};
gei.util.queryById=function(a,b){b||(b=$("body"));return $("[id="+a+"]",b)};gei.util.eachById=function(a,b,c){gei.util.queryById(a,c).each(function(){b($(this))})};gei.util.formatCount=function(a,b){if(isNaN(a))return"";isNaN(b)&&(b=1);return 9999<a?(a=(a/1E4).toFixed(b),parseFloat(a)+"\u4e07"):parseFloat(a.toFixed(b))};
gei.util.changeCountUi=function(a,b,c){var d=$(a).data("count");isNaN(d)||_.isNull(d)||0>d||(d+=b,$(a).data("count",d),0<d?(b=gei.util.formatCount(d,1),$(a).removeAttr("hidden"),$(a).html(b+c)):($(a).attr("hidden",!0),$(a).html("")))};gei.util.parseQueryUrl2Obj=function(a){var b={},c=a.indexOf("?");-1<c&&(a=a.substring(c+1,a.length));a=a.split("&");for(c=0;c<a.length;c++){var d=a[c].split("=");b[d[0]]=d[1]}return b};
gei.util.urlAddParm=function(a,b,c){var d="",g=a.indexOf("#");0<=g&&(d=a.substr(g,a.length),a=a.substr(0,g));g=0>a.indexOf("?")?"?":"&";return a+g+b+"="+c+d};gei.util.parseUrl2Domain=function(a){return gei.util.isNullOrUndefined(a)||!a.startsWith("http://")&&!a.startsWith("https://")?"":(new URL(a)).hostname};$.browser={};$.browser.mozilla=/firefox/.test(navigator.userAgent.toLowerCase());$.browser.webkit=/webkit/.test(navigator.userAgent.toLowerCase());$.browser.opera=/opera/.test(navigator.userAgent.toLowerCase());
$.browser.msie=/msie/.test(navigator.userAgent.toLowerCase());$.browser.android=/Android/.test(navigator.userAgent.toLowerCase());
var imageUtil={resizeRatio:function(a,b){var c={};b.width>a.width&&b.height>a.height?(c.width=a.width,c.height=a.height):a.width/a.height>b.width/b.height?(c.width=b.width,c.height=b.width/a.width*a.height):(c.height=b.height,c.width=b.height/a.height*a.width);return c},resizeByShort:function(a,b){var c={};a.width/a.height<b.width/b.height?(c.width=b.width,c.height=b.width/a.width*a.height):(c.height=b.height,c.width=b.height/a.height*a.width);return c},reduceRatioByMaxLength:function(a,b,c){var d=
{};c>a&&c>b?(d.width=a,d.height=b):a>=b?(d.width=c,d.height=c/a*b):(d.height=c,d.width=c/b*a);return d}};
$.fn.ajaxRequest=function(a){a||(a={});var b="\u8bf7\u6c42";"query"==a.type?b="\u67e5\u8be2":(a.type="submit",b="\u63d0\u4ea4");var c={type:"post",url:a.url,beforeSubmit:function(){if(a.begin)return a.begin()},success:function(d){messageClose();try{d=$.parseJSON(d)}catch(g){d={status:"error",message:"\u89e3\u6790\u670d\u52a1\u5668\u8fd4\u56de\u7ed3\u679c\u51fa\u9519\uff01"}}"success"==d.status?(a.success&&a.success(d),"delete"==a.type&&pageMessage("\u5220\u9664\u6210\u529f","succuess",1)):"fail"==
d.status?a.fail&&a.fail(d):(pageMessage(b+"\u5931\u8d25\uff1a"+d.message,"error",3),a.error&&a.error(d));a.end&&a.end()},error:function(d){messageClose();pageMessage("\u7cfb\u7edf\u9519\u8bef\uff01 ","error",3);a.error&&a.error(d);a.end&&a.end()}};a.enabelAjaxSubmit?this.ajaxSubmit(c):this.ajaxForm(c)};
(function(a,b,c){a.fn.scrollUp=function(d){a.data(c.body,"scrollUp")||(a.data(c.body,"scrollUp",!0),a.fn.scrollUp.init(d))};a.fn.scrollUp.init=function(d){var g=a.fn.scrollUp.settings=a.extend({},a.fn.scrollUp.defaults,d),k=a("<a/>",{id:g.scrollName,href:"#top",title:g.scrollTitle?g.scrollTitle:g.scrollText}).appendTo("body");g.scrollImg||k.html(g.scrollText);k.css({display:"none",position:"fixed",zIndex:g.zIndex});g.activeOverlay&&a("<div/>",{id:g.scrollName+"-active"}).css({position:"absolute",
top:g.scrollDistance+"px",width:"100%",borderTop:"1px dotted"+g.activeOverlay,zIndex:g.zIndex}).appendTo("body");scrollEvent=a(b).scroll(function(){scrollDis="top"===g.scrollFrom?g.scrollDistance:a(c).height()-a(b).height()-g.scrollDistance;switch(g.animation){case "fade":a(a(b).scrollTop()>scrollDis?k.fadeIn(g.animationInSpeed):k.fadeOut(g.animationOutSpeed));break;case "slide":a(a(b).scrollTop()>scrollDis?k.slideDown(g.animationInSpeed):k.slideUp(g.animationOutSpeed));break;default:a(a(b).scrollTop()>
scrollDis?k.show(0):k.hide(0))}});k.click(function(q){q.preventDefault();a("html, body").animate({scrollTop:0},g.scrollSpeed,g.easingType)})};a.fn.scrollUp.defaults={scrollName:"scrollUp",scrollDistance:300,scrollFrom:"top",scrollSpeed:300,easingType:"linear",animation:"fade",animationInSpeed:200,animationOutSpeed:200,scrollText:"Scroll to top",scrollTitle:!1,scrollImg:!1,activeOverlay:!1,zIndex:2147483647};a.fn.scrollUp.destroy=function(d){a.removeData(c.body,"scrollUp");a("#"+a.fn.scrollUp.settings.scrollName).remove();
a("#"+a.fn.scrollUp.settings.scrollName+"-active").remove();7<=a.fn.jquery.split(".")[1]?a(b).off("scroll",d):a(b).unbind("scroll",d)};a.scrollUp=a.fn.scrollUp})(jQuery,window,document);
(function(a){a.fn.structNav=a.fn.structNav=function(b){var c,d,g,k;init=function(q){opts=a.extend({},a.fn.structNav.defaults,b);a(".struct-nav-fixed").remove();c=a('<div class="struct-nav-fixed-container"></div>');d=a('<div class="struct-nav-fixed"></div>').appendTo(c);g=a('<ul class="struct-nav-fixed-box"></ul>').appendTo(d);opts.rootNavName&&(k=a("<li>").html(opts.rootNavName).addClass("active").appendTo(g),k.click(function(){slideToTop()}),a("<span>:</span>").appendTo(g));var v=0;opts.navGroupEls.each(function(r,
t){var m=a(t);(r=m.attr("struct-nav-name"))?(m.data("struct-nav-index",v),a("<li>").html(r).attr("struct-nav-index",v).appendTo(g).click(function(){slideTo(m,-1*(d.height()+7))}),v++):alert("struct nav group \u8bf7\u8bbe\u7f6e\u5c5e\u6027:struct-nav-name")});c.appendTo(a(q));a.showFixedNav();a(window).scroll(function(){a.showFixedNav()})};a.showFixedNav=function(){var q=a(document).scrollTop();0>opts.navGroupEls.first().position().top-q?d.show():d.hide();var v=k?k:null;opts.navGroupEls.each(function(r,
t){r=a(t);0>r.position().top-d.height()-q&&(v=a('[struct-nav-index="'+r.data("struct-nav-index")+'"]',d))});a("li",d).removeClass("active");v&&v.addClass("active")};this.each(function(){init(a(this))})};a.fn.structNav.defaults={navGroupEls:null,rootNavName:null}})(jQuery);
gei.log.logImageLoadErrorReport={_errorUrlSplit:"^|^",init:function(){setInterval(function(){gei.log.logImageLoadErrorReport._reportError()},5E3)},_reportError:function(){if("undefined"!=typeof prevLoadJs_logImageLoadErrorRecord&&null!=prevLoadJs_logImageLoadErrorRecord&&0!==prevLoadJs_logImageLoadErrorRecord.errorUrlList.length)try{var a=_.uniq(prevLoadJs_logImageLoadErrorRecord.errorDomainList).slice(0,5).join(","),b=_.uniq(prevLoadJs_logImageLoadErrorRecord.errorUrlList).slice(0,5).join(this._errorUrlSplit);
reportWarn(a,"imageLoadError",prevLoadJs_logImageLoadErrorRecord.errorUrlList.length,b)}finally{prevLoadJs_logImageLoadErrorRecord.errorUrlList=[],prevLoadJs_logImageLoadErrorRecord.errorDomainList=[]}}};gei.log.logImageLoadErrorReport.init();
gei.util.searchBar={_params:{searchSubmitFunc:null,searchBarEl:null,searchType:null,isBindSubmitPreview:!1,secondBtnSearchType:null,secondBtnSearchSubmitFunc:null},_state:{tipKeyword:null,tipSearchType:null,isTipSelected:!1},bind:function(a){this._initParamAndState(a);this._bindQBtn();this._bindSearchBtnClick()},_initParamAndState:function(a){this._params.searchBarEl=a.searchBarEl;this._params.searchType=a.searchType;this._params.searchSubmitFunc=a.searchSubmitFunc;this._params.isBindSubmitPreview=
a.isBindSubmitPreview;this._params.secondBtnSearchType=a.secondBtnSearchType;this._params.secondBtnSearchSubmitFunc=a.secondBtnSearchSubmitFunc},_bindQBtn:function(){this._bindInputEnter();this._bindTypeahead()},_bindSearchBtnClick:function(){var a=this;this._getSearchButtonEl().unbind("click").click(function(){a._submitSearch()});this._getSecondBtnSearchEl().unbind("click").click(function(){a._secondBtnSubmitSearch()})},_bindInputEnter:function(){var a=this;this._getQueryInputEl().unbind("keydown").bind("keydown",
function(){a._onInputKeyDown()})},_bindTypeahead:function(){var a=this;this._getQueryInputEl().typeahead("destroy");this._getQueryInputEl().typeahead({hint:!1,highlight:!1,minLength:1},{name:"searchTip",display:"value",limit:100,source:new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("value"),queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:"/gei-search/jsonComp/suggestion/query?type="+this._params.searchType+"&q=%QUERY",wildcard:"%QUERY"}}),templates:{suggestion:function(b){return"ONE_TYPE"===
b.displayType?"<div><span><strong>"+b.value+"</strong></span></div>":"<div><span><strong>"+b.value+'</strong>&nbsp;&nbsp;</span><span style="color: rgba(0,0,0,0.55)">'+b.searchTypeName+"</span></div>"}}});this._getQueryInputEl().unbind("typeahead:cursorchange").bind("typeahead:cursorchange",function(b,c){null==c?a._stateTipClear():(a._stateTipSet(c.value,c.SearchUrl),a._params.isBindSubmitPreview&&a._submitPreview())});this._getQueryInputEl().unbind("typeahead:select").bind("typeahead:select",function(b,
c){a._stateTipSet(c.value,c.SearchUrl);a._submitSearch()});this._getQueryInputEl().unbind("typeahead:close").bind("typeahead:close",function(){a._stateTipClear()})},_onInputKeyDown:function(){"13"!=getEvent().keyCode||this._state.isTipSelected||(this._submitSearch(),this._getQueryInputEl().typeahead("close"))},_genSubmitParam:function(){var a={keyword:this._getBaseKeyword(),searchType:this._params.searchType};this._state.isTipSelected&&(a.keyword=this._state.tipKeyword,a.searchType=this._state.tipSearchType);
return a},_submitSearch:function(){if(this._params.searchSubmitFunc){var a=this._genSubmitParam();a.isPreview=!1;this._params.searchSubmitFunc(a)}},_secondBtnSubmitSearch:function(){if(this._params.secondBtnSearchSubmitFunc){var a=this._genSubmitParam();a.isPreview=!1;a.searchType=this._params.secondBtnSearchType;this._params.secondBtnSearchSubmitFunc(a)}},_submitPreview:function(){if(this._params.searchSubmitFunc){var a=this._genSubmitParam();a.isPreview=!0;this._params.searchSubmitFunc(a)}},_getQueryInputEl:function(){return $("#q",
this._params.searchBarEl)},_getSearchButtonEl:function(){return $('button[name="searchButton"]',this._params.searchBarEl)},_getSecondBtnSearchEl:function(){return $('button[name="secondSearchButton"]',this._params.searchBarEl)},_getBaseKeyword:function(){return this._getQueryInputEl().val().trim()},_stateTipClear:function(){this._state.tipKeyword=null;this._state.tipSearchType=null;this._state.isTipSelected=!1},_stateTipSet:function(a,b){this._state.tipKeyword=a;this._state.tipSearchType=b;this._state.isTipSelected=
!0}};gei.buy={};gei.ui={};gei.creator={};gei.dgallery={};gei.cloudview={};gei.audioPlayerBar={};gei.project={};gei.project.mix={};gei.project.ps={};gei.fastVideo={};var lll1i111lOOO0o00ii1={il0oo0Oli1il1:6};function appDownBtnPopBind(){gei.util.uiPopover(".app-down-qrcode",{closeable:!1})}
$(function(){Messenger.options={extraClasses:"messenger-fixed messenger-on-bottom messenger-on-right",theme:"ice"};appDownBtnPopBind();seoPublishBtnOnClick();showScrollUp&&$.scrollUp({scrollDistance:400,scrollImg:!0});var a=document.referrer;""!=llllttttt&&a&&0!=a.indexOf("http://www.aigei.com")&&0!=a.indexOf("http://m.aigei.com")&&0!=a.indexOf("http://m.11rpg.com")&&0!=a.indexOf("http://www.11rpg.com")&&0!=a.indexOf("http://m.code98.com")&&0!=a.indexOf("http://www.code98.com")&&0!=a.indexOf("http://m.91zai.com")&&
0!=a.indexOf("http://www.91zai.com")&&0!=a.indexOf("http://m.91wei.com")&&0!=a.indexOf("http://www.91wei.com")&&0!=a.indexOf("http://m.4sai.com")&&0!=a.indexOf("http://www.4sai.com")&&0!=a.indexOf("http://localhost")&&$.post("/gei-common/jsonComp/data-get/link/f",{t:llllttttt,r:a,h:location.hash});var b=window.location.hash;if(b&&""!=b){var c=/^#s(\d+)/;b.match(c)&&(c=c.exec(b))&&1<c.length&&(c={shareId:c[1],selfUrl:currentPageUrl},a&&(c.outUrl=a),$.post("/gei-common/jsonComp/data-get/share/f",c));
c=/^#m_(\w+_\d+)/;b.match(c)&&(c=c.exec(b))&&1<c.length&&(c={missionValue:c[1]},a&&(c.outUrl=a),$.post("/gei-common/jsonComp/data-get/mission/f",c))}""!=uuuufffffddd&&uuuufffffddd!=nowDay&&$.post("/gei-trade/jsonComp/data-get/try/u");bindSearchBarByView()});function adjustLinkBlockHeight(){$(".resc-info-href-block").each(function(a,b){a=$(b).parents(".unit-content-main").height();$(b).height(a)})}
function seoPublishBtnOnClick(){$(".publish-title").click(function(){$(this).hasClass("actived")?($(this).removeClass("actived"),$(".publish-link").hide()):($(this).addClass("actived"),$(".publish-link").show())})}gei.core.eventBus.on("Event_pageContentLoadEnd",function(a){"undefined"!=typeof isTipLoginWin&&isTipLoginWin&&(gei.login.pop.loginPop(gei.login.pop.tipMessageDown),isTipLoginWin=!1);commonPageInit();if(isLogin)try{loadUserMarks()}catch(b){}});
function loadUserMarks(){var a=$("input[type='hidden'][name='markUnitKeyHidden']"),b=[];$.each(a,function(c,d){c=$(this).attr("show-mark-play");d=$(this).attr("show-fav");c=$(this).val()+"-"+("false"==c?!1:!0)+"-"+("false"==d?!1:!0);b.push(c)});0!=b.length&&(b=_.uniq(b),$.ajaxSettings.async=!1,$.post("/gei-list/jsonComp/sns/mark/collect",{markKeys:b},function(c){"success"==c.status&&$.each(a,function(d,g){var k=$(this).attr("layout-model"),q=$(this).attr("show-down-time");d=$(this).val();var v=c.data[d];
d=d.split("-");gei.util.eachById("mark-bar-"+d[1]+"-"+d[2],function(r){v?(r.empty(),$.each(v,function(t,m){_.isEqual(m.type,"fav")?(t='<span class="mark-fav-box"><i class="mark-icon-fav"></i><span class="last-time" title="\u6211\u6536\u85cf\u8fc7:'+(m.lastTimeDesc+'">'+m.lastTimeDesc+"</span>"),$(t+"</span>").appendTo(r)):_.isEqual(m.type,"down")?(t='<span class="mark-down-box"><i class="mark-icon-down" title="\u6211\u4e0b\u8f7d\u8fc7:'+(m.lastTimeDesc+'"></i>'),"false"!=q&&(t+='<span class="last-time" title="\u6211\u4e0b\u8f7d\u8fc7:'+
m.lastTimeDesc+'">'+m.lastTimeDesc+"</span>"),$(t+"</span>").appendTo(r)):_.isEqual(m.type,"play")?(t='<span class="mark-play-box"><i class="mark-icon-play"></i><span class="last-time">'+(m.lastTimeDesc+"</span>"),$(t+"</span>").appendTo(r)):_.isEqual(m.type,"note")?(t='<div class="mark-note-box"><i class="mark-icon-note" title="'+(m.content+'"></i>'),t+='<div class="note-content" title="'+m.content+'">'+m.content+"</div>",t+='<span class="note-nopub text-muted '+(m["public"]?"hide":"")+'">(\u79c1)</span>',
$(t+"</div><span>&emsp;</span>").appendTo(r)):(t=_.isEqual(m.type,"bill")?'<span style="padding-right: 10px;color:#993333;"><span class="last-time" title="\u6211\u5151\u6362\u8fc7:'+(m.lastTimeDesc+'">\u6211\u5151\u6362\u8fc7\uff1a'+m.lastTimeDesc+"</span>"):'<span style="padding-right: 10px;color:#993333;"><span class="last-time" title="'+(m.label+":"+m.lastTimeDesc+'">'+m.label+"\uff1a"+m.lastTimeDesc+"</span>"),$(t+"</span>").appendTo(r))}),r.removeClass("mark-bar-"+k+"-empty").addClass("mark-bar-"+
k)):r.remove()})})},"json"),$.ajaxSettings.async=!0)}
function jsInterface_initCopy2Clipboard(){$(".copy-button").each(function(a,b){if("undefined"==typeof ClipboardJS)$(b).hide();else{a=$(b).attr("data-dialog-container");var c={};a&&(c={container:$(a)[0]});b=new ClipboardJS(b,c);b.on("success",function(d){log("Action:"+d.action);log("Text:"+d.text);log("Trigger:"+d.trigger);d.trigger.innerHTML="\u590d\u5236\u6210\u529f";d.clearSelection()});b.on("error",function(d){log("Action:"+d.action);log("Trigger:"+d.trigger)})}})}
function commonPageInit(){$(".prevent-default-event").click(function(b){b.preventDefault();b.stopPropagation();return!1});autoReloadImage();$(".gei-tooltip").tooltip();var a=$(".ad-item");0<a.size()&&a.popover();a=$(".trans-popover");0<a.size()&&a.popover({trigger:"hover",title:"\u7cfb\u7edf\u81ea\u52a8\u7ffb\u8bd1",html:!0,placement:"top"});isLogin&&gei.ajax({url:"/gei-common/ajaxComp/fund/fetch"},function(b){userTotalFundDown=b.userTotalFundDown;gei.core.eventBus.fire("Event_userTotalFundDownUpdate",
userTotalFundDown)});$("#loginTopBar").hover(function(){$("#loginUserInfoDropdownMenu").show()},function(){$("#loginUserInfoDropdownMenu").hide()});a=$(".index-content-container");0<a.size()&&$("body").structNav({navGroupEls:a,rootNavName:structPageRootName});$(".collapse-box").each(function(b,c){c=$(c);b=parseInt(c.attr("data-max-heigth"));c.height()<b+10||(c.css({overflow:"hidden","max-height":b+"px"}),b=$("<span/>").html("\u663e\u793a\u5168\u90e8\u2228"),b.css("color","#999").css("float","right").css("cursor",
"pointer"),b.click(function(){c.css({overflow:"auto","max-height":""});$(this).remove()}),b.insertAfter(c))})}function imageLazy(a){_.isUndefined(a)&&(a=$(document.body));$.fn.lazyload&&$("img",a).filter(".lazy").lazyload({threshold:lazyLoadThreshold})}function popLoginPageLocalDev(){isMobileVisit||isMobileSite?window.location.href="/gei-common/pageComp/admin/user/login/dev":openWindowCenter("/gei-common/pageComp/admin/user/login/dev","\u7528\u6237\u767b\u5f55",710,500)}
function showLicenseInfo(a){gei.util.confirm(function(){var b=$('<div class="container-fluid"></div>');b.load("/gei-common/pageComp/licenseConf/info",{code:a},function(){});return b},function(){},{title:"\u534f\u8bae\u8bf4\u660e",width:700,onshown:function(b){},buttons:[{label:"\u5173\u95ed",action:function(b){b.close()}}]})}function setAjaxIsTipLoginWin(a){"undefined"!=typeof a&&(isTipLoginWin="true"==a?!0:!1)}function getEvent(){return arguments.callee.caller.arguments[0]||window.event}
gei.core.eventBus.on("Event_userLogin",function(){$(".unlogin-hide").removeClass("unlogin-hide");gei.util.eachById("noLoginHideVipStyle",function(a){a.remove()})});gei.core.eventBus.on("Event_userTotalFundDownUpdate",function(a){isLogin&&$("#myCoin").html(a)});gei.core.eventBus.on("Event_itemDetailLoadSuccess",function(a){initToolEditBtnHoverFunc($(a.container))});gei.core.eventBus.on("Event_pageContentLoadEnd",function(a){initToolEditBtnHoverFunc(a)});
initToolEditBtnHoverFunc=function(a){var b=$(".js-tool-edit-btn",a);0!==b.size()&&gei.util.hover(b,function(){b.addClass("open")},function(){b.removeClass("open")})};gei.core.eventBus.on("Event_pageContentLoadEnd",function(a){gei.util.isNullOrUndefined(a)&&(a=$(document.body));gei.itemBoxAjax.loadDownBtn(a);gei.itemBoxAjax.loadFavBtn(a);gei.itemBoxAjax.loadLicenseMark(a);gei.itemBoxAjax.loadVipWithSell(a)});
gei.itemBoxAjax={loadDownBtn:function(a){this._virtualBtnBindEvent($(".js-item-box-down-btn-wrap .js-item-box-down-btn-virtual"));this._loadCommon(a,".js-item-box-down-btn-wrap","/gei-res/ajaxComp/downButton/batch/itemBox",function(b){b=$("<div>").html(b);$(".js-item-box-down-btn",b).each(function(){var c=$(this).attr("itemId"),d=$(this).html();gei.util.eachById("item-box-down-btn-wrap-"+c,function(g){$(g).html(d)},a)})})},loadLicenseMark:function(a){this._loadCommon(a,".js-item-box-license-mark-wrap",
"/gei-res/ajaxComp/licenseMark/batch/itemBox",function(b){b=$("<div>").html(b);$(".js-item-box-license-mark",b).each(function(){var c=$(this).attr("itemId"),d=$(this).html();gei.util.eachById("item-box-license-mark-wrap-"+c,function(g){$(g).html(d)},a)});gei.unitLicense.bindClickAndShowLicenseInfoWin(a)})},loadVipWithSell:function(a){this._loadCommon(a,".js-item-box-vip-with-sell-wrap","/gei-res/ajaxComp/vipWithSell/batch/itemBox",function(b){b=$("<div>").html(b);$(".js-item-box-vip-with-sell",b).each(function(){var c=
$(this).attr("itemId"),d=$(this).html();gei.util.eachById("item-box-vip-with-sell-wrap-"+c,function(g){$(g).html(d)},a)})})},loadFavBtn:function(a){this._virtualBtnBindEvent($(".js-item-box-fav-btn-wrap .js-item-box-fav-btn-virtual"));this._loadCommon(a,".js-item-box-fav-btn-wrap","/gei-res/ajaxComp/favBtn/batch/itemBox",function(b){b=$("<div>").html(b);$(".js-item-box-fav-btn",b).each(function(){var c=$(this).attr("itemId"),d=$(this).html();gei.util.eachById("item-box-fav-btn-wrap-"+c,function(g){$(g).html(d);
var k=$(".fav-btn",$(g));gei.util.click(k,function(){gei.favCommon.bindEvent(k)})},a)})})},_loadCommon:function(a,b,c,d){a=$(b,a).map(function(){return $(this).attr("itemid")}).filter(function(g,k){return!gei.util.isNullOrUndefined(k)}).get();_.isEmpty(a)||(a=_.uniq(a),gei.ajax({url:c,dataType:"html",data:{itemIdList:a}},function(g){d&&d(g)}))},_virtualBtnBindEvent:function(a){a.tooltip({trigger:"manual",placement:"top",title:"\u9875\u9762\u52a0\u8f7d\u4e2d\uff0c\u8bf7\u7a0d\u540e\u518d\u70b9"});
gei.util.click(a,function(){var b=this;$(this).tooltip("show");setTimeout(function(){$(b).tooltip("hide")},2E3)})}};function bindSearchBarByView(){var a=$("#q");0<a.size()&&"view"==a.attr("qplace")&&(a={searchBarEl:$("#searchBar"),isBindSubmitPreview:!1,searchType:$("#searchBtnSite").attr("soSubjectCode"),searchSubmitFunc:function(b){submitSearchSite(b)}},gei.util.searchBar.bind(a));openNoJsSearchBarSubmitClear()}
function openNoJsSearchBarSubmitClear(){var a=$("#searchBar").find("form");0!=a.size()&&(a.find("input[name='type']").remove(),a.after(a.children()),a.remove(),isMobileVisit||$("#q").focus())}
function submitSearchSite(a){var b=a.keyword;b||"undefined"==typeof b||gei.util.isEmojiCharacter(b)&&alert("\u4e0d\u652f\u6301emoj\u8868\u60c5\u641c\u7d22");var c="";a.searchType&&(c=a.searchType);a=$("#searchForm");$('input[name="type"]',a).remove();""!=c&&$('<input name="type" type="hidden">').val(c).appendTo(a);var d={};d.q=b;""!=c&&(d.type=c);c=$("#navSearchUrl");0<c.size()&&(c=c.attr("data-url"))&&""!=c&&(d=$.extend(d,getUrlParams(c)));gei.signal.exec(b,function(){createFormAndSubmit("/s",d,
"get","_blank")})}function getUrlParams(a){if(a){var b={};if(a&&""!=a){var c={};if(a=a.split(";")){for(var d=0;d<a.length;d++){var g=a[d].split("=");g&&(c[g[0]]=g[1])}b=$.extend(b,c)}}return b}}
function dynamicSearch(){function a(b){b.unbind("keydown").bind("keydown",function(){var c=getEvent().keyCode;13!=c&&32!=c||jsInterface_doDynamicSearch(b)})}gei.util.uiPopover(".showPopover",{trigger:"click",onShow:function(b){a(b);$(".keyword",b).focus();$(".input-group-addon",b).unbind("click").bind("click",{tipEl:b},function(c){jsInterface_doDynamicSearch(c.data.tipEl)})}})}
function jsInterface_doDynamicSearch(a){var b=$('input[name="dyKeywords"]',a).val().trim(),c=$('input[name="subjectCode"]',a).val();a=$('input[name="range"]',a).val();b={q:b,type:c,range:a};c=$("#navSearchUrl");0<c.size()&&(c=c.attr("data-url"))&&""!=c&&(b=$.extend(b,getUrlParams(c)));createFormAndSubmit("/s",b,"get","_blank")}$(function(){initMallQueryBtn();bindSearchBarByMall()});function initMallQueryBtn(){$("#mallQueryBtn").unbind("click").click(function(){$("#cp-search").submit()})}
function bindSearchBarByMall(){var a=$("#q");if(0<a.size()&&"mall"==a.attr("qplace")){a=$("#mallSearchBarIsJump").val();var b=$("#mallSearchBarSearchType").val();b="false"==a?gei.search.state.searchPageParam.getType():gei.util.isNullOrUndefined(b)?gei.search.state.constant.SearchTypeAll:b;var c="false"==a?function(d){gei.search.manager.active.doSearchSubmitBySearchBar(d)}:function(d){var g=$("#mallSearchBarJumpUrl").val();window.location.href=g+"?q="+d.keyword};a="false"==a?!0:!1;a={searchBarEl:$("#searchBar"),
isBindSubmitPreview:a,searchType:b,searchSubmitFunc:c};gei.util.searchBar.bind(a)}}
function bindSearchBarBySpace(){var a=$("#q");if(0<a.size()&&"space"==a.attr("qplace")){var b=$("#searchSpaceBtnIsJump").val();a="false"==b?gei.search.state.searchPageParam.getType():null;b="false"==b?function(c){gei.search.manager.active.doSearchSubmitBySearchBar(c)}:function(c){gei.space.work.gotoSpaceSearchPage(c.keyword)};a={searchBarEl:$("#searchBar"),isBindSubmitPreview:!1,searchType:gei.search.state.constant.SearchTypeAll,searchSubmitFunc:function(c){submitSearchSite(c)},secondBtnSearchType:a,
secondBtnSearchSubmitFunc:b};gei.util.searchBar.bind(a)}}$(function(){bindSearchBarBySpace()});gei.baidu={};
gei.baidu.stat={init:function(a){if(!gei.util.isNullOrUndefined(a)){var b=document.createElement("script");b.src=a;a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a)}},statFileGet:function(a){window._hmt=window._hmt||[];var b="\u672a\u77e5",c=-1;$("[js-baidu-stat-trackEvent-category]").each(function(d,g){d=$(g).data("priority");d>c&&(c=d,b=$(g).val())});_hmt.push(["_trackEvent",b,a])}};
$(function(){gei.core.eventBus.on("Event_pageContentLoadEnd",function(){bindDownClick();bindLoadCoinClick()});gei.core.eventBus.on("Event_itemDetailLoadSuccess",function(a){bindDownClick(a.container);bindLoadCoinClick(a.container)})});function bindDownClick(a){$(".js-btn-click-down",a).each(function(){$(this).unbind("click").bind("click",function(){itemFileDown(this,getDropdownBtnTipRender(this))})})}
function bindLoadCoinClick(a){$(".js-btn-click-load-coin",a).each(function(){$(this).unbind("click").bind("click",function(){gei.util.loadCoin(".image-down-dropdown-menu .my-coin")})})}function jsInterface_iframeDown(a){var b=$("#_fileDownloadFrame_");0==b.size()&&(b=$('<iframe id="_fileDownloadFrame_" style="display:none"></iframe> ').appendTo($("body")));b.attr("src",a.url)}function jsInterface_locationHrefDown(a){window.location.href=a.url}
function itemFileDownStop(a,b){a.stopPropagation();a.preventDefault();itemFileDown(b)}function itemFileDown(a,b){var c=$(a).attr("itemId"),d=$(a).attr("item-down-type");c=$("#download-before-tip-item-"+c);isShowDownTip(d,c)?gei.util.confirm(c.val(),function(){},{buttons:[{label:"\u7ee7\u7eed\u4e0b\u8f7d",cssClass:"btn-primary",action:function(g){g.close();itemDownClick(a,b)}},{label:"\u5173\u95ed",action:function(g){g.close()}}],width:450}):itemDownClick(a,b)}
function isShowDownTip(a,b){if(gei.util.isNullOrUndefined(b.val()))return!1;b=b.attr("js_down_tip_ignore_down_types");return gei.util.isNullOrUndefined(b)?!0:-1===b.split(",").indexOf(a)}
function itemFileDownWithFirstDownCheck(a,b,c){if(!$(a).hasClass("disabled")){var d=$(a).attr("itemid"),g=$(a).attr("item-down-type");d=getTokenEl(d,g);d=$(d).attr("rurl");gei.ajax({url:"/gei-common/jsonComp/firstDown/check.json",data:{downType:g,resUrl:d}},function(k){k.isFirstDown&&b?b(a,c):itemFileDown(a,c)});$(a).addClass("disabled");setTimeout(function(){$(a).removeClass("disabled")},3E3)}}
function itemDownClick(a,b){var c=getUUID();gei.core.eventBus.fire("Event_itemDownClick",c,$(a));itemFileGet(a,"down",b,c)}function itemFilePlay(a,b){itemFileGet(a,"play",b)}function itemFilePlayDefine(a,b){null!=getTokenEl(a,b)&&fileDownload(getTokenEl(a,b),"play")}function itemFileGet(a,b,c,d){a=$(a);c=c?$(c):a;var g=a.attr("itemid"),k=a.attr("item-down-type");a=a.attr("rurl");a=getTokenEl(g,k,a);null!=a&&fileDownload(a,b,c,d)}
function getTokenEl(a,b,c){var d="#itemInfoToken_"+b+"_"+a+(c?'[rurl="'+c+'"]':"");return 0==$(d).size()?(reportWarn("\u4e0b\u8f7d\u5931\u8d25\uff01itemId ="+a+",downType ="+b+",rurl ="+c),gei.util.alertWarn("\u4e0b\u8f7d\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u9875\u9762\u540e\u91cd\u8bd5\uff01"),null):$(d).get(0)}function getDropdownBtnTipRender(a){return $(a).parents(".js-dropdownTipRender-container").find(".js-dropdownTipRender").get(0)}function fileDownload(a,b,c,d){fileGet(a,b,c,null,null,d)}
function jsInterface_bakDownload(a,b,c){a=$("#"+a);if(c){var d=$("#downloadUrl_"+b+"_"+c).val();$("#bak_downloadUrl").val(d);$("#bak_bakSev").val(c)}a.attr("action","/f/d/bak/"+b);a.submit()}function bakDownload(a,b,c){jsInterface_bakDownload(a,b,c)}
function loadBakSer(a,b){var c="";$.each(a,function(d,g){c+="<div class='center-block' style='padding: 3px; margin-bottom: 5px;'>";c+="<div class='row' style='margin-bottom: 5px;'>";c+='<div class="input-group">';c+='<input type="text" class="form-control share-text-input" id=\'downloadUrl_'+g.name+"' value='"+g.url+"'><div id='copyButton_"+g.name+"' data-dialog-container='.modal-dialog' data-clipboard-text=\""+g.url+'" class="input-group-addon btn btn-primary copy-button">\u7acb\u5373\u590d\u5236</div>';
c+="</div>";c+="</div>";c+="<div class='row' style='margin-bottom: 10px;'><a type=\"button\" class=\"btn btn-primary btn-lg btn-block\" href='"+g.url+"' target='_blank'>"+b+g.line+"</a></div>";c+="</div>"});return c}
function loadBakSerLine(a,b,c,d){var g="";g+="<div class='center-block'>";$.each(b,function(k,q){g+='<input type="hidden" id=\'downloadUrl_'+a+"_"+q.name+"' value=\""+q.url+'">';g+="<div class='row' style='margin: 5px;'><button type=\"button\" class=\"btn btn-primary btn-lg btn-block\" onclick=\"bakDownload('"+d+"','"+a+"','"+q.name+"');\">"+c+q.line+"</button></div>"});return g+="</div>"}
function loadBakServerList(a,b,c){var d="";0<c.length?(d=d+("<input type=\"hidden\" id='bak_downloadUrl' name='downloadUrl' value=\""+a+"\"><input type=\"hidden\" id='bak_bakSev' name='bakSev' value=\"")+(a+'"><div class="panel panel-default"><div class="panel-heading">\u4e3b\u529b\u4e0b\u8f7d\u533a</div>'),d+='<div class="panel-body">',d+=loadBakSer(c,"\u4e3b\u529b\u4e0b\u8f7d\u533a"),d+="</div>",d+="</div>",bakDownServerEnable&&(d+='<div class="panel panel-default">',d+='<div class="panel-heading">\u5907\u7528\u4e0b\u8f7d\u533a-A</div>',
d+='<div class="panel-body">',d+=loadBakSerLine("bak1",c,"\u5907\u7528\u4e0b\u8f7d\u533aA",b),d+="</div>",d+="</div>",d+='<div class="panel panel-default">',d+='<div class="panel-heading">\u5907\u7528\u4e0b\u8f7d\u533a-B</div>',d+='<div class="panel-body">',d+=loadBakSerLine("bak2",c,"\u5907\u7528\u4e0b\u8f7d\u533aB",b),d+="</div>",d+="</div>")):(d+="<div class='well center-block'>",d+="<div class='row' style='margin-bottom: 10px;'>",d+='<div class="input-group">',d+='<input type="text" class="form-control share-text-input" name=\'downloadUrl\' value="'+
a+"\"><div id='copyButton' data-dialog-container='modal-dialog' data-clipboard-text=\""+a+'" class="input-group-addon btn btn-primary copy-button">\u7acb\u5373\u590d\u5236</div></div></div>',d+="<div class='row' style='margin-bottom: 10px;'><a type=\"button\" class=\"btn btn-primary btn-lg btn-block\" href='"+a+"' target='_blank'>\u4e3b\u529b\u4e0b\u8f7d\u70b9</a></div>",bakDownServerEnable&&(d+="<div class='row' style='margin-bottom: 10px;'><button type=\"button\" class=\"btn btn-primary btn-lg btn-block\" onclick=\"bakDownload('"+
b+"','bak1');\">\u5907\u7528\u4e0b\u8f7d\u70b91</button></div>",d+="<div class='row' style='margin-bottom: 10px;'><button type=\"button\" class=\"btn btn-primary btn-lg btn-block\" onclick=\"bakDownload('"+b+"','bak2');\">\u5907\u7528\u4e0b\u8f7d\u70b92</button></div>"),d+="</div>");$("#"+b).empty().html(d);jsInterface_initCopy2Clipboard()}
function moreDownload(a){gei.util.pop({title:"\u5907\u7528\u4e0b\u8f7d",width:500,message:"<form id='bakdownloadForm' method='post' target=\"_blank\"><div>\u6b63\u5728\u52a0\u8f7d\u53ef\u7528\u5907\u9009\u670d\u52a1\u5668\u5217\u8868</div></form>",buttons:[],onshown:function(b){$.post("/gei-common/jsonComp/f/d/bak-list",{url:a},function(c){"error"==c.status?$("#bakdownloadForm").empty().html(c.message):c.bakServerList?loadBakServerList(a,"bakdownloadForm",c.bakServerList):$("#bakdownloadForm").empty().html("\u52a0\u8f7d\u5907\u9009\u670d\u52a1\u5668\u5217\u8868\u5931\u8d25, \u8bf7\u8054\u7cfb\u7ba1\u7406\u5458!")},
"json")}})}function directDownloadTip(a,b){var c=b.message,d=b.consumeFundValue.value,g=b.consumeFundRemain,k=b.consumeFundName;b=b.consumeFundIsTip;g=Math.floor(g);c="\u6ca1\u81ea\u52a8\u4e0b\u8f7d? <b><span class='link-style' onclick=\"moreDownload('"+c+"');\">\u5907\u7528\u4e0b\u8f7d\u70b9</span></b>";isFundTip&&b&&(c+="<br/>",0!=d&&(c+=k+d+" ,\u4f59\u989d "+g));gei.util.tooltipAutoHide(a,c,{placement:"top"})}var _curFileDownOpts,fIsCached=null;
function fget(a){var b=(new Date).getTime()-pageCreateTime;24<=Math.ceil(b/36E5)&&(window.location.href=window.location.href);b=a.model;var c=a.itemId,d=a.item,g=a.callBack,k=a.type,q=a.rescUrl,v=a.expireTime,r=a.confirm,t=a.token,m=a.pkg,u=a.pkgItems,h=a.saveAs,f=a.resJsCallback,l=a.vcode;_curFileDownOpts=a;var e="/f/d/"+k;q=dfu(k,q,v,t,l,m,h);v="playLog"==b?!0:!1;t="cache"==b?!0:!1;if(fIsCached){if("cache"==b&&fIsCached(c,null))return;if("play"==b&&fIsCached(c,k)){window[g](c);return}}q.isc=t;q.ilg=
v;q.pkgItems=u;q.confirm=r||!1;_.isUndefined(a.focusTipScene)||(q.focusTipScene=a.focusTipScene);_.isUndefined(a.downUuid)||(q.downUuid=a.downUuid);b=cqbj(q);b=$.extend(b,a.gt_captchaResult||{});$.post(e,b,function(n){try{n=$.parseJSON(n)}catch(w){if(g){closeVcodeDialog();window[g](d,a,n);if(f&&window[f])window[f](d,a,n);return}gei.util.pop({type:BootstrapDialog.TYPE_WARNING,message:"\u5f88\u62b1\u6b49,\u7cfb\u7edf\u51fa\u73b0\u4e86\u9519\u8bef,\u6587\u4ef6\u4e0b\u8f7d\u5931\u8d25,\u6211\u4eec\u5df2\u7ecf\u8bb0\u5f55\u4e0b\u9519\u8bef,\u5c06\u4f1a\u5c3d\u5feb\u89e3\u51b3!code=1"});
reportWarn("download server json parse exception! url="+e,"download")}proessResultJson(n,a)})}function downToolTipHidden(){globalCurrentDownloadEl&&(globalCurrentDownloadTipHideInterval&&clearInterval(globalCurrentDownloadTipHideInterval),globalCurrentDownloadEl.tooltip("hide"))}
function proessResultJson(a,b){var c=a.message;"success"==a.status?(closeVcodeDialog(),fileProcess(a,b)):"isLog"==a.status?closeVcodeDialog():"resetVsid"==a.status?gei.util.reload():"vcodeWrong"==a.status?$("#vcodeMessage").html("\u8f93\u5165\u9519\u8bef,\u8bf7\u91cd\u8bd5"):"vcode-normal"==a.status?(closeVcodeDialog(),showVcodeDialog()):"vcode-gt"==a.status?(closeVcodeDialog(),showVcodeGtDialog()):"notEnoughFree"==a.status?(downToolTipHidden(),closeVcodeDialog()):"needLogin"==a.status?(downToolTipHidden(),
closeVcodeDialog(),gei.login.pop.loginPop(a.message)):"needCheckPhone"==a.status?a.parms&&a.parms.userMaskPhone&&""!=a.parms.userMaskPhone?(userBindPhone="true",userMaskPhone=a.parms.userMaskPhone,gei.phone.validateWin.pop("\u8bf7\u9a8c\u8bc1\u624b\u673a\u53f7\u5b8c\u6210\u767b\u5f55")):gei.phone.bindWin.pop("\u7ed1\u5b9a","\u8bf7\u7ed1\u5b9a\u624b\u673a\u53f7\u5b8c\u6210\u767b\u5f55"):"needVip"==a.status?(downToolTipHidden(),closeVcodeDialog(),gei.util.pop({type:BootstrapDialog.TYPE_WARNING,title:"\u5f00\u901aVIP\u4f1a\u5458",
message:c})):"needGoldVip"==a.status?(downToolTipHidden(),closeVcodeDialog(),gei.util.pop({type:BootstrapDialog.TYPE_WARNING,title:"\u5f00\u901a\u91d1\u724cVIP\u4f1a\u5458",message:c})):"needTipConfirm"==a.status?(downToolTipHidden(),closeVcodeDialog(),gei.util.confirm(c,function(){},{title:"\u4e0b\u8f7d\u786e\u8ba4",buttons:[{label:"\u786e\u8ba4",cssClass:"btn-primary",action:function(d){d.close();globalCurrentDownloadEl&&globalCurrentDownloadEl.tooltip("show");_curFileDownOpts.confirm=!0;fget(_curFileDownOpts)}},
{label:"\u53d6\u6d88",action:function(d){d.close()}}]})):"notEnoughCoin"==a.status?(downToolTipHidden(),closeVcodeDialog(),c=gei.util.pop({type:BootstrapDialog.TYPE_WARNING,title:"\u4f59\u989d\u4e0d\u8db3",message:c}),0<$(".share-btn").size()&&(b=$(".share-btn").last().clone(),b.removeClass("pull-right"),b.addClass("btn-small"),b.addClass("btn-link"),c=c.getModalBody(),c=$("#tipPageShareBtn",c),0<c.size()&&c.append(b))):"downloadFailTip"==a.status?(closeVcodeDialog(),gei.util.pop({type:BootstrapDialog.TYPE_WARNING,
title:a.title,message:c,buttons:[{label:"\u786e\u8ba4",action:function(d){d.close()}}]})):"forbidden"==a.status?(closeVcodeDialog(),gei.util.pop({type:BootstrapDialog.TYPE_WARNING,title:"\u7cfb\u7edf\u9519\u8bef",message:c}),reportWarn("download data.status=forbidden data.message="+c,"download")):"downloadServerCrash"==a.status?(downToolTipHidden(),closeVcodeDialog(),gei.util.pop({type:BootstrapDialog.TYPE_WARNING,title:"\u7cfb\u7edf\u9519\u8bef",message:"\u975e\u5e38\u62b1\u6b49\uff0c\u4e0b\u8f7d\u670d\u52a1\u5668\u51fa\u73b0\u4e86\u6545\u969c\uff0c\u8bf7\u7a0d\u540e\u518d\u8fdb\u884c\u4e0b\u8f7d\uff01"})):
"fileNotFound"==a.status?(downToolTipHidden(),closeVcodeDialog(),gei.util.pop({type:BootstrapDialog.TYPE_WARNING,title:"\u7cfb\u7edf\u9519\u8bef",message:c})):"operateCheck"==a.status?(downToolTipHidden(),closeVcodeDialog(),gei.util.pop({type:BootstrapDialog.TYPE_WARNING,title:"\u7cfb\u7edf\u63d0\u793a",message:a.message})):(closeVcodeDialog(),gei.util.pop({type:BootstrapDialog.TYPE_WARNING,title:"\u7cfb\u7edf\u9519\u8bef",message:"\u5f88\u62b1\u6b49,\u7cfb\u7edf\u51fa\u73b0\u4e86\u9519\u8bef,\u6587\u4ef6\u4e0b\u8f7d\u88ab\u963b\u6b62,\u6211\u4eec\u5df2\u7ecf\u8bb0\u5f55\u4e0b\u9519\u8bef,\u5c06\u4f1a\u5c3d\u5feb\u89e3\u51b3!code=3"}),
reportWarn("download server response error data.status:"+a.status+" data.message="+c,"download"));a.pageMessage&&Messenger().post({message:a.pageMessage,type:"",hideAfter:10,showCloseButton:!0})}
function fileProcess(a,b){var c=a.message,d=b.model,g=b.itemId,k=b.fileUuid,q=b.callBack,v=b.resJsCallback;try{c=prest(c),a.message=c}catch(r){reportWarnImportant("decode exception:"+r,"download")}void 0!=a.consumeFundRemain&&a.consumeFundValue&&"down"==a.consumeFundValue.fundType&&(userTotalFundDown=a.consumeFundRemain,gei.core.eventBus.fire("Event_userTotalFundDownUpdate",userTotalFundDown));if("play"==d){if(window[q](g,c,k),v&&window[v])window[v](g,b,c)}else"playLog"!=d&&("cache"==d?gei.core.eventBus.fire("Event_FileDownloadCache",
{itemId:g,message:c,model:d,type:b.type}):"down"==d?(isMobileSite?jsInterface_locationHrefDown({itemId:g,url:c,model:d,type:b.type}):"https:"==document.location.protocol&&"http:"==c.substring(0,5)?(b=mainHostUrl,b=b.replace("https://","http://"),b=b.replace(":7443",":7080"),window.open(b+"/gei-res/pageComp/downloadHttp?url="+encodeURIComponent(encodeURIComponent(c)))):(b=$("#fileDownloadFrame"),0==b.size()&&(b=$('<iframe id="fileDownloadFrame" style="display:none"></iframe> ').appendTo($("body"))),
b.attr("src",c)),globalCurrentDownloadEl&&(globalCurrentDownloadTipHideInterval&&clearInterval(globalCurrentDownloadTipHideInterval),directDownloadTip(globalCurrentDownloadEl,a))):alert("\u672a\u77e5\u7684model="+d))}var globalCurrentDownloadEl=null,globalCurrentDownloadTipHideInterval=null;
function fileGet(a,b,c,d,g,k){gei.util.isNullOrUndefined(b)||gei.baidu.stat.statFileGet(b);if(!_curVcodeDialogShow){var q=$(a);if(0==q.size())reportWarn("fileGet token input \u4e0d\u5b58\u5728","downLoad");else{var v=q.attr("itemid");a={};c=c||q;a.type=q.attr("ftype");a.fileUuid=q.attr("fuid");a.model=b;a.itemId=v;a.item=d;a.rescUrl=q.attr("rurl");a.confirm=q.attr("confirm");a.expireTime=q.attr("extime");a.token=q.attr("token");a.callBack=q.attr("cbk");a.saveAs=q.attr("svs");a.resJsCallback=q.attr("rcbk");
a.custPlayCallBack=g;a.pkg=q.attr("pkg");a.downUuid=k;if("true"==a.pkg){b=$.map($(".pkg-item-chk:checked"),function(r){return $(r).val()});if(0>=b.length){gei.util.alertWarn("\u8bf7\u81f3\u5c11\u9009\u62e9\u4e00\u4e2a\u6587\u4ef6!");return}a.pkgItems=gei.util.arr.join(b,",")}"down"==a.model&&(globalCurrentDownloadEl=c,c.tooltip({title:"\u4e0b\u8f7d\u4e2d...",trigger:"manual",html:!0}),c.tooltip("show"),globalCurrentDownloadTipHideInterval=setInterval(function(){c.tooltip("hide");clearInterval(globalCurrentDownloadTipHideInterval)},
4E3));fget(a)}}}
function itemInfoRow(a,b){$(".unit-container-list",b).each(function(c,d){c=$(d);d=c.find(".unit-container:visible");var g=c.find(".item-info-row");0<g.size()&&(0<c.find(".item-info-row .item-row-container").size()&&"undefined"!==typeof videoManager&&videoManager.destroy(),g.remove());d&&(d.each(function(k,q){0==(k+1)%a&&$(this).after('<div class="item-info-row main-container-screen-search"></div>')}),0!=d.size()%a&&$(d.last()).after('<div class="item-info-row main-container-screen-search"></div>'))})}
function initItemDetailContainerClick(a,b){$(".unit-container").each(function(c,d){c=$("."+a+"-box",$(d));if(0<c.size()){var g=$(".resc-info-bottom-info-name",$(d)).children();g.addClass("cursor hover-link");bindItemDetailElClick($(d),c,b);bindItemDetailElClick($(d),g,b)}})}function bindItemDetailElClick(a,b,c){b.off("click").on("click",function(){var d=a.attr("itemid");toggleItemDetail(a,d,c)})}
function toggleItemDetail(a,b,c){getItemDetailRow(a);a.hasClass("item-info-row-open")?closeItemRowContainer(a.attr("itemid")):openItemRowContainer(a,b,c)}
function openItemRowContainer(a,b,c){var d=getItemDetailRow(a),g=$("#item-row-container-"+b);0==g.size()?(b=$("#itemInfoToken_item_detail_"+b),fileGet(b,null,null,a,c),setTimeout(function(){a.hasClass("item-info-row-open")||d.prepend($('<div class="loading">\u6b63\u5728\u52a0\u8f7d\u8be6\u60c5, \u8bf7\u7a0d\u540e...</div>'))},500)):(a.addClass("item-info-row-open"),closeRowOtherItem(a),g.show(),gei.core.eventBus.fire("Event_itemDetailReopened",g),c&&c(b))}
function callBackItemDetail(a,b,c){$(".item-info-row .loading").remove();var d=getItemDetailRow(a),g=a.attr("itemid");if(!(0<$("#item-row-container-"+g,d).size())){$("<div/>").attr("id","item-row-container-"+g).data("item",a).addClass("item-row-container js-dGallery-container").appendTo(d);a.attr("itemid",g);a.addClass("item-info-row-open");d=getItemDetailRowContainer(g);var k=$(c);closeRowOtherItem(a);k.appendTo(d);a=$("#unitBox_item-"+g);var q=$(".unit-container-list"),v=a.width()/2+a.position().left-
8;q.hasClass("search-body-container")||(v=a.width()/2+a.position().left-8-q.position().left);k.prepend('<div class="arrow-top" style="left: '+v+'px;"></div>');bindFavAndNoteClick();b.custPlayCallBack&&b.custPlayCallBack(g,b,c);gei.core.eventBus.fire("Event_itemDetailLoadSuccess",{itemId:g,container:d})}}function closeItemRowContainer(a){gei.core.eventBus.fire("Event_itemDetailClose",a);getItemDetailRowContainer(a).hide();getItemInfoDiv(a).removeClass("item-info-row-open")}
function getItemInfoDiv(a){return $("div[itemid="+a+"]")}function getItemDetailRow(a){return a.nextAll(".item-info-row:first")}function getItemDetailRowContainer(a){return $("#item-row-container-"+a)}function closeRowOtherItem(a){var b=a.attr("itemid");a=getItemDetailRow(a);$(".item-row-container:visible",a).each(function(c,d){c=$(d).data("item");c.attr("itemid")!=b&&closeItemRowContainer(c.attr("itemid"))})}
gei.ui.uiUtil={searchContainer:".main-container-screen-search .search-container",computeRow:function(){if(isMobileSite)return 2;var a=$(".js-calc-unit-container-col");if(0!=a.length){var b=4;1290<=a.outerWidth()&&(b=5);return b}a=$(".js-calc-unit-container-col-dynamic");return 0!=a.length?Math.floor(a.innerWidth()/$(".unit-container:first",a).outerWidth(!0)):4},maskAdd:function(a){a=$(a);a.css("position","relative");$("<div>").addClass("mask-box").height(a.height()).width(a.width()).prependTo(a)},
maskClear:function(a){$(".mask-box",a).remove()},domChange:function(a,b){var c=$("<span>"),d=$("<span>");c.insertBefore(a);d.insertBefore(b);$(a[0]).insertAfter(d);$(b[0]).insertAfter(c);c.remove();d.remove()},attrChange:function(a,b,c){if(!(_.isUndefined(a)||_.isUndefined(b)||_.isUndefined(c)))for(var d in c){var g=a.attr(c[d]),k=b.attr(c[d]);_.isUndefined(g)||_.isUndefined(k)||(a.attr(c[d],k),b.attr(c[d],g))}},disableDom:function(a){_.isUndefined(a)||0==a.size()||(a.css("pointer-events","none"),
a.attr("disabled","true"))},noDisableDom:function(a){_.isUndefined(a)||0==a.size()||(a.css("pointer-events",""),a.removeAttr("disabled"))},parseInt:function(a,b){return $.isNumeric(a)?parseInt(a):b}};
gei.ui.agentCssPropUtil={_eleProps:[],ElePropVal:function(a,b){this.propName=a;this.value=b},setProps:function(a,b){var c=this;$.each(b,function(d,g){c._recordOldValue(a,g.propName,g.value)});$.each(b,function(d,g){a.css(g.propName,g.value)})},setProp:function(a,b,c){this._recordOldValue(a,b,c);a.css(b,c)},_recordOldValue:function(a,b,c){c=a.css(b);void 0==$(a).data("agentCssProp_src_"+b)&&a.data("agentCssProp_src_"+b,void 0==c?"nvl":c);this._eleProps.push({element:a,propName:b})},recoverAllElementsProps:function(){var a=
this;$.each(a._eleProps,function(b,c){a.recoverProp(c.element,c.propName)});this._eleProps=[]},recoverProp:function(a,b){var c=$(a).data("agentCssProp_src_"+b);void 0!=c&&("nvl"==c?$(a).css(b,""):$(a).css(b,c))},logEleProps:function(){$.each(this._eleProps,function(a,b){log("PropElement:"+b.element);log("PropPropName:"+b.propName)})},removeAllEleProp:function(a,b,c){$.each(b,function(d,g){a.find(g).css(c,"")})}};
gei.ui.Table=function(){this.rows=[];this.colNum=1;this.initByElContainer=function(a,b,c){a=_.map(a,function(d){return $(d)});0<a.length&&(this.colNum=c);this._initByArr(a,this.colNum)};this._initByArr=function(a,b){var c=this;this.colNum=b;var d=0,g=[];$.each(a,function(k,q){g.push(q);d++;d==b&&(c.rows.push(g),d=0,g=[])});0<g.length&&this.rows.push(g)}};gei.ui.lrSameHeight={init:function(a){(new gei.ui.LRSameHeight).init(a)}};
gei.ui.LRSameHeight=function(){this.rightDynamicEl=this.leftDynamicEl=this.rightElList=this.leftElList=this.container=null;this.init=function(a){if(!isMobileSite&&!_.isUndefined(a)){var b=a.attr("js-LRSameHeight-container");_.isUndefined(b)||"false"==b||(this.container=a,a=this.container.data("lrSameHeight"),_.isUndefined(a)&&(this._initEl(),this.container.data("lrSameHeight",this),a=this),a._refreshRealHeight(),a._initRealHeight(),a._sameHeight())}};this._initEl=function(){this.leftElList=this.container.find(".js-LRSameHeight-leftEl");
this.rightElList=this.container.find(".js-LRSameHeight-rightEl");this.leftDynamicEl=this.container.find(".js-LRSameHeight-leftDynamicEl");this.rightDynamicEl=this.container.find(".js-LRSameHeight-rightDynamicEl")};this._initRealHeight=function(){this.leftElList.each(function(a,b){$(b).data("realHeight",$(b).outerHeight(!0))});this.rightElList.each(function(a,b){$(b).data("realHeight",$(b).outerHeight(!0))})};this._sameHeight=function(){var a=0;this.leftElList.each(function(d,g){a+=parseInt($(g).data("realHeight"))});
var b=0;this.rightElList.each(function(d,g){b+=parseInt($(g).data("realHeight"))});var c=Math.abs(a-b);a>b?(c=this.rightDynamicEl.outerHeight()+c,this.rightDynamicEl.outerHeight(c),this.rightDynamicEl.css("max-height",c+"px")):(c=this.leftDynamicEl.outerHeight()+c,this.leftDynamicEl.outerHeight(c),this.leftDynamicEl.css("max-height",c+"px"))};this._refreshRealHeight=function(){this.leftDynamicEl.css("height","");this.leftDynamicEl.css("max-height","");this.rightDynamicEl.css("height","");this.rightDynamicEl.css("max-height",
"")}};
gei.ui.mPicSmartSort={_verticalBoxHeight:320,_blockBoxHeight:240,_verticalTplType:"vtc",_blockTplType:"box",_tplTypeName:"mpic-tpl-type",_tplBoostName:"mpic-boost",_allTplType:["box","vtc"],_isAdvTplAttrName:"js-mPic-isAdvTpl",_isVipAttrName:"js-unit-isVip",_isCpAttrName:"js-unit-isCp",execMPicSmartSort:function(a,b){var c=this,d=$("#searchContainer"),g=c._equalsImageNum();0==d.length||"true"==$("#searchPageIsLayoutRowStyle").val()||g||reportWarn("\u641c\u7d22\u9875\u9762box\u5e03\u5c40\u5b58\u5728\u975e\u4e3b\u56fe\u5185\u5bb9\uff0c\u6ca1\u6709\u8d70\u667a\u80fd\u6392\u7248\u3002");b.find(".unit-container-list").each(function(k,
q){q=$(q);openItemCodeRegion&&c._openItemCodeRegion(q);!_.isUndefined(serConfig.openPageUseMoveVipByAudioRow)&&serConfig.openPageUseMoveVipByAudioRow&&serConfig.openPageUseMoveVipByAudioRowAndSession&&c._moveVipByAudioRow.move(q);0!=q.find(".mpic").length&&(k=new gei.ui.Table,k.initByElContainer(q.find(".unit-container"),q,a),0!=d.length&&g||isMobileSite?(c._smartSort(k),isLogin&&userIsVip||_.isUndefined(serConfig.openPageUseMoveVip)||!serConfig.openPageUseMoveVip&&!serConfig.openPageUseMoveVipBySearchType||
!serConfig.openPageUseMoveVipBySession||c._moveVip.move(k,q)):c._rowSmartSort(k),isMpicBoostDebugContainer&&c._showMPicBoostDebugContainer(k.rows,q))})},_moveVipByAudioRow:{move:function(a){var b=a.find("[js-unit-container-audio-row='true']");if(0!=b.size()){var c=gei.ui.uiUtil.parseInt(serConfig.audioRowPageMoveVipRegionNum,3);b.size()<=c||(b=this._queryRegionUnitArr(b,c),this._moveVipUnitByRegion(a,b))}},_queryRegionUnitArr:function(a,b){for(var c=[],d=a.size(),g=0,k=0;k<d;k++)g>=b&&(g=0),_.isUndefined(c[g])&&
(c[g]=0),c[g]+=1,g++;b=[];for(k=0;k<c.length;k++)b.push(a.slice(0,c[k])),a=a.slice(c[k]);return b},_moveVipUnitByRegion:function(a,b){if(0!=b.length)for(var c=0;c<b.length;c++){var d=b[c];if(0==d.size())break;this._moveVipUnit(a,d,c==b.length-1)}},_moveVipUnit:function(a,b,c){var d=this;b.sort(function(g,k){g=d._findSortNumByUnit($(g));k=d._findSortNumByUnit($(k));return(g-k)*(c?-1:1)});b.detach().appendTo(a)},_findSortNumByUnit:function(a){return gei.ui.mPicSmartSort._isUnitTypeByAttrName(a,gei.ui.mPicSmartSort._isVipAttrName)?
gei.ui.uiUtil.parseInt(serConfig.audioRowPageMoveVipSortNumByVip,0):gei.ui.mPicSmartSort._isUnitTypeByAttrName(a,gei.ui.mPicSmartSort._isCpAttrName)?gei.ui.uiUtil.parseInt(serConfig.audioRowPageMoveVipSortNumByCp,0):gei.ui.uiUtil.parseInt(serConfig.audioRowPageMoveVipSortNumByNormal,0)}},_moveVip:{move:function(a,b){var c=this._queryVipUnit(b);0!=c.size()&&c.size()!=b.find(".unit-container").size()&&(a=this._queryPosUnitByRight(a,b,c.size()),0==a.size()||a.size()!=c.size()?reportWarn("gei.ui.mPicSmartSort._moveVip.move\uff0c\u76ee\u6807\u4f4d\u7f6e\u5546\u54c1\u4e3a\u7a7a\u6216\u8005\u76ee\u6807\u4f4d\u7f6e\u5546\u54c1\u6570\u91cf\u4e0d\u7b49\u4e8eVIP\u6570\u91cf\uff0c\u51fa\u73b0\u5f02\u5e38\u3002"):
this._swapVipUnit(c,a))},_queryVipUnit:function(a){return gei.ui.mPicSmartSort._queryUnitByAttrName(a.find(".unit-container"),gei.ui.mPicSmartSort._isVipAttrName)},_queryPosUnitByRight:function(a,b,c){var d=a.rows;for(a=a.colNum-1;0<=a;a--)for(var g=0;g<d.length;g++)if(!_.isUndefined(d[g][a])){d[g][a].attr("js-moveVip-posUnit","true");var k=b.find(".unit-container[js-moveVip-posUnit='true']");if(k.size()==c)return b.find(".unit-container").removeAttr("js-moveVip-posUnit"),k}return $()},_swapVipUnit:function(a,
b){var c=this._queryUnitArrByAdvTplType(a,gei.ui.mPicSmartSort._blockTplType),d=this._queryUnitArrByAdvTplType(a,gei.ui.mPicSmartSort._verticalTplType);if(c.length+d.length!=a.size())reportWarn("gei.ui.mPicSmartSort._moveVip._swapVipUnit\uff0c\u5c06vip\u5546\u54c1\u548c\u76ee\u6807\u4f4d\u7f6e\u5546\u54c1\u8fdb\u884c\u4ea4\u6362\u529f\u80fd\uff1aBox\u6a21\u677f\u6570\u91cf\u52a0\u4e0avtc\u6a21\u677f\u6570\u91cf\u4e4b\u548c\u4e0d\u7b49\u4e8e\u603b\u5171\u7684VIP\u6570\u91cf\uff0c\u51fa\u73b0\u5f02\u5e38\u3002");
else for(var g=0;g<a.length;g++){var k=this._findVipUnitByPosUnit($(b[g]),c,d);this._notAdvTurnAdvByVipUnitAndPosUnits(k,$(b[g]));this._swapVipUnitAndPosUnit(k,g,b)}},_queryUnitArrByAdvTplType:function(a,b){var c=this;return a.filter(function(){return c._findUseTplTypeByUnit($(this))==b}).toArray()},_findVipUnitByPosUnit:function(a,b,c){a=this._findUseTplTypeByUnit(a);if(a==gei.ui.mPicSmartSort._blockTplType)if(0<b.length){var d=b[0];b.shift()}else d=c[0],c.shift();else a==gei.ui.mPicSmartSort._verticalTplType&&
(0<c.length?(d=c[0],c.shift()):(d=b[0],b.shift()));return $(d)},_notAdvTurnAdvByVipUnitAndPosUnits:function(a,b){var c=this._findUseTplTypeByUnit(a),d=this._findUseTplTypeByUnit(b);c!=d&&(gei.ui.mPicSmartSort._showAdvAndHideOtherTpl(d,a),gei.ui.mPicSmartSort._showAdvAndHideOtherTpl(c,b))},_swapVipUnitAndPosUnit:function(a,b,c){var d=$(c[b]);gei.ui.mPicSmartSort._swapUnit(a,d);a=this._findVipUnitIndexByPosUnits(a,c);-1!=a&&(d=c[a],c[a]=c[b],c[b]=d)},_findVipUnitIndexByPosUnits:function(a,b){var c=
gei.ui.mPicSmartSort._findUnitKeyByUnit(a);return _.findIndex(b,function(d){return gei.ui.mPicSmartSort._findUnitKeyByUnit($(d))==c})},_findUseTplTypeByUnit:function(a){return a.find("["+gei.ui.mPicSmartSort._isAdvTplAttrName+"='true']").attr(gei.ui.mPicSmartSort._tplTypeName)}},_queryUnitByAttrName:function(a,b){var c=this;return a.filter(function(){return c._isUnitTypeByAttrName($(this),b)})},_isUnitTypeByAttrName:function(a,b){return 0!=a.find("["+b+"='true']").size()},_smartSort:function(a){a=
a.rows;this._rowAdjustAdvTemplate(a);this._findDiffNotAdvTurnAdv(a)},_rowSmartSort:function(a){for(var b=0;b<a.rows.length;b++){var c=this._advTemplateCssByCurRow(a.rows[b]);this._adjustUnitAdvTemplateSame(c,a.rows[b])}},_findDiffNotAdvTurnAdv:function(a){for(var b=0;b<a.length;b++){var c=a[b],d=this._advTemplateCssByCurRow(c);this._sortCurRow(d,c);this._adjustUnitAdvTemplateSame(d,c)}},_rowAdjustAdvTemplate:function(a){for(var b=0;b<a.length-1;b++)this._compareAndSwapRows(b,a)},_compareAndSwapRows:function(a,
b){var c=b[a],d=this._advTemplateCssByCurRow(c);this._sortCurRow(d,c);for(a+=1;a<b.length;a++)this._swapAdvTemplate(d,c,b[a])},_swapAdvTemplate:function(a,b,c){var d=this._getTplNumsByTyle(a,b,!1);a=this._getTplNumsByTyle(a,c,!0);for(var g=d.length>=a.length?a:d,k,q=0;q<g.length;q++)this._swapUnit(b[d[q]],c[a[q]]),k=b[d[q]],b[d[q]]=c[a[q]],c[a[q]]=k},_getTplNumsByTyle:function(a,b,c){var d=[],g=[],k=this;$.each(b,function(q,v){k._isShowByTplType(a,v)?d.push(q):g.push(q)});return c?d:g},_adjustUnitAdvTemplateSame:function(a,
b){var c=this;$.each(b,function(d,g){if(!c._isMpicUnitBox(g)||c._isShowByTplType(a,b[d]))return!0;0<c._getBoostByTplType(a,g)?c._showAdvAndHideOtherTpl(a,g):c._notAdvTurnAdvByCss(a,g);gei.core.eventBus.fire("Event_mPicNotAdvTransAdv",c._getMpicTplByType(_.without(c._allTplType,a),b[d]),c._getMpicTplByType(a,b[d]))})},_showAdvAndHideOtherTpl:function(a,b){var c=this,d=c._getMpicTplByType(a,b);d.css("display","block");d.attr(c._isAdvTplAttrName,"true");$.each(_.without(c._allTplType,a),function(g,k){g=
c._getMpicTplByType(k,b);g.css("display","none");g.attr(c._isAdvTplAttrName,"false")})},_notAdvTurnAdvByCss:function(a,b){this._getMpicTplByType(a,b).attr(this._isAdvTplAttrName,"true");a===this._verticalTplType?this._getMpicTplByType(this._blockTplType,b).attr(this._isAdvTplAttrName,"false"):(this._getMpicTplByType(this._verticalTplType,b).attr(this._isAdvTplAttrName,"false"),gei.ui.agentCssPropUtil.setProps(this._getMpicTplByType(this._verticalTplType,b),[new gei.ui.agentCssPropUtil.ElePropVal("height",
this._blockBoxHeight+"px"),new gei.ui.agentCssPropUtil.ElePropVal("transform","scale(0.75)"),new gei.ui.agentCssPropUtil.ElePropVal("-webkit-transform","scale(0.75)"),new gei.ui.agentCssPropUtil.ElePropVal("-moz-transform","scale(0.75)"),new gei.ui.agentCssPropUtil.ElePropVal("top","-"+(Math.floor(.25*this._blockBoxHeight/2)-.5)+"px")]))},_advTemplateCssByCurRow:function(a){var b=this,c=0,d=0;$.each(a,function(g,k){if(!b._isMpicUnitBox(k))return!0;c+=b._getBoostByTplType(b._verticalTplType,k);d+=
b._getBoostByTplType(b._blockTplType,k)});return d>=c?this._blockTplType:this._verticalTplType},_getBoostByTplType:function(a,b){return parseInt(this._getMpicTplByType(a,b).attr(this._tplBoostName))},_getMpicTplByType:function(a,b){return $(b[0]).find("["+this._tplTypeName+"='"+a+"']")},_isMpicUnitBox:function(a){return 0!=$(a[0]).find(".mpic").length},_sortCurRow:function(a,b){for(var c=[],d=[],g=0;g<b.length;g++)this._isShowByTplType(a,b[g])?c.push(b[g]):d.push(b[g]);if(c.length!=b.length&&d.length!=
b.length){for(g=d.length-1;0<=g;g--)$(c[c.length-1]).after(d[g]);c=c.concat(d);for(g=0;g<c.length;g++)b[g]=c[g]}},_equalsImageNum:function(){var a=0,b=0;$(".unit-container-list").each(function(c,d){d=$(d);d.find(".mpic")&&(a+=d.find(".mpic").length);b+=d.find(".unit-container").length});return 0<a&&a==b?!0:!1},_isShowByTplType:function(a,b){return!this._getMpicTplByType(a,b).is(":hidden")},_swapUnit:function(a,b){gei.ui.uiUtil.domChange(a,b)},_findUnitKeyByUnit:function(a){return a.attr("unit-key")},
_showMPicBoostDebugContainer:function(a,b){$(".mpic-Boost-debug-container",b).remove();var c=this;for(b=0;b<a.length;b++){var d=0,g=0;$.each(a[b],function(q,v){if(!c._isMpicUnitBox(v))return!0;q=c._getBoostByTplType(c._verticalTplType,v);var r=c._getBoostByTplType(c._blockTplType,v);d+=q;g+=r;q=q>r?"box:"+r+"<b> vtc:"+q+"</b>":"<b>box:"+r+"</b> vtc:"+q;$(v[0]).prepend('<div class="mpic-Boost-debug-container"><span>'+q+"</span></div>")});var k=d>g?" sumBox:"+g+"<b> sumVtc:"+d+"</b>":"<b>sumBox:"+g+
"</b> sumVtc:"+d;$(".mpic-Boost-debug-container",a[b][a[b].length-1][0]).append("<span>"+k+"</span>")}},_openItemCodeRegion:function(a){var b=a.find("[js-item-code]");_.isUndefined(b)||0==b.size()||($(".item-code-region",a).remove(),$.each(b,function(){var c=$(this).attr("js-item-code");$(this).prepend('<div class="item-code-region">itemCode\uff1a<span>'+c+"</span></div>")}))}};
gei.ui.adjustUnitRowHeightSameUtil={_autoHeightElSelectors:[".unit-info-row4",".mpic",".unit-content-box",".unit-content-main",".unit-container"],_sameHeightElSelectors:".unit-title .resc-info-bottom-info-name .unit-info-row1 .unit-info-row2 .unit-info-row3 .unit-info-row4 .mpic .unit-content-box .unit-content-main .unit-box-from-row1 .unit-box-from-row2 .unit-container".split(" "),_hideEmptyColSelectors:".unit-info-row1 .unit-info-row2 .unit-info-row3 .unit-info-row4 .unit-box-from-row1 .unit-box-from-row2".split(" "),
execBoxSameHeight:function(a){gei.ui.adjustUnitRowHeightSameUtil._removeAutoUnitElHeight(a);a=gei.ui.adjustUnitRowHeightSameUtil._queryTables();$.each(a,function(b,c){gei.ui.adjustUnitRowHeightSameUtil._rowSetAllElHeightEqMaxBySelect(c);gei.ui.adjustUnitRowHeightSameUtil._rowSetAllElHeightEqMax(c)})},execSameHeight:function(a,b){a=gei.ui.adjustUnitRowHeightSameUtil._queryTables(a,b);$.each(a,function(c,d){gei.ui.adjustUnitRowHeightSameUtil._removeAutoTableElHeight(d);gei.ui.adjustUnitRowHeightSameUtil._rowIfAllColEmptyThenHide(d);
gei.ui.adjustUnitRowHeightSameUtil._rowSetAllElHeightEqMaxBySelect(d);gei.ui.adjustUnitRowHeightSameUtil._rowSetAllElHeightEqMax(d)})},_queryTables:function(a,b){_.isUndefined(b)&&(b=$(document.body));var c=[];b.find(".unit-container-list").each(function(d,g){g=$(g);d=new gei.ui.Table;d.initByElContainer(g.find(".unit-container"),g,void 0==a?gei.ui.uiUtil.computeRow():a);c.push(d)});return c},_removeAutoTableElHeight:function(a){$.each(a.rows,function(b,c){$.each(c,function(d,g){gei.ui.adjustUnitRowHeightSameUtil._removeAutoUnitElHeight(g)})})},
_removeAutoUnitElHeight:function(a){a.css("height","");$.each(gei.ui.adjustUnitRowHeightSameUtil._autoHeightElSelectors,function(b,c){a.find(c).css("height","")})},_rowSetAllElHeightEqMaxBySelect:function(a){$.each(gei.ui.adjustUnitRowHeightSameUtil._sameHeightElSelectors,function(b,c){gei.ui.adjustUnitRowHeightSameUtil._rowSetAllElHeightEqMax(a,c)})},_rowSetAllElHeightEqMax:function(a,b){$.each(a.rows,function(c,d){var g=0;$.each(d,function(k,q){q=b?$(b,q):$(q);k=q.height();q=0<q.size()?q.get(0).offsetHeight:
0;k=q>k?q:k;g=k>g?k:g});$.each(d,function(k,q){k=b?$(b,q):$(q);gei.ui.agentCssPropUtil.setProp(k,"height",g)})})},_rowIfAllColEmptyThenHide:function(a){$.each(gei.ui.adjustUnitRowHeightSameUtil._hideEmptyColSelectors,function(b,c){$.each(a.rows,function(d,g){var k=!1;$.each(g,function(q,v){if(""!=$.trim($(c,v).html()))return k=!0,!1});k||$.each(g,function(q,v){$(c,v).hide()})})})}};gei.core.eventBus.on("Event_pageContentLoadEnd",function(){gei.ui.uiScreenType.calcuMpicScaleIsChange()});
gei.core.eventBus.on("Event_window_resize",function(){gei.ui.uiScreenType.calcuMpicScaleIsChange()});gei.ui.uiScreenType={currentMpicIsScale:null,screenScaleRate:.85,isMpicScale:function(){return isMobileSite?!0:1400<window.innerWidth&&1600>=window.innerWidth},calcuMpicScaleIsChange:function(){if(0!==$(".mpic").size()){var a=null==this.currentMpicIsScale,b=this.isMpicScale();b!==this.currentMpicIsScale&&(this.currentMpicIsScale=b,gei.core.eventBus.fire("Event_mPicScaleChange",a))}}};$(function(){gei.ui.uiManager.initUiManager()});
gei.ui.uiManager={_currentPageColNum:null,initUiManager:function(){$(window).unbind("resize");$(window).resize(function(){gei.core.eventBus.fire("Event_window_resize")});gei.core.eventBus.on("Event_pageContentLoadEnd",function(a){this._currentPageColNum=null;gei.core.eventBus.fire("Event_window_resize",a)});gei.core.eventBus.on("Event_window_resize",function(a){var b=gei.ui.uiUtil.computeRow();b!=this._currentPageColNum&&(gei.core.eventBus.fire("Event_pageContentColNumChange",b,a),this._currentPageColNum=
b)});gei.core.eventBus.on("Event_pageContentColNumChange",function(a,b){gei.ui.uiManager._execMPic(a,b)});gei.core.eventBus.on("Event_mPicScaleChange",function(){gei.ui.adjustUnitRowHeightSameUtil.execSameHeight(gei.ui.uiUtil.computeRow());$(".js-item-detail-container").each(function(a,b){gei.ui.lrSameHeight.init($(b))})})},_cleanMostRightColMarginRight:function(a,b){a=$(".unit-container-list",a);a.each(function(c,d){c=$(d).find(".unit-container:visible");c.removeClass("unit-box-most-right");c.each(function(g,
k){0===(g+1)%b&&$(k).addClass("unit-box-most-right")})});a.css("width","100%")},_execMPic:function(a,b){_.isUndefined(b)&&(gei.ui.agentCssPropUtil.recoverAllElementsProps(),b=$(document.body));isMpicSmartSort&&gei.ui.mPicSmartSort.execMPicSmartSort(a,b);gei.ui.adjustUnitRowHeightSameUtil.execSameHeight(a,b);itemInfoRow(a,b);imageLazy(b);adjustLinkBlockHeight();this._cleanMostRightColMarginRight(b,a)}};gei.win={};
gei.win.open=function(a,b){window.open(a,b);a=getEvent();a.preventDefault?a.preventDefault():a.returnValue=!1};var _lastPopWin=null;function openWindowCenter(a,b,c,d){b=(window.screen.height-30-d)/2;var g=(window.screen.width-10-c)/2;_lastPopWin&&_lastPopWin.close();_lastPopWin=window.open(a,"loginWindow","height="+d+",width="+c+",top="+b+",left="+g)}
function pageMessage(a,b,c){b||(b="info");a='<div class="affix alert alert-'+b+'  message-box opacity90" style="width:300px"><span type="button" class="close" data-dismiss="alert" >\u00d7</span><span > <b>'+a;a+="</b></span></div>";a=$(a);$("body").prepend(a);c&&setTimeout(function(){$(".alert").alert("close")},1E3*c)}function messageClose(){$(".alert").alert("close")}function failAlertTip(a){gei.util.alertWarn(a)}
gei.win.scanQr={_popWin:null,_asyncLogNotifyInterval:null,genInterval:function(a,b,c,d,g){return setInterval(function(){gei.win.scanQr.findOrderStatusAndHandle(a,b,d,g)},c)},findOrderStatusAndHandle:function(a,b,c,d){gei.ajax({url:a,data:{notifyId:b}},function(g){"succ"==g.message?c(g):"fail"==g.message&&d(g)},function(g){d(g)})},pop:function(a){this._asyncLogNotifyInterval&&clearInterval(this._asyncLogNotifyInterval);var b=a.bottomTip,c=a.qrLoadUrl,d=a.qrLoadParam,g=a.successPopTip,k=a.successReload,
q=a.qrNotifyAsyncUrl,v=gei.win.scanQr;v._popWin=gei.util.pop({type:BootstrapDialog.TYPE_INFO,title:a.title,width:a.width||500,message:a.topTip+'<div id="qrcode_container"><h5 class="text-muted" id="bindWx_tip_loading" style="padding: 100px 0 0 50px"><i class="icon-spinner icon-spin icon-2x"></i>&nbsp;&nbsp;&nbsp;&nbsp;\u83b7\u53d6\u4e8c\u7ef4\u7801,\u8bf7\u7a0d\u540e...</h5></div>'+(b?'<div style="padding-left:44px">'+b+"</div>":""),buttons:[],onshown:function(r){gei.ajax({type:"post",url:c,data:d},
function(t){var m=$("#qrcode_container");m.empty();$("<img/>").width(260).attr("src",t.message).appendTo(m);v._asyncLogNotify(q,t.notifyId,1E3,function(){v._popWin&&v._popWin.close();gei.util.alertSuccess(g,{onhidden:function(u){k&&window.location.reload()}})},function(u){v._popWin&&v._popWin.close();u.remark?gei.util.alertWarn(u.remark):u.message?gei.util.alertWarn(u.message):gei.util.alertWarn("\u7cfb\u7edf\u672a\u77e5\u9519\u8bef\uff01")})},function(t){console.log(t);r.close();gei.util.alertWarn("\u8bf7\u6c42\u5931\u8d25:"+
t.message)})},onhidden:function(){v._asyncLogNotifyInterval&&clearInterval(v._asyncLogNotifyInterval)}})},_asyncLogNotify:function(a,b,c,d,g){this._asyncLogNotifyInterval=this.genInterval(a,b,c,d,g)}};
gei.win.bindWx={pop:function(a,b){gei.win.scanQr.pop({title:a,topTip:b?'<div class="font-red-enhance" style="padding: 0 0 6px 60px;">'+b+"</div>":"",bottomTip:"&nbsp;&nbsp;&nbsp;&nbsp;\u5fae\u4fe1\u626b\u4e00\u626b\uff0c\u5173\u6ce8\u7231\u7ed9\u7f51\u516c\u4f17\u53f7",qrLoadUrl:"/gei-common/jsonComp/weixin/qrcode?sence=bind",qrLoadParam:null,successPopTip:"\u7ed1\u5b9a\u6210\u529f",qrNotifyAsyncUrl:"/gei-common/jsonComp/f/async-operate-log/find.json"})}};
gei.win.wxPay={pop:function(a,b){gei.win.scanQr.pop({title:"\u5fae\u4fe1\u652f\u4ed8",topTip:'<div class="weixin-pay-container"><div class="weixin-pay-logo"><div class="weixin-pay-price">\u652f\u4ed8<span style="color: #FF7D29;">'+b+"</span></div></div></div>",bottomTip:'<div class="weixin-pay-text"></div>',qrLoadUrl:"/order/pay",qrLoadParam:a,successPopTip:"\u652f\u4ed8\u6210\u529f",successReload:!0,qrNotifyAsyncUrl:"/gei-trade/jsonComp/order-async/find.json"})}};gei.phone={};
var overseaChinaPrefix=86,overseaPhoneJoinChar="-";
gei.phone.vcodeComp={model:null,MODEL_BIND:"bind",MODEL_CHECK:"check",MODEL_LOGIN:"login",_banTime:60,_allowPhoneSendVcode:!0,_banTimeTemp:0,_banTimeout:null,_method:null,_isChooseMethod:!1,_overseaPrefix:overseaChinaPrefix,load:function(a,b,c,d){a.setTemplate(this._templateHtml,{},{filter_data:!1});a.processTemplate({phoneModel:b,tipMsg:c,isMobileSite:gei.login.isMobileLogin()});this._init(b);this._loadCallback(a,b,d)},_init:function(a){var b=gei.phone.vcodeComp;b.model=a;b._method=null;b._isChooseMethod=
!1;b._overseaPrefix=overseaChinaPrefix},_loadCallback:function(a,b,c){var d=gei.phone.vcodeComp;d._inputCheck(a);$("#userInputPhoneVcode",a).keydown(function(g){13==g.keyCode&&d._saveUserPhone(c)});gei.util.click($("#phoneBindConfirm",a),function(){d._saveUserPhone(c)});d._changeVcodeMethod("sms",a);d._phoneInputFocus()},_showOverseaInput:function(){this._chooseOverseaPrefix(overseaChinaPrefix);$("#stateMobilePrefixMenu").html(gei.phone.vcodeComp._getMobileStateHtml());$("#stateMobilePrefix").show()},
_chooseOverseaPrefix:function(a,b){b||(b=$("body"));$("#overseaPrefixBtn",b).html("+"+a);this._overseaPrefix=a;this._isStateChina()?$("#changeVcodeMethodBox",b).show():($("#changeVcodeMethodBox",b).hide(),this._changeVcodeMethod("sms",b))},_isStateChina:function(){return this._overseaPrefix==overseaChinaPrefix},_validPhone:function(a){if(this.model==this.MODEL_CHECK)return!0;a||(a=$("body"));a=$("#userInputPhoneNumber",a).val();return this._isStateChina()?/^\d{11}$/.test(a):/^\d{1,20}$/.test(a)},
_getFullPhone:function(){var a=$("#userInputPhoneNumber").val();return this._overseaPrefix+overseaPhoneJoinChar+a},_getMethodName:function(a){return{sms:{name:"\u77ed\u4fe1"},phone:{name:"\u8bed\u97f3"}}[a].name},_getCurrentMethodName:function(){return this._isStateChina()&&this._isChooseMethod?"("+this._getMethodName(this._method)+")":""},_changeVcodeMethod:function(a,b){b||(b=$("body"));var c=this;this._method=a;if("phone"==a){a="\u5207\u6362\u4e3a,";var d="sms"}else a="\u6536\u4e0d\u5230? \u8bd5\u4e00\u8bd5, ",
d="phone";$("#sendPhoneVcodeBtn",b).html("\u83b7\u53d6\u9a8c\u8bc1\u7801"+this._getCurrentMethodName());var g=$("<span>").addClass("link-style").click(function(){c._isChooseMethod=!0;c._changeVcodeMethod(d,b)}).html(c._getMethodName(d)+"\u9a8c\u8bc1\u7801");$("#changeVcodeMethodBox",b).empty().before();g.appendTo($("#changeVcodeMethodBox",b));$("<span>").html(a).insertBefore(g)},_saveUserPhone:function(a){if(!$("#phoneBindConfirm").hasClass("btn-disabled")){var b=gei.phone.vcodeComp;if(b.model){var c=
$("#userInputPhoneVcode").val(),d=$("#isMobile").val();b._validPhone()?c&&6==c.length?($.post("/gei-home/jsonComp/"+b.model+"/phone",{phone:b._getFullPhone(),vcode:c,phoneLoginCase:"true"==d?"MOBILE":"PC"},function(g){"fail"==g.status&&"vcodeWrong"==g.errorCode?gei.util.alertWarn("\u9a8c\u8bc1\u7801\u8f93\u5165\u9519\u8bef\uff01"):a&&a(g);$("#phoneBindConfirm").removeAttr("disabled")},"json"),$("#phoneBindConfirm").attr("disabled","disabled")):gei.util.alertWarn("\u60a8\u8f93\u5165\u7684\u9a8c\u8bc1\u7801\u4e3a\u201c"+
c+"\u201d\uff0c\u5f53\u524d\u9a8c\u8bc1\u7801\u957f\u5ea6\u4e3a"+c.length+"\uff0c\u5f53\u524d\u9a8c\u8bc1\u7801\u8f93\u5165\u4e0d\u662f6\u4f4d\uff0c\u8bf7\u91cd\u8bd5\uff01"):gei.util.alertWarn("\u624b\u673a\u53f7\u7801\u683c\u5f0f\u4e0d\u6b63\u786e\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01")}else alert("model\u672a\u5b9a\u4e49")}},_sendVcode:function(){if(!$("#sendPhoneVcodeBtn").hasClass("btn-disabled")){var a=gei.phone.vcodeComp;if(!a._validPhone())gei.util.alertWarn("\u624b\u673a\u53f7\u7801\u683c\u5f0f\u4e0d\u6b63\u786e\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01");
else if(a._allowPhoneSendVcode)if(a.model){if(a.model==a.MODEL_BIND)var b="register";else if(a.model==a.MODEL_CHECK||a.model==a.MODEL_LOGIN)b="login";$("#sendPhoneVcodeBtn").attr("disabled","disabled");b=a._dfv(a._getFullPhone(),a.model,b,a._method);gei.httpEnc.enc("/gei-home/jsonComp/phone/exchange/smsVcode/"+a.model+".json",b,a._sendVcodeSuccCallBack,a._sendVcodeFailCallBack,a._sendVcodeFinalCallBack)}else alert("model\u672a\u5b9a\u4e49")}},_allowSendVcode:function(){var a=gei.phone.vcodeComp;a._allowPhoneSendVcode=
!0;$("#sendPhoneVcodeBtn").html("\u83b7\u53d6\u9a8c\u8bc1\u7801"+a._getCurrentMethodName()).removeAttr("disabled");a._banTimeTemp=a._banTime;clearTimeout(a._banTimeout)},_sendVcodeSuccCallBack:function(a){a.vcode&&gei.util.alertWarn(a.vcode)},_sendVcodeFailCallBack:function(a){gei.util.alertWarn(a.message)},_sendVcodeFinalCallBack:function(a){var b=gei.phone.vcodeComp;a&&"success"==a.status?(b._banTimeTemp=b._banTime,b._allowPhoneSendVcode=!1,$("#sendPhoneVcodeBtn").attr("disabled","disabled").html("\u91cd\u65b0\u53d1\u9001"+
b._getCurrentMethodName()+"("+b._banTimeTemp+")"),b._banTimeout=setInterval(function(){$("#sendPhoneVcodeBtn").html("\u91cd\u65b0\u53d1\u9001"+b._getCurrentMethodName()+"("+b._banTimeTemp+")");b._banTimeTemp--;0>=b._banTimeTemp&&b._allowSendVcode()},1E3)):(b=gei.phone.vcodeComp,b._allowSendVcode())},_dfv:function(a,b,c,d){var g={};g.phone=a;g.method=d;g.sendType=b;g.code=c;return g},_inputCheck:function(a){var b=gei.phone.vcodeComp;$("#userInputPhoneNumber",a).unbind("input propertychange").bind("input propertychange",
function(){b._validPhone(a)?$("#sendPhoneVcodeBtn",a).removeClass("btn-disabled"):$("#sendPhoneVcodeBtn",a).addClass("btn-disabled");b._phoneAndVcodeCheck(a)});$("#userInputPhoneVcode",a).unbind("input propertychange").bind("input propertychange",function(){b._phoneAndVcodeCheck(a)})},_phoneAndVcodeCheck:function(a){var b=gei.phone.vcodeComp,c=/^\d{6}$/,d=$("#userInputPhoneVcode",a).val();b._validPhone(a)&&c.test(d)?$("#phoneBindConfirm",a).removeClass("btn-disabled"):$("#phoneBindConfirm",a).addClass("btn-disabled")},
_phoneInputFocus:function(){gei.login.isMobileLogin()||this.model===this.MODEL_CHECK||($("#userInputPhoneNumber").focus(),$("body").on("shown.bs.modal",function(a){(a=$(a.target).find("#userInputPhoneNumber"))&&!a.is(":focus")&&a.focus()}))},_mobileStateDropMenuHtml:null,_getMobileStateHtml:function(){var a=gei.phone.vcodeComp;if(null!=a._mobileStateDropMenuHtml)return a._mobileStateDropMenuHtml;a._mobileStateDropMenuHtml="";for(var b="86=\u4e2d\u56fd;852=\u4e2d\u56fd\u9999\u6e2f;853=\u4e2d\u56fd\u6fb3\u95e8;886=\u4e2d\u56fd\u53f0\u6e7e;1=\u7f8e\u56fd/\u52a0\u62ff\u5927;7=\u4fc4\u7f57\u65af;20=\u57c3\u53ca;27=\u5357\u975e;30=\u5e0c\u814a;31=\u8377\u5170;32=\u6bd4\u5229\u65f6;33=\u6cd5\u56fd;34=\u897f\u73ed\u7259;36=\u5308\u7259\u5229;39=\u610f\u5927\u5229;40=\u7f57\u9a6c\u5c3c\u4e9a;41=\u745e\u58eb;43=\u5965\u5730\u5229;44=\u82f1\u56fd;45=\u4e39\u9ea6;46=\u745e\u5178;47=\u632a\u5a01;48=\u6ce2\u5170;49=\u5fb7\u56fd;51=\u79d8\u9c81;52=\u58a8\u897f\u54e5;53=\u53e4\u5df4;54=\u963f\u6839\u5ef7;55=\u5df4\u897f;56=\u667a\u5229;57=\u54e5\u4f26\u6bd4\u4e9a;58=\u59d4\u5185\u745e\u62c9;60=\u9a6c\u6765\u897f\u4e9a;61=\u6fb3\u6d32;62=\u5370\u5ea6\u5c3c\u897f\u4e9a;63=\u83f2\u5f8b\u5bbe;64=\u65b0\u897f\u5170;65=\u65b0\u52a0\u5761;66=\u6cf0\u56fd;81=\u65e5\u672c;82=\u97e9\u56fd;84=\u8d8a\u5357;90=\u571f\u8033\u5176;91=\u5370\u5ea6;92=\u5df4\u57fa\u65af\u5766;93=\u963f\u5bcc\u6c57;94=\u65af\u91cc\u5170\u5361;95=\u7f05\u7538;98=\u4f0a\u6717;211=\u5357\u82cf\u4e39;212=\u6469\u6d1b\u54e5;213=\u963f\u5c14\u53ca\u5229\u4e9a;216=\u7a81\u5c3c\u65af;218=\u5229\u6bd4\u4e9a;220=\u5188\u6bd4\u4e9a;221=\u585e\u5185\u52a0\u5c14;222=\u6bdb\u91cc\u5854\u5c3c\u4e9a;223=\u9a6c\u91cc\u5171\u548c\u56fd;224=\u51e0\u5185\u4e9a;225=\u79d1\u7279\u8fea\u74e6;226=\u5e03\u57fa\u7eb3\u6cd5\u7d22;227=\u5c3c\u65e5;228=\u591a\u54e5;229=\u8d1d\u5b81;230=\u6bdb\u91cc\u6c42\u65af;231=\u5229\u6bd4\u91cc\u4e9a;232=\u72ee\u5b50\u5c71\u5171\u548c\u56fd;233=\u52a0\u7eb3;234=\u5c3c\u65e5\u5229\u4e9a;235=\u67e5\u5fb7;236=\u4e2d\u975e\u5171\u548c\u56fd;237=\u5580\u9ea6\u9686;238=\u4f5b\u5f97\u89d2;239=\u5723\u591a\u7f8e\u666e\u6797\u897f\u6bd4;240=\u8d64\u9053\u51e0\u5185\u4e9a;241=\u52a0\u84ec;242=\u521a\u679c\u5171\u548c\u56fd;243=\u521a\u679c\u6c11\u4e3b\u5171\u548c\u56fd;244=\u5b89\u54e5\u62c9;245=\u51e0\u5185\u4e9a\u6bd4\u7ecd;247=\u963f\u68ee\u677e\u5c9b;248=\u585e\u820c\u5c14;249=\u82cf\u4e39;250=\u5362\u65fa\u8fbe;251=\u57c3\u585e\u4fc4\u6bd4\u4e9a;252=\u7d22\u9a6c\u91cc;253=\u5409\u5e03\u63d0;254=\u80af\u5c3c\u4e9a;255=\u5766\u6851\u5c3c\u4e9a;256=\u4e4c\u5e72\u8fbe;257=\u5e03\u9686\u8fea;258=\u83ab\u6851\u6bd4\u514b;260=\u8d5e\u6bd4\u4e9a;261=\u9a6c\u8fbe\u52a0\u65af\u52a0;262=\u7559\u5c3c\u6c6a (\u6cd5\u56fd);263=\u6d25\u5df4\u5e03\u97e6;264=\u7eb3\u7c73\u6bd4\u4e9a;265=\u9a6c\u62c9\u7ef4;266=\u83b1\u7d22\u6258;267=\u535a\u8328\u74e6\u7eb3;268=\u65af\u5a01\u58eb\u5170;269=\u79d1\u6469\u7f57;269=\u9a6c\u7ea6\u7279;297=\u963f\u9c81\u5df4 (\u8377\u5170\u738b\u56fd);298=\u6cd5\u7f57\u7fa4\u5c9b (\u4e39\u9ea6);299=\u683c\u9675\u5170 (\u4e39\u9ea6);350=\u76f4\u5e03\u7f57\u9640 (\u82f1\u56fd);351=\u8461\u8404\u7259;352=\u5362\u68ee\u5821;352=\u5362\u68ee\u5821;353=\u7231\u5c14\u5170\u5171\u548c\u56fd;354=\u51b0\u5c9b;355=\u963f\u5c14\u5df4\u5c3c\u4e9a;356=\u9a6c\u8033\u4ed6;357=\u585e\u6d66\u8def\u65af;358=\u82ac\u5170;359=\u4fdd\u52a0\u5229\u4e9a;370=\u7acb\u9676\u5b9b;371=\u62c9\u8131\u7ef4\u4e9a;372=\u7231\u6c99\u5c3c\u4e9a;373=\u6469\u5c14\u591a\u74e6;374=\u4e9a\u7f8e\u5c3c\u4e9a;375=\u767d\u4fc4\u7f57\u65af;376=\u5b89\u9053\u5c14;377=\u6469\u7eb3\u54e5;378=\u5723\u9a6c\u529b\u8bfa;380=\u4e4c\u514b\u5170;381=\u585e\u5c14\u7ef4\u4e9a\u5171\u548c\u56fd;382=\u9ed1\u5c71\u5171\u548c\u56fd;385=\u514b\u7f57\u5730\u4e9a;386=\u65af\u6d1b\u6587\u5c3c\u4e9a;387=\u6ce2\u65af\u5c3c\u4e9a\u4e0e\u8d6b\u585e\u54e5\u7ef4\u7eb3;420=\u6377\u514b;421=\u65af\u6d1b\u4f10\u514b;423=\u5217\u652f\u6566\u58eb\u767b;501=\u4f2f\u5229\u5179;502=\u5371\u5730\u9a6c\u62c9;503=\u8428\u5c14\u74e6\u591a;504=\u6d2a\u90fd\u62c9\u65af;505=\u5c3c\u52a0\u62c9\u74dc;506=\u54e5\u65af\u8fbe\u9ece\u52a0;507=\u5df4\u62ff\u9a6c;508=\u5723\u76ae\u8036\u4e0e\u5bc6\u514b\u9686\u7fa4\u5c9b (\u6cd5\u56fd);509=\u6d77\u5730;590=\u74dc\u5fb7\u7f57\u666e\u5c9b;590=\u5723\u9a6c\u4e01\u5c9b(\u8377\u5170\u90e8\u5206);591=\u73bb\u5229\u7ef4\u4e9a;592=\u572d\u4e9a\u90a3;593=\u5384\u74dc\u591a\u5c14;594=\u6cd5\u5c5e\u572d\u4e9a\u90a3 (\u6cd5\u56fd);595=\u5df4\u62c9\u572d;596=\u9a6c\u63d0\u5c3c\u514b (\u6cd5\u56fd);597=\u82cf\u91cc\u5357;598=\u4e4c\u62c9\u572d;599=\u535a\u5185\u5c14\u5c9b\uff0c\u5723\u5c24\u65af\u7279\u6b47\u65af\u548c;599=\u5e93\u62c9\u7d22 (\u8377\u5170\u738b\u56fd);670=\u4e1c\u5e1d\u6c76;673=\u6587\u83b1;675=\u5df4\u5e03\u4e9a\u65b0\u51e0\u5185\u4e9a;676=\u4e1c\u52a0;677=\u6240\u7f57\u95e8\u7fa4\u5c9b;678=\u74e6\u52aa\u963f\u56fe;679=\u6590\u6d4e;680=\u5e15\u52b3;682=\u5e93\u514b\u7fa4\u5c9b (\u65b0\u897f\u5170);685=\u8428\u6469\u4e9a;686=\u57fa\u91cc\u5df4\u65af;687=\u65b0\u5580\u91cc\u591a\u5c3c\u4e9a (\u6cd5\u56fd);689=\u6cd5\u5c5e\u6ce2\u5229\u5c3c\u897f\u4e9a (\u6cd5\u56fd);855=\u67ec\u57d4\u5be8;856=\u8001\u631d;880=\u5b5f\u52a0\u62c9\u56fd;930=\u5df4\u52d2\u65af\u5766;960=\u9a6c\u5c14\u4ee3\u592b;961=\u9ece\u5df4\u5ae9;962=\u7ea6\u65e6;963=\u53d9\u5229\u4e9a;964=\u4f0a\u62c9\u514b;965=\u79d1\u5a01\u7279;966=\u6c99\u7279\u963f\u62c9\u4f2f;967=\u4e5f\u95e8;968=\u963f\u66fc;971=\u963f\u62c9\u4f2f\u8054\u5408\u914b\u957f\u56fd;972=\u4ee5\u8272\u5217;973=\u5df4\u6797;974=\u5361\u8fbe;975=\u4e0d\u4e39;976=\u8499\u53e4\u56fd;977=\u5c3c\u6cca\u5c14;992=\u5854\u5409\u514b;993=\u571f\u5e93\u66fc;994=\u963f\u585e\u62dc\u7586;995=\u4e54\u6cbb\u4e9a;996=\u5409\u5c14\u5409\u65af;998=\u4e4c\u5179\u522b\u514b;1242=\u5df4\u54c8\u9a6c;1246=\u5df4\u5df4\u591a\u65af;1264=\u5b89\u572d\u62c9;1268=\u5b89\u63d0\u74dc\u548c\u5df4\u5e03\u8fbe;1284=\u82f1\u5c5e\u7ef4\u5c14\u4eac\u7fa4\u5c9b (\u82f1\u56fd);1340=\u7f8e\u5c5e\u7ef4\u5c14\u4eac\u7fa4\u5c9b (\u7f8e\u56fd);1345=\u5f00\u66fc\u7fa4\u5c9b (\u82f1\u56fd);1441=\u767e\u6155\u5927 (\u82f1\u56fd);1473=\u683c\u6797\u7eb3\u8fbe;1649=\u571f\u514b\u51ef\u53ef\u7fa4\u5c9b (\u82f1\u56fd);1664=\u8499\u585e\u62c9\u7279\u5c9b (\u82f1\u56fd);1671=\u5173\u5c9b (\u7f8e\u56fd);1684=\u7f8e\u5c5e\u8428\u6469\u4e9a (\u7f8e\u56fd);1758=\u5723\u5362\u897f\u4e9a;1767=\u591a\u7c73\u5c3c\u514b;1784=\u5723\u6587\u68ee\u53ca\u683c\u6797\u7eb3\u4e01;1787=\u6ce2\u591a\u9ece\u5404 (\u7f8e\u56fd);1809=\u591a\u7c73\u5c3c\u52a0\u5171\u548c\u56fd;1868=\u7279\u7acb\u5c3c\u8fbe\u548c\u591a\u5df4\u54e5;1869=\u5723\u514b\u91cc\u65af\u591a\u798f\u4e0e\u5c3c\u7ef4\u65af;1876=\u7259\u4e70\u52a0".split(";"),
c=0;c<b.length;c++){var d=b[c].split("=");2!=d.length&&alert("mobileCodes\u683c\u5f0f\u9519\u8bef\uff01"+d);var g=d[0];a._mobileStateDropMenuHtml+="<li onclick=\"gei.phone.vcodeComp._chooseOverseaPrefix('"+g+'\')"><span class="code">+'+g+'</span><span class="name">'+d[1]+"</span></li>"}return a._mobileStateDropMenuHtml},templatePop:function(a,b,c,d){var g=$("<div></div>");g.setTemplate(this._templatePopHtml);g.processTemplate({title:a});this.load(g.find("#phoneComp"),b,c,d);return g},_templatePopHtml:'<div class="phone-pop">    <div class="phone-pop-header">        <div class="phone-pop-close">            <button class="close-btn" data-dismiss="modal">\u00d7</button>        </div>        <span class="phone-pop-title">{$T.title}</span>    </div>    <div id="phoneComp"></div></div>',
_templateHtml:'<div class="phone-comp">    <div class="phone-tip-msg-content">        <span class="phone-tip-msg">{$T.tipMsg}</span>    </div>    <div class="phone-input-form">        <div class="phone-input">            <div class="input-group">                <div class="input-group-btn">                    <button id="stateMobilePrefix" type="button" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">                        <span id="overseaPrefixBtn"></span>                        <span class="caret"></span>                    </button>                    <ul id="stateMobilePrefixMenu" class="dropdown-menu">                    </ul>                </div>                <input type="text" class="form-control" id="userInputPhoneNumber" placeholder="\u8bf7\u8f93\u5165\u624b\u673a\u53f7">             </div>            <div id="divOverseaTip" class="input-bottom-tip">\u6d77\u5916\u7528\u6237\u8bf7\u70b9\u51fb,                <span onclick="gei.phone.vcodeComp._showOverseaInput()" class="link-style">\u6d77\u5916\u9a8c\u8bc1\u7801</span>            </div>        </div>        <div class="phone-send-vcode">            <div class="input-group">                <input type="text" class="form-control" id="userInputPhoneVcode" placeholder="\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801">                <input type="hidden" class="form-control" id="isMobile"                        value="{#if $T.phoneModel == gei.phone.vcodeComp.MODEL_LOGIN && $T.isMobileSite}true{#else}false{#/if}">                <span class="input-group-btn">                    <button id="sendPhoneVcodeBtn" class="send-phone-vcode-btn btn-disabled" type="button" onclick="gei.phone.vcodeComp._sendVcode()">\u83b7\u53d6\u9a8c\u8bc1\u7801</button>                </span>            </div>            <div id="changeVcodeMethodBox" class="input-bottom-tip"></div>        </div>        <div class="phone-confirm">            <button id="phoneBindConfirm" class="btn btn-info phone-confirm-btn btn-disabled" type="button">                {#if $T.phoneModel == gei.phone.vcodeComp.MODEL_LOGIN} \u767b \u5f55 {#else} \u786e \u5b9a {#/if}            </button>        </div>    </div>    {#if $T.phoneModel == gei.phone.vcodeComp.MODEL_CHECK}        <div class="phone-comp-bottom">            <span id="changeBindPhone" class="change-bind-phone">\u65e0\u6cd5\u63a5\u6536\u9a8c\u8bc1\u7801\uff1f<b>\u66f4\u6362\u7ed1\u5b9a\u624b\u673a</b></span>        </div>     {#/if}</div>'};
gei.phone.unbind={_phoneUnbindDialogRef:null,confirm:function(a,b){gei.util.confirm(function(){var c=a.message;"phoneIsBind"==a.message&&(c="\u62b1\u6b49\uff1a\u624b\u673a\u7ed1\u5b9a\u5931\u8d25\uff0c"+a.phone+" \u5df2\u7ecf\u88ab\u5176\u4ed6\u8d26\u53f7\u7ed1\u5b9a\uff0c\u6635\u79f0\u4e3a\uff1a\u201c"+a.nickName+"\u201d  <br/>\u60a8\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u6765\u5904\u7406  <br/>\u89e3\u7ed1\u65b9\u5f0f\u4e00\uff1a\u70b9\u51fb <a href='javascript:void(0);' onclick='gei.phone.bindWin.pop(\"\u7ed1\u5b9a\");'>\u6362\u4e2a\u624b\u673a\u53f7\u7801\u7ed1\u5b9a</a>\uff0c\u66f4\u6362\u4e00\u4e2a\u672a\u7ed1\u5b9a\u7231\u7ed9\u8d26\u53f7\u7684\u624b\u673a\u53f7\u7801\u91cd\u65b0\u7ed1\u5b9a\u3002",
a.isCanMergeAccount?c+="  <br/>\u89e3\u7ed1\u65b9\u5f0f\u4e8c\uff1a\u70b9\u51fb <a href='javascript:void(0);' onclick='gei.phone.unbind.showMergeAccountDialog(\""+b+'", "'+a.phone+'", "'+a.nickName+'", "'+a.userId+"\");'>\u5408\u5e76\u8d26\u53f7\u4fe1\u606f</a>\uff0c\u5c06\u8d26\u53f7\u201c"+a.nickName+"\u201d\u548c\u5f53\u524d\u8d26\u53f7\u201c"+a.userId+"\u201d\u8fdb\u884c\u5408\u5e76\uff0c\u5c06\u7acb\u5373\u5b8c\u6210\u624b\u673a\u53f7\u7ed1\u5b9a\u3002  <br/>\u89e3\u7ed1\u65b9\u5f0f\u4e09\uff1a\u767b\u5f55\u4e4b\u524d\u624b\u673a\u7ed1\u5b9a\u7684\u8d26\u53f7\uff0c\u8fdb\u5165\u7528\u6237\u540e\u53f0\uff0c\u4fee\u6539\u7ed1\u5b9a\u7684\u624b\u673a\u53f7\u7801\uff0c\u817e\u51fa\u6b64\u624b\u673a\u53f7\u7801\uff0c\u767b\u5f55\u65b9\u5f0f\uff1a<a href='javascript:void(0);' onclick='jsInterface_loginByQQ();'>QQ\u53f7\u767b\u5f55</a> \u6216 <a href='javascript:void(0);' onclick='gei.login.pop.loginPop(gei.login.pop.tipMessageDown, gei.login.unionComp.type.PHONE);'>\u624b\u673a\u9a8c\u8bc1\u7801\u767b\u5f55</a>\u3002  <br/>\u89e3\u7ed1\u65b9\u5f0f\u56db\uff1a\u70b9\u51fb <a href='javascript:void(0);' onclick='gei.phone.unbind.unbindByManual(\""+
b+"\");'>\u7533\u8bf7\u4eba\u5de5\u89e3\u7ed1\u670d\u52a1</a>\uff0c\u7533\u8bf7\u4eba\u5de5\u89e3\u7ed1\u670d\u52a1 \u9996\u6b21\u89e3\u7ed1\u5c06\u57285\u5206\u949f\u5185\u5b8c\u6210\u3002":(c+="  <br/>\u89e3\u7ed1\u65b9\u5f0f\u4e8c\uff1a\u767b\u5f55\u4e4b\u524d\u624b\u673a\u7ed1\u5b9a\u7684\u8d26\u53f7\uff0c\u8fdb\u5165\u7528\u6237\u540e\u53f0\uff0c\u4fee\u6539\u7ed1\u5b9a\u7684\u624b\u673a\u53f7\u7801\uff0c\u817e\u51fa\u6b64\u624b\u673a\u53f7\u7801\uff0c\u767b\u5f55\u65b9\u5f0f\uff1a<a href='javascript:void(0);' onclick='jsInterface_loginByQQ();'>QQ\u53f7\u767b\u5f55</a> \u6216 <a href='javascript:void(0);' onclick='gei.login.pop.loginPop(gei.login.pop.tipMessageDown, gei.login.unionComp.type.PHONE);'>\u624b\u673a\u9a8c\u8bc1\u7801\u767b\u5f55</a>\u3002",
a.unbindCount<a.maxBindCount&&(c+="  <br/>\u89e3\u7ed1\u65b9\u5f0f\u4e09\uff1a\u70b9\u51fb <a href='javascript:void(0);' onclick='gei.phone.unbind.unbindByManual(\""+b+"\");'>\u7533\u8bf7\u4eba\u5de5\u89e3\u7ed1\u670d\u52a1</a>\uff0c\u7533\u8bf7\u4eba\u5de5\u89e3\u7ed1\u670d\u52a1 "+a.unbindMsg+"\u3002")));a.mergeToVip&&(c="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u624b\u673a\u53f7\uff1a\u3010"+a.phone+"\u3011\u662fVIP\u7528\u6237\uff0c\u662f\u5426\u9700\u8981\u5c06QQ\u6635\u79f0\u4e3a\uff1a\u3010"+a.nickName+
"\u3011\u7684\u8d26\u53f7\u5408\u5e76\u5230\u624b\u673a\u53f7\u4e3a\uff1a\u3010"+a.phone+"\u3011\u7684VIP\u8d26\u53f7\u4e2d\u3002<br/>",c+="<div style='text-align:right;'><button class='btn-default' onclick='javascript:gei.phone.unbind.mergeToVip(\""+b+"\")'>\u662f</button></div>");return $("<div>"+c+"</div>")},function(){},{title:"\u4fe1\u606f\u63d0\u793a",width:500,onshown:function(c){gei.phone.unbind._phoneUnbindDialogRef=c;"phoneIsBind"==a.message&&a.unbindCount<a.maxBindCount&&$("#userUnbindBtn").removeClass("hidden")},
buttons:[{label:"\u5173\u95ed",cssClass:"btn-default",action:function(c){c.close()}}]})},mergeToVip:function(a){gei.ajax({url:"/gei-home/jsonComp/account/mergeToVip.json",data:{phone:a}},function(b){gei.util.alertSuccess("\u5df2\u5b8c\u6210\u6635\u79f0\uff1a\u3010"+b.nickName+"\u3011QQ\u8d26\u53f7\u5408\u5e76\u5230\u624b\u673a\uff1a\u3010"+b.phone+"\u3011\u7684VIP\u8d26\u53f7\u64cd\u4f5c!",{onhide:function(){window.location.href="/gei-home/jsonComp/account/relogin/"}})},function(b){failAlertTip(b.message)})},
unbindByManual:function(a){gei.ajax({url:"/gei-home/jsonComp/phone/unbind/check.json",data:{phone:a}},function(b){"success"==b.status?b.exists?gei.phone.unbind._unbind(a):gei.util.confirm(function(){return $("<div>\u60a8\u6b63\u5728\u7533\u8bf7\u89e3\u7ed1\u7684\u624b\u673a\u53f7\u4e3a "+(b.phone+"\uff0c\u76ee\u524d\u7ed1\u5b9a\u7684\u8d26\u53f7\u4fe1\u606f\u4e3a<br/>\u7231\u7ed9id:"+b.userId+"  \u6635\u79f0\uff1a"+b.nickName+"<br/>\u8be5\u8d26\u53f7\u76ee\u524d\u4f7f\u7528\u6b64\u624b\u673a\u53f7\u4f5c\u4e3a\u552f\u4e00\u7684\u767b\u5f55\u65b9\u5f0f\uff0c\u6ca1\u6709\u7ed1\u5b9a\u5176\u4ed6\u7684\u767b\u5f55\u65b9\u5f0f\uff0c\u60a8\u662f\u5426\u786e\u5b9a\u8981\u7ee7\u7eed\u6267\u884c\u8be5\u89e3\u7ed1\u8bf7\u6c42</div>"))},
function(){},{title:"\u4fe1\u606f\u63d0\u793a",width:500,buttons:[{label:"\u786e\u5b9a",cssClass:"btn-default",action:function(c){gei.phone.unbind._unbind(a)}},{label:"\u53d6\u6d88",cssClass:"btn-default",action:function(c){c.close()}}]}):gei.util.alertSuccess(b.message,{onhide:function(){gei.util.reload()}})},function(b){failAlertTip(b.message)})},_unbind:function(a){gei.ajax({url:"/gei-home/jsonComp/phone/unbind.json",data:{phone:a}},function(b){gei.util.alertSuccess("\u60a8\u7684\u8bf7\u6c42\u5df2\u88ab\u53d7\u7406,"+
b.message+",\u8bf7\u4f7f\u7528\u60a8\u5e38\u7528\u7684QQ\u53f7\u767b\u5f55\u7f51\u7ad9!",{onhide:function(){gei.util.reload()}})})},showMergeAccountDialog:function(a,b,c,d){gei.util.confirm(function(){return $("<div>\u624b\u673a\u53f7 "+(b+" \u5c06\u88ab\u7ed1\u5b9a\u81f3\u8d26\u53f7 \u201c"+d+"\u201d  <br/>\u540c\u65f6\u8d26\u53f7\u201c"+c+"\u201d\u7684\u6570\u636e\u5c06\u88ab\u5408\u5e76\u81f3\u8d26\u53f7\u201c"+d+"\u201d  <br/>\u5305\u62ec\u4ee5\u4e0b\u6570\u636e  <br/>\u6536\u85cf\u5939\uff0c\u5386\u53f2\u4e0b\u8f7d\u8bb0\u5f55\uff0c\u8d2d\u4e70\u8bb0\u5f55  <br/>\u70b9\u51fb\u4e0b\u65b9\u786e\u5b9a\u5408\u5e76\u6309\u94ae\u540e\u5c06\u8fdb\u884c\u4e0a\u8ff0\u7684\u64cd\u4f5c</div>"))},
function(){},{title:"\u4fe1\u606f\u63d0\u793a",width:500,buttons:[{label:"\u786e\u5b9a\u5408\u5e76",cssClass:"btn-primary",action:function(g){gei.phone.unbind._mergeAccount(a);gei.phone.unbind.closeUnBindWin();g.close();gei.util.alertSuccess("\u60a8\u7684\u8d26\u53f7\u5408\u5e76\u8bf7\u6c42\u6b63\u5728\u53d1\u9001\u4e2d\uff0c\u8bf7\u7a0d\u5019...")}},{label:"\u53d6\u6d88",cssClass:"btn-default",action:function(g){g.close()}}]})},_mergeAccount:function(a){gei.ajax({url:"/gei-home/jsonComp/account/merge.json",
data:{phone:a}},function(b){gei.util.alertSuccess("success"==b.status?"\u624b\u673a\u53f7\u7ed1\u5b9a\u6210\u529f\uff0c\u8d26\u53f7\u6570\u636e\u5408\u5e76\u5c06\u5728\u540e\u53f0\u81ea\u52a8\u8fdb\u884c":b.message,{onhide:function(){gei.util.reload()}})},function(b){failAlertTip(b.message)})},closeUnBindWin:function(){gei.phone.unbind._phoneUnbindDialogRef&&gei.phone.unbind._phoneUnbindDialogRef.close()}};gei.core.eventBus.on("Event_userLogin",function(){gei.phone.unbind.closeUnBindWin()});
gei.phone.bindWin={_popWin:null,pop:function(a,b){var c=this;a=gei.phone.vcodeComp.templatePop(a+"\u624b\u673a\u53f7",gei.phone.vcodeComp.MODEL_BIND,b,function(d){c._closeWin();c._saveCallBack(d)});gei.phone.bindWin._popWin=gei.util.pop({type:BootstrapDialog.TYPE_INFO,width:gei.login.isMobileLogin()?472:404,message:a,buttons:[],onshow:function(d){d.$modalHeader.hide();d.$modalContent.css("border","0px");d.$modalContent.css("background","none");d.$modalContent.css("border-radius",gei.login.isMobileLogin()?
"20px":"14px");d.$modalContent.css("margin-top",gei.login.isMobileLogin()?"289px":"214px");d.$modalBody.css("padding","0px")}})},bindPhoneVue:function(a){gei.phone.vcodeComp.model=gei.phone.vcodeComp.MODEL_BIND;$.post("/gei-home/jsonComp/bind/phoneVue",{phone:a},function(b){"success"==b.status?gei.util.alertSuccess("\u624b\u673a\u53f7\u7ed1\u5b9a\u6210\u529f!",{onhide:function(){window.location.href=window.location.pathname}}):gei.phone.unbind.confirm(b,a)},"json")},_saveCallBack:function(a){"success"==
a.status?this.jsInterface_bindPhoneSuccess():gei.phone.unbind.confirm(a,gei.phone.vcodeComp._getFullPhone())},jsInterface_bindPhoneSuccess:function(){gei.util.alertSuccess("\u624b\u673a\u7ed1\u5b9a\u6210\u529f!",{onhide:function(){gei.core.eventBus.fire("Event_phoneBindSuccess")}})},_closeWin:function(){gei.phone.bindWin._popWin&&gei.phone.bindWin._popWin.close()}};
gei.phone.validateWin={_popWin:null,pop:function(a){var b=this;a=gei.phone.vcodeComp.templatePop("\u9a8c\u8bc1\u624b\u673a\u53f7",gei.phone.vcodeComp.MODEL_CHECK,a,function(c){b._closeWin();b._saveCallBack(c)});b._popWin=gei.util.pop({type:BootstrapDialog.TYPE_INFO,width:gei.login.isMobileLogin()?472:404,message:a,buttons:[],onshow:function(c){c.$modalHeader.hide();c.$modalContent.css("border","0px");c.$modalContent.css("background","none");c.$modalContent.css("border-radius",gei.login.isMobileLogin()?
"20px":"14px");c.$modalContent.css("margin-top",gei.login.isMobileLogin()?"289px":"214px");c.$modalBody.css("padding","0px");c=c.$modalBody;$("#userInputPhoneNumber",c).attr("disabled","disabled");var d="",g=userMaskPhone.indexOf(overseaPhoneJoinChar);0<g?(d=userMaskPhone.substr(g+1,userMaskPhone.length),gei.phone.vcodeComp._overseaPrefix=userMaskPhone.substr(0,g),$("#stateMobilePrefix",c).show(),gei.phone.vcodeComp._chooseOverseaPrefix(gei.phone.vcodeComp._overseaPrefix,c),$("#stateMobilePrefix",
c).attr("disabled","disabled"),$("#divOverseaTip",c).hide()):d=userMaskPhone;$("#userInputPhoneNumber",c).val(d).trigger("input");gei.util.click($("#changeBindPhone",c),function(){b._closeWin();gei.phone.bindWin.pop("\u66f4\u6362","\u8bf7\u8f93\u5165\u65b0\u7ed1\u5b9a\u7684\u624b\u673a\u53f7")})}})},_saveCallBack:function(a){"success"==a.status?this.jsInterface_validatePhoneSuccess():gei.util.alertWarn(a.message)},jsInterface_validatePhoneSuccess:function(){gei.util.alertSuccess("\u624b\u673a\u9a8c\u8bc1\u6210\u529f!")},
_closeWin:function(){gei.phone.validateWin._popWin&&gei.phone.validateWin._popWin.close()}};gei.login={};gei.login.isMobileLogin=function(){return isMobileVisit||isMobileSite};gei.login.loginRedirectUrl={_userLoginPageUrl:"user/login/page",findLoginSuccessRedirectUrl:function(){var a=$("#loginSuccessRedirectCurrentPageUrl");if(0>=a.size())return"";a=a.val();return 0<=a.indexOf(this._userLoginPageUrl)?"":a}};
gei.login.loginUser=function(a){"undefined"!==typeof isLogin&&(isLogin=!0);isLogin=!0;userIsVip=a.userIsVip;var b=a.userUiForm,c=a.userTotalFundDown;a=a.vipShortName;$("#loginUserInfoAvatar1").attr("src",b.avatarUrl1);$("#loginUserInfoName").html(b.nickName);$("#loginBtn").hide();$("#loginUserInfoContainer").show();$("#myNickName").html(b.nickName);$("#myGeiId").html(b.id);c&&(userTotalFundDown=c);a&&$("#myVipName").html(a);Messenger().post({message:'<h6 class="text-success" style="margin-top:3px">\u767b\u5f55\u6210\u529f,\u6b22\u8fce\u60a8</h6><img class="login-userinfo-avatar1" src="'+
b.avatarUrl1+'"><span class="login-userinfo-name">'+b.nickName+"</span>",type:"",hideAfter:5});gei.core.eventBus.fire("Event_closeLoginWindow");gei.core.eventBus.fire("Event_userLogin")};
gei.login.qqOauth={_userLoginOauthUrl:"/user/login/oauth/",loginCase:{normal:"normalLogin",change:"changeQQ",pcFocusBind:"pcFocusBindQQ"},qqOauth:function(a){gei.login.isMobileLogin()?this.qqOauthRedirect(a):this.qqOauthOpenWindow(a)},qqOauthRedirect:function(a){a=this._findLoginOauthUrlWithLoginCase(a);var b=gei.login.loginRedirectUrl.findLoginSuccessRedirectUrl();""==b&&(b=window.location.href);a=gei.util.urlAddParm(a,"loginSuccessRedirectCurrentPageUrl",encodeURIComponent(b));window.location.href=
a},qqOauthOpenWindow:function(a){a=this._findLoginOauthUrlWithLoginCase(a);openWindowCenter(a,"\u7528\u6237\u767b\u5f55",710,500)},_findLoginOauthUrlWithLoginCase:function(a){var b=this._userLoginOauthUrl;""!=a&&(b=gei.util.urlAddParm(b,"loginCase",a));return b}};jsInterface_loginByQQ=function(){gei.login.qqOauth.qqOauth(gei.login.qqOauth.loginCase.normal)};gei.login.qqComp={load:function(a,b){a.setTemplate(this._templateHtml,{},{filter_data:!1});a.processTemplate({tipMsg:b})},_templateHtml:'<div class="login-comp-qq">    <div class="login-tip-msg-content">        <span class="login-tip-msg">{$T.tipMsg}</span>    </div>    <div class="login-icon" onclick="gei.login.qqOauth.qqOauth(gei.login.qqOauth.loginCase.normal)">        <span class="login-icon-qq"></span>        <div class="login-icon-txt">QQ\u4e00\u952e\u767b\u5f55</div>    </div></div>'};
gei.login.phoneComp={load:function(a,b){var c=this;gei.phone.vcodeComp.load(a,gei.phone.vcodeComp.MODEL_LOGIN,b,function(d){c._saveCallBack(d)})},_saveCallBack:function(a){"success"==a.status?this.jsInterface_loginPhoneSuccess(a):gei.login.isMobileLogin()||"fail"!=a.status?gei.util.alertWarn(a.message):(gei.core.eventBus.fire("Event_closeLoginWindow"),gei.login.qqOauth.qqOauthOpenWindow(gei.login.qqOauth.loginCase.pcFocusBind))},jsInterface_loginPhoneSuccess:function(a){gei.util.alertSuccess("\u624b\u673a\u767b\u5f55\u6210\u529f!",
{onhide:function(){a.userLoginUiInfoVo&&gei.login.loginUser(a.userLoginUiInfoVo)}})}};
gei.login.unionComp={type:{QQ:"qqLogin",PHONE:"phoneLogin"},load:function(a,b,c){gei.util.isNullOrUndefined(b)&&(b=gei.login.isMobileLogin()?this.type.PHONE:this.type.QQ);b===this.type.QQ&&(gei.login.qqComp.load(a,c),this._loadChangeLoginPhoneBtn(a,c));b===this.type.PHONE&&(gei.login.phoneComp.load(a,c),this._loadChangeLoginQQBtn(a,c))},_loadChangeLoginQQBtn:function(a,b){gei.login.isMobileLogin()?a.append('<div class="login-bottom">    <div class="login-bottom-text">        <p>\u5176\u5b83\u767b\u5f55\u65b9\u5f0f</p>    </div>    <span class="login-icon-qq-bottom" onclick="jsInterface_loginByQQ()"></span>'+this._agreeText()+
"</div>"):(a.append('<div class="login-bottom">'+this._agreeText()+'    <span class="login-bottom-right">        <a id="changeLoginQQ" href="javascript:void(0);">QQ\u767b\u5f55</a>    </span></div>'),gei.util.click($("#changeLoginQQ",a),function(){gei.login.unionComp.load(a,gei.login.unionComp.type.QQ,b)}))},_loadChangeLoginPhoneBtn:function(a,b){a.append('<div class="login-bottom">'+this._agreeText()+'    <span class="login-bottom-right">       <a id="changeLoginPhone" href="javascript:void(0);">\u5df2\u7ed1\u5b9a\u624b\u673a\u53f7\u767b\u5f55</a>    </span></div>');
gei.util.click($("#changeLoginPhone",a),function(){gei.login.unionComp.load(a,gei.login.unionComp.type.PHONE,b)})},_agreeText:function(){return isAppVisit?"":this._agreeTextHtml},_agreeTextHtml:'<div class="login-bottom-agree-text"><span>\u767b\u5f55\u5373\u89c6\u4e3a\u540c\u610f</span><a target="_blank" href="/about/register">\u300a\u7528\u6237\u534f\u8bae\u300b</a>\u548c<a target="_blank" href="/about/partner">\u300a\u9690\u79c1\u653f\u7b56\u300b</a></div>'};var _popLoginTipWindow;
gei.login.pop={tipMessageDown:"3\u79d2\u767b\u5f55\uff0c\u514d\u8d39\u4e0b\u8f7d",tipMessageOperate:"\u8bf7\u767b\u5f55\u540e\u6267\u884c\u8be5\u64cd\u4f5c",loginPop:function(a,b){gei.util.pop({type:BootstrapDialog.TYPE_INFO,width:gei.login.isMobileLogin()?472:454,message:this._template(b,a),onshow:function(c){c.$modalDialog.css("width",this.width);c.$modalHeader.hide();c.$modalFooter.hide();c.$modalContent.css("border","0px");c.$modalContent.css("background","none");c.$modalContent.css("border-radius",
gei.login.isMobileLogin()?"20px":"14px");c.$modalContent.css("margin-top",gei.login.isMobileLogin()?"151px":"214px");c.$modalBody.css("padding","0px")},onshown:function(c){_popLoginTipWindow=c}})},closeWin:function(){_popLoginTipWindow&&_popLoginTipWindow.close()},_template:function(a,b){var c=$("<div></div>");c.setTemplate(this._templateHtml);c.processTemplate({});gei.login.unionComp.load(c.find("#loginComp"),a,b);return c},_templateHtml:'<div class="login-container login-container-pop">    <div class="login-box">        <div class="login-header">            <div class="login-pop-close">                <button class="close-btn" data-dismiss="modal">\u00d7</button>            </div>            <div class="login-header-content">                <span class="login-icon-logo"></span>            </div>        </div>        <div id="loginComp"></div>    </div></div>'};
gei.login.popLoginPage=function(){gei.login.isMobileLogin()?gei.login.pop.loginPop(gei.login.pop.tipMessageDown,gei.login.unionComp.type.PHONE):gei.login.qqOauth.qqOauthOpenWindow(gei.login.qqOauth.loginCase.normal)};gei.core.eventBus.on("Event_closeLoginWindow",function(){gei.login.pop.closeWin()});
gei.login.loginPage={init:function(a){isLogin||gei.login.unionComp.load($("#loginComp"),null,a);gei.core.eventBus.on("Event_userLogin",function(){var b=gei.login.loginRedirectUrl.findLoginSuccessRedirectUrl();""==b&&(b="/");location.href=b});$("#bottomLoginPhoneBtn").hide()}};
function refreshVcodeImg(){if(vcodeDialog){var a=vcodeDialog.getModalBody();$("#vcodeImg",a).attr("src","/gei-common/responseComp/user/vcode?dd="+(new Date).getTime());$("#vcodeInput").val("");$("#vcodeInput",a)&&0<$("#vcodeInput",a).size()&&setTimeout(function(){$("#vcodeInput",a).get(0).focus()},500)}}
function submitVcode(){if(vcodeDialog){var a=vcodeDialog.getModalBody();$("#vcodeMessage",a).html("");var b=$("#vcodeInput",a).val();b&&""!=b.trim()?(_curFileDownOpts.vcode=b,fget(_curFileDownOpts)):$("#vcodeMessage",a).html("\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801")}}var vcodeDialog=null;
function showVcodeDialog(){_curVcodeDialogShow=!0;vcodeDialog=BootstrapDialog.show({title:"\u9a8c\u8bc1\u7801",message:'\t<div class="modal-body">\t\t<div class="row1">\t\t\t<img id="vcodeImg" src="'+assetsUrl+'/site/img/icon/loading.gif" /><span class="change-vcode" onclick="refreshVcodeImg()">\u6362\u4e00\u5f20</span>\t\t</div>\t\t<div class="row2">\t\t\t\u8bf7\u8f93\u5165\u4e0a\u56fe\u6587\u5b57\uff1a<input type="text" id="vcodeInput" class="vcode-input" />\t\t</div>\t\t<div class="clearfix"></div>\t</div>\t<div class="modal-footer">\t\t<span id="vcodeMessage" class="text-danger">\u8f93\u5165\u5b8c\u6210\u540e,\u53ef\u6309\u56de\u8f66\u63d0\u4ea4&nbsp;&nbsp;&nbsp;</span>\t\t<button class="btn btn-primary" onclick="submitVcode()">\u786e\u5b9a</button>\t</div>',cssClass:"dialog-vcode-normal",
type:BootstrapDialog.TYPE_WARNING,onhide:function(){_curVcodeDialogShow=!1;gei.core.eventBus.fire("Event_hideVcodePop")},onshown:function(a){var b=$("#vcodeInput",a.getModalBody());b[0].focus();b.keypress(function(c){if(13==c.keyCode)return submitVcode(),!1});$("#vcodeImg",a.getModalBody()).bind("click",refreshVcodeImg)}});refreshVcodeImg();gei.core.eventBus.fire("Event_showVcodePop")}var gtVcodeIsloaded=!1,gtVcodeDialog=null,gtVcodeCaptcha=null;
function showVcodeGtDialog(){_curVcodeDialogShow=!0;showVcodeGtDialogAfterGeetestLoaded()}var initCaptcha=function(){gtVcodeIsloaded=!0;showVcodeGtDialogAfterGeetestLoaded()};
function showVcodeGtDialogAfterGeetestLoaded(){gtVcodeDialog=BootstrapDialog.show({title:"\u9a8c\u8bc1\u7801",message:'<div id="gt-captcha"></div>',cssClass:"dialog-vcode-gt",type:BootstrapDialog.TYPE_WARNING,onhide:function(){_curVcodeDialogShow=!1;gei.core.eventBus.fire("Event_hideVcodePop")}});gtVcodeCaptcha=gtVcodeDialog.getModalBody();gtVcodeCaptcha.empty();gtVcodeCaptcha.html("\u9a8c\u8bc1\u7801\u52a0\u8f7d\u4e2d\uff0c\u8bf7\u7a0d\u540e...");$.ajax({url:"/gei-common/responseComp/user/gt",type:"get",
dataType:"json",success:function(a){gtVcodeCaptcha.empty();a&&a.success&&initGeetest({gt:a.gt,challenge:a.challenge,offline:!a.success,new_captcha:!0},function(b){gtVcodeCaptcha.empty();b.appendTo(gtVcodeCaptcha);b.onSuccess(function(){var c=b.getValidate();c&&c.geetest_challenge&&(_curFileDownOpts.vcode="gt",_curFileDownOpts.gt_captchaResult=c,fget(_curFileDownOpts))}).onError(function(){gei.util.alertWarn("\u52a0\u8f7d\u9a8c\u8bc1\u7801\u5931\u8d25!");throw"gt validete failed!";})})}});gei.core.eventBus.fire("Event_showVcodePop")}
var _curVcodeDialogShow=!1;function closeVcodeDialog(){_curVcodeDialogShow&&(_curVcodeDialogShow=!1,gei.core.eventBus.fire("Event_hideVcodePop"),$("#vcodeDialog").modal("hide"),vcodeDialog&&vcodeDialog.close(),gtVcodeDialog&&gtVcodeDialog.close())}var showItemBatchOptToolBar=!1;gei.core.eventBus.on("Event_pageContentLoadEnd",function(){initItemBatchOpt()});
function initItemBatchOpt(a){a=a||$("body");$(".pkg-item-chk").click(function(b){b.stopPropagation()});$(".item-batch-btn",a).each(function(b,c){var d=$(c);d.off();var g=d.parents(".item-info-list-box"),k=g.attr("id");$(".pkg-item-chk-div input").each(function(q,v){$(v).unbind("click").bind("click",function(){refreshPkgItemsFund()})});refreshPkgItemsFund();d.webuiPopover({placement:isMobileSite?"auto-top":"auto-right",trigger:"manual",closeable:!0,onShow:function(q){$(".select-all",q).data("page-box-id",
k);$(".close",q).click(function(){showItemBatchOptToolBar=!1});d.data("isShown",!0);$(".pkg-item-chk-div",g).show();gei.core.eventBus.fire("Event_itemBatchOptShow",g);showItemBatchOptToolBar=!0},onHide:function(q){$(".select-all",q).removeAttr("checked");d.data("isShown",!1);itemBatchCencelAll();$(".pkg-item-chk-div",g).hide();gei.core.eventBus.fire("Event_itemBatchOptHide",g)}});d.click(function(){d.data("isShown")?(d.webuiPopover("hide"),showItemBatchOptToolBar=!1):d.webuiPopover("show")})})}
function itemBatchSelectAll(a){a=$("#"+a);$(".pkg-item-chk").each(function(b,c){$(c).removeAttr("checked")});$(".pkg-item-chk",a).each(function(b,c){$(c).prop("checked","true")})}function itemBatchCencelAll(){$(".pkg-item-chk").each(function(a,b){$(b).removeAttr("checked")})}function itemBatchSelectAllBtn(a){$(a).is(":checked")?itemBatchSelectAll($(a).data("page-box-id")):itemBatchCencelAll();refreshPkgItemsFund()}gei.core.eventBus.on("Event_pageContentLoadStart",function(){itemBatchBtnHideAll()});
function itemBatchBtnHideAll(){$(".item-batch-btn").each(function(a,b){$(b).webuiPopover("hide")})}
function refreshPkgItemsFund(){var a=$(".item-batch-down-container .row2");if(isFundTip){var b=$.map($(".pkg-item-chk:checked"),function(c){return $(c).val()});0==b.length?(a.empty(),a.html("\u8bf7\u52fe\u9009\u60a8\u8981\u4e0b\u8f7d\u7684\u6587\u4ef6")):(a.empty(),a.html("&nbsp;"),b=gei.util.arr.join(b,","),gei.ajax({url:"/gei-res/jsonComp/down/pkgFundDown.json",data:{pkgItemStr:b}},function(c){c="<span>\u94dc\u5e01</span> <span>\u51cf:"+c.consume+"</span> <span>\u4f59:"+c.total+"</span>";a.empty();
a.html(c)}))}else a.html("")}var dfu=function(a,b,c,d,g,k,q){var v=fInction(a,b);v+="-"+c+"-"+d;c={};c.ud=getUUID();c.v=v;c.type=a;c.rescUrl=b;c.pkg=k||!1;c.saveAs=q;c.vis=vvvvvvviisssss;g&&(c.vc=g);return c},cqbj=function(a){return{v:ssssdddttssssStr(a)}},prest=function(a){return(new llii1i1iill).ilil111lii(a)};function ssssdddttssssStr(a){a=jkks(a);for(var b=Math.floor(5*Math.random())+1,c=0;c<b;c++)a=jkkc(a);return a=a.substring(0,32)+b+a.substring(32,a.length)}
function nmnmue23(a){var b="";$.each(a,function(c,d){b+=',"'+c+'":"'+d+'"'});""!=b&&(b=b.substring(1));return"{"+b+"}"}function ueh3875(a){var b="";$.each(a,function(c,d){b+=";"+c+":"+d});""!=b&&(b=b.substring(1));return"{"+b+"}"}function jkks(a){return nmnmue23(a)}function li1li1li(a){var b=0;if(!isNull(a))for(var c=0;c<a.length;c++)b=31*b+a.charCodeAt(c),b=intValue(b);return b}var llli111li1lil1={ili10ooOO1:6};function intValue(a){return 2147483647<a||-2147483648>a?a&4294967295:a}
function li1iiil1(a){var b="";a+="";for(var c=1;c<=a.length;c++)b+=getStrPos(a,a.length-c+1);return b}function getStrPos(a,b){return(a+"").substring(b-1,b)}function isNull(a){return null==a||""==a.value}
var GeiJS=GeiJS||function(a,b){var c={},d=c.lib={},g=function(){},k=d.Base={extend:function(f){g.prototype=this;var l=new g;f&&l.mixIn(f);l.hasOwnProperty("init")||(l.init=function(){l.$super.init.apply(this,arguments)});l.init.prototype=l;l.$super=this;return l},create:function(){var f=this.extend();f.init.apply(f,arguments);return f},init:function(){},mixIn:function(f){for(var l in f)f.hasOwnProperty(l)&&(this[l]=f[l]);f.hasOwnProperty("toString")&&(this.toString=f.toString)},clone:function(){return this.init.prototype.extend(this)}},
q=d.WordArray=k.extend({init:function(f,l){f=this.words=f||[];this.sigBytes=l!=b?l:4*f.length},toString:function(f){return(f||r).stringify(this)},concat:function(f){var l=this.words,e=f.words,n=this.sigBytes;f=f.sigBytes;this.clamp();if(n%4)for(var w=0;w<f;w++)l[n+w>>>2]|=(e[w>>>2]>>>24-w%4*8&255)<<24-(n+w)%4*8;else if(65535<e.length)for(w=0;w<f;w+=4)l[n+w>>>2]=e[w>>>2];else l.push.apply(l,e);this.sigBytes+=f;return this},clamp:function(){var f=this.words,l=this.sigBytes;f[l>>>2]&=4294967295<<32-
l%4*8;f.length=a.ceil(l/4)},clone:function(){var f=k.clone.call(this);f.words=this.words.slice(0);return f},random:function(f){for(var l=[],e=0;e<f;e+=4)l.push(4294967296*a.random()|0);return new q.init(l,f)}}),v=c.enc={},r=v.Hex={stringify:function(f){var l=f.words;f=f.sigBytes;for(var e=[],n=0;n<f;n++){var w=l[n>>>2]>>>24-n%4*8&255;e.push((w>>>4).toString(16));e.push((w&15).toString(16))}return e.join("")},parse:function(f){for(var l=f.length,e=[],n=0;n<l;n+=2)e[n>>>3]|=parseInt(f.substr(n,2),16)<<
24-n%8*4;return new q.init(e,l/2)}},t=v.Latin1={stringify:function(f){var l=f.words;f=f.sigBytes;for(var e=[],n=0;n<f;n++)e.push(String.fromCharCode(l[n>>>2]>>>24-n%4*8&255));return e.join("")},parse:function(f){for(var l=f.length,e=[],n=0;n<l;n++)e[n>>>2]|=(f.charCodeAt(n)&255)<<24-n%4*8;return new q.init(e,l)}},m=v.Utf8={stringify:function(f){try{return decodeURIComponent(escape(t.stringify(f)))}catch(l){throw Error("Malformed UTF-8 data");}},parse:function(f){return t.parse(unescape(encodeURIComponent(f)))}},
u=d.BufferedBlockAlgorithm=k.extend({reset:function(){this._data=new q.init;this._nDataBytes=0},_append:function(f){"string"==typeof f&&(f=m.parse(f));this._data.concat(f);this._nDataBytes+=f.sigBytes},_process:function(f){var l=this._data,e=l.words,n=l.sigBytes,w=this.blockSize,y=n/(4*w);y=f?a.ceil(y):a.max((y|0)-this._minBufferSize,0);f=y*w;n=a.min(4*f,n);if(f){for(var z=0;z<f;z+=w)this._doProcessBlock(e,z);z=e.splice(0,f);l.sigBytes-=n}return new q.init(z,n)},clone:function(){var f=k.clone.call(this);
f._data=this._data.clone();return f},_minBufferSize:0});d.Hasher=u.extend({cfg:k.extend(),init:function(f){this.cfg=this.cfg.extend(f);this.reset()},reset:function(){u.reset.call(this);this._doReset()},update:function(f){this._append(f);this._process();return this},finalize:function(f){f&&this._append(f);return this._doFinalize()},blockSize:16,_createHelper:function(f){return function(l,e){return(new f.init(e)).finalize(l)}},_createHmacHelper:function(f){return function(l,e){return(new h.HMAC.init(f,
e)).finalize(l)}}});var h=c.algo={};return c}(Math);
(function(){var a=GeiJS,b=a.lib.WordArray;a.enc.Base64={stringify:function(c){var d=c.words,g=c.sigBytes,k=this._map;c.clamp();c=[];for(var q=0;q<g;q+=3)for(var v=(d[q>>>2]>>>24-q%4*8&255)<<16|(d[q+1>>>2]>>>24-(q+1)%4*8&255)<<8|d[q+2>>>2]>>>24-(q+2)%4*8&255,r=0;4>r&&q+.75*r<g;r++)c.push(k.charAt(v>>>6*(3-r)&63));if(d=k.charAt(64))for(;c.length%4;)c.push(d);return c.join("")},parse:function(c){var d=c.length,g=this._map,k=g.charAt(64);k&&(k=c.indexOf(k),-1!=k&&(d=k));k=[];for(var q=0,v=0;v<d;v++)if(v%
4){var r=g.indexOf(c.charAt(v-1))<<v%4*2,t=g.indexOf(c.charAt(v))>>>6-v%4*2;k[q>>>2]|=(r|t)<<24-q%4*8;q++}return b.create(k,q)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})();
(function(a){function b(u,h,f,l,e,n,w){u=u+(h&f|~h&l)+e+w;return(u<<n|u>>>32-n)+h}function c(u,h,f,l,e,n,w){u=u+(h&l|f&~l)+e+w;return(u<<n|u>>>32-n)+h}function d(u,h,f,l,e,n,w){u=u+(h^f^l)+e+w;return(u<<n|u>>>32-n)+h}function g(u,h,f,l,e,n,w){u=u+(f^(h|~l))+e+w;return(u<<n|u>>>32-n)+h}var k=GeiJS,q=k.lib,v=q.WordArray,r=q.Hasher;q=k.algo;for(var t=[],m=0;64>m;m++)t[m]=4294967296*a.abs(a.sin(m+1))|0;q=q.MMF=r.extend({_doReset:function(){this._hash=new v.init([1732584193,4023233417,2562383102,271733878])},
_doProcessBlock:function(u,h){for(var f=0;16>f;f++){var l=h+f,e=u[l];u[l]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360}f=this._hash.words;l=u[h+0];e=u[h+1];var n=u[h+2],w=u[h+3],y=u[h+4],z=u[h+5],C=u[h+6],I=u[h+7],K=u[h+8],M=u[h+9],O=u[h+10],P=u[h+11],Q=u[h+12],R=u[h+13],V=u[h+14];u=u[h+15];h=f[0];var B=f[1],E=f[2],H=f[3];h=b(h,B,E,H,l,7,t[0]);H=b(H,h,B,E,e,12,t[1]);E=b(E,H,h,B,n,17,t[2]);B=b(B,E,H,h,w,22,t[3]);h=b(h,B,E,H,y,7,t[4]);H=b(H,h,B,E,z,12,t[5]);E=b(E,H,h,B,C,17,t[6]);B=b(B,E,H,h,I,22,
t[7]);h=b(h,B,E,H,K,7,t[8]);H=b(H,h,B,E,M,12,t[9]);E=b(E,H,h,B,O,17,t[10]);B=b(B,E,H,h,P,22,t[11]);h=b(h,B,E,H,Q,7,t[12]);H=b(H,h,B,E,R,12,t[13]);E=b(E,H,h,B,V,17,t[14]);B=b(B,E,H,h,u,22,t[15]);h=c(h,B,E,H,e,5,t[16]);H=c(H,h,B,E,C,9,t[17]);E=c(E,H,h,B,P,14,t[18]);B=c(B,E,H,h,l,20,t[19]);h=c(h,B,E,H,z,5,t[20]);H=c(H,h,B,E,O,9,t[21]);E=c(E,H,h,B,u,14,t[22]);B=c(B,E,H,h,y,20,t[23]);h=c(h,B,E,H,M,5,t[24]);H=c(H,h,B,E,V,9,t[25]);E=c(E,H,h,B,w,14,t[26]);B=c(B,E,H,h,K,20,t[27]);h=c(h,B,E,H,R,5,t[28]);H=
c(H,h,B,E,n,9,t[29]);E=c(E,H,h,B,I,14,t[30]);B=c(B,E,H,h,Q,20,t[31]);h=d(h,B,E,H,z,4,t[32]);H=d(H,h,B,E,K,11,t[33]);E=d(E,H,h,B,P,16,t[34]);B=d(B,E,H,h,V,23,t[35]);h=d(h,B,E,H,e,4,t[36]);H=d(H,h,B,E,y,11,t[37]);E=d(E,H,h,B,I,16,t[38]);B=d(B,E,H,h,O,23,t[39]);h=d(h,B,E,H,R,4,t[40]);H=d(H,h,B,E,l,11,t[41]);E=d(E,H,h,B,w,16,t[42]);B=d(B,E,H,h,C,23,t[43]);h=d(h,B,E,H,M,4,t[44]);H=d(H,h,B,E,Q,11,t[45]);E=d(E,H,h,B,u,16,t[46]);B=d(B,E,H,h,n,23,t[47]);h=g(h,B,E,H,l,6,t[48]);H=g(H,h,B,E,I,10,t[49]);E=g(E,
H,h,B,V,15,t[50]);B=g(B,E,H,h,z,21,t[51]);h=g(h,B,E,H,Q,6,t[52]);H=g(H,h,B,E,w,10,t[53]);E=g(E,H,h,B,O,15,t[54]);B=g(B,E,H,h,e,21,t[55]);h=g(h,B,E,H,K,6,t[56]);H=g(H,h,B,E,u,10,t[57]);E=g(E,H,h,B,C,15,t[58]);B=g(B,E,H,h,R,21,t[59]);h=g(h,B,E,H,y,6,t[60]);H=g(H,h,B,E,P,10,t[61]);E=g(E,H,h,B,n,15,t[62]);B=g(B,E,H,h,M,21,t[63]);f[0]=f[0]+h|0;f[1]=f[1]+B|0;f[2]=f[2]+E|0;f[3]=f[3]+H|0},_doFinalize:function(){var u=this._data,h=u.words,f=8*this._nDataBytes,l=8*u.sigBytes;h[l>>>5]|=128<<24-l%32;var e=a.floor(f/
4294967296);h[(l+64>>>9<<4)+15]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360;h[(l+64>>>9<<4)+14]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360;u.sigBytes=4*(h.length+1);this._process();u=this._hash;h=u.words;for(f=0;4>f;f++)l=h[f],h[f]=(l<<8|l>>>24)&16711935|(l<<24|l>>>8)&4278255360;return u},clone:function(){var u=r.clone.call(this);u._hash=this._hash.clone();return u}});k.MMF=r._createHelper(q);k.GeiMMF=r._createHmacHelper(q)})(Math);
(function(){var a=GeiJS,b=a.lib,c=b.Base,d=b.WordArray;b=a.algo;var g=b.EvpKDF=c.extend({cfg:c.extend({keySize:4,hasher:b.MMF,iterations:1}),init:function(k){this.cfg=this.cfg.extend(k)},compute:function(k,q){var v=this.cfg,r=v.hasher.create(),t=d.create(),m=t.words,u=v.keySize;for(v=v.iterations;m.length<u;){h&&r.update(h);var h=r.update(k).finalize(q);r.reset();for(var f=1;f<v;f++)h=r.finalize(h),r.reset();t.concat(h)}t.sigBytes=4*u;return t}});a.EvpKDF=function(k,q,v){return g.create(v).compute(k,
q)}})();
GeiJS.lib.Cipher||function(a){var b=GeiJS,c=b.lib,d=c.Base,g=c.WordArray,k=c.BufferedBlockAlgorithm,q=b.enc.Base64,v=b.algo.EvpKDF,r=c.Cipher=k.extend({cfg:d.extend(),createEncryptor:function(e,n){return this.create(this._ENC_XFORM_MODE,e,n)},createDecryptor:function(e,n){return this.create(this._DEC_XFORM_MODE,e,n)},init:function(e,n,w){this.cfg=this.cfg.extend(w);this._xformMode=e;this._key=n;this.reset()},reset:function(){k.reset.call(this);this._doReset()},process:function(e){this._append(e);return this._process()},
finalize:function(e){e&&this._append(e);return this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(n,w,y){return("string"==typeof w?l:f).encrypt(e,n,w,y)},decrypt:function(n,w,y){return("string"==typeof w?l:f).decrypt(e,n,w,y)}}}});c.StreamCipher=r.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var t=b.mode={},m=function(e,n,w){var y=this._iv;y?this._iv=a:y=this._prevBlock;for(var z=0;z<w;z++)e[n+z]^=
y[z]},u=(c.BlockCipherMode=d.extend({createEncryptor:function(e,n){return this.Encryptor.create(e,n)},createDecryptor:function(e,n){return this.Decryptor.create(e,n)},init:function(e,n){this._cipher=e;this._iv=n}})).extend();u.Encryptor=u.extend({processBlock:function(e,n){var w=this._cipher,y=w.blockSize;m.call(this,e,n,y);w.encryptBlock(e,n);this._prevBlock=e.slice(n,n+y)}});u.Decryptor=u.extend({processBlock:function(e,n){var w=this._cipher,y=w.blockSize,z=e.slice(n,n+y);w.decryptBlock(e,n);m.call(this,
e,n,y);this._prevBlock=z}});t=t.CBC=u;u=(b.pad={}).GFACDE={pad:function(e,n){n*=4;n-=e.sigBytes%n;for(var w=n<<24|n<<16|n<<8|n,y=[],z=0;z<n;z+=4)y.push(w);n=g.create(y,n);e.concat(n)},unpad:function(e){e.sigBytes-=e.words[e.sigBytes-1>>>2]&255}};c.BlockCipher=r.extend({cfg:r.cfg.extend({mode:t,padding:u}),reset:function(){r.reset.call(this);var e=this.cfg,n=e.iv;e=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var w=e.createEncryptor;else w=e.createDecryptor,this._minBufferSize=1;this._mode=w.call(e,
this,n&&n.words)},_doProcessBlock:function(e,n){this._mode.processBlock(e,n)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var n=this._process(!0)}else n=this._process(!0),e.unpad(n);return n},blockSize:4});var h=c.CipherParams=d.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}});t=(b.format={}).OpenSSL={stringify:function(e){var n=e.ciphertext;e=e.salt;return(e?g.create([1398893684,
1701076831]).concat(e).concat(n):n).toString(q)},parse:function(e){e=q.parse(e);var n=e.words;if(1398893684==n[0]&&1701076831==n[1]){var w=g.create(n.slice(2,4));n.splice(0,4);e.sigBytes-=16}return h.create({ciphertext:e,salt:w})}};var f=c.SerializableCipher=d.extend({cfg:d.extend({format:t}),encrypt:function(e,n,w,y){y=this.cfg.extend(y);var z=e.createEncryptor(w,y);n=z.finalize(n);z=z.cfg;return h.create({ciphertext:n,key:w,iv:z.iv,algorithm:e,mode:z.mode,padding:z.padding,blockSize:e.blockSize,
formatter:y.format})},decrypt:function(e,n,w,y){y=this.cfg.extend(y);n=this._parse(n,y.format);return e.createDecryptor(w,y).finalize(n.ciphertext)},_parse:function(e,n){return"string"==typeof e?n.parse(e,this):e}});b=(b.kdf={}).OpenSSL={execute:function(e,n,w,y){y||(y=g.random(8));e=v.create({keySize:n+w}).compute(e,y);w=g.create(e.words.slice(n),4*w);e.sigBytes=4*n;return h.create({key:e,iv:w,salt:y})}};var l=c.PasswordBasedCipher=f.extend({cfg:f.cfg.extend({kdf:b}),encrypt:function(e,n,w,y){y=
this.cfg.extend(y);w=y.kdf.execute(w,e.keySize,e.ivSize);y.iv=w.iv;e=f.encrypt.call(this,e,n,w.key,y);e.mixIn(w);return e},decrypt:function(e,n,w,y){y=this.cfg.extend(y);n=this._parse(n,y.format);w=y.kdf.execute(w,e.keySize,e.ivSize,n.salt);y.iv=w.iv;return f.decrypt.call(this,e,n,w.key,y)}})}();
(function(){function a(h,f){f&=this._lBlock>>>h^this._rBlock;this._rBlock^=f;this._lBlock^=f<<h}function b(h,f){f&=this._rBlock>>>h^this._lBlock;this._lBlock^=f;this._rBlock^=f<<h}var c=GeiJS,d=c.lib,g=d.WordArray;d=d.BlockCipher;var k=c.algo,q=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],v=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,
45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],r=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],t=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,
2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,
2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,
75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,
276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,
14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,
17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,
98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,
1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,
10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,
83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,
2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,
16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,
496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,
2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,
2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],m=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],u=k.OBJFJKET=d.extend({_doReset:function(){for(var h=this._key.words,f=[],l=0;56>l;l++){var e=q[l]-1;f[l]=h[e>>>5]>>>31-e%32&1}h=this._subKeys=[];for(e=0;16>e;e++){var n=h[e]=[],w=r[e];for(l=0;24>l;l++)n[l/6|0]|=f[(v[l]-1+w)%28]<<31-l%6,n[4+(l/6|0)]|=f[28+(v[l+24]-1+w)%28]<<31-l%6;n[0]=n[0]<<1|n[0]>>>31;for(l=1;7>l;l++)n[l]>>>=
4*(l-1)+3;n[7]=n[7]<<5|n[7]>>>27}f=this._invSubKeys=[];for(l=0;16>l;l++)f[l]=h[15-l]},encryptBlock:function(h,f){this._doCryptBlock(h,f,this._subKeys)},decryptBlock:function(h,f){this._doCryptBlock(h,f,this._invSubKeys)},_doCryptBlock:function(h,f,l){this._lBlock=h[f];this._rBlock=h[f+1];a.call(this,4,252645135);a.call(this,16,65535);b.call(this,2,858993459);b.call(this,8,16711935);a.call(this,1,1431655765);for(var e=0;16>e;e++){for(var n=l[e],w=this._lBlock,y=this._rBlock,z=0,C=0;8>C;C++)z|=t[C][((y^
n[C])&m[C])>>>0];this._lBlock=y;this._rBlock=w^z}l=this._lBlock;this._lBlock=this._rBlock;this._rBlock=l;a.call(this,1,1431655765);b.call(this,8,16711935);b.call(this,2,858993459);a.call(this,16,65535);a.call(this,4,252645135);h[f]=this._lBlock;h[f+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});c.OBJFJKET=d._createHelper(u);k=k.TripleOBJFJKET=d.extend({_doReset:function(){var h=this._key.words;this._des1=u.createEncryptor(g.create(h.slice(0,2)));this._des2=u.createEncryptor(g.create(h.slice(2,
4)));this._des3=u.createEncryptor(g.create(h.slice(4,6)))},encryptBlock:function(h,f){this._des1.encryptBlock(h,f);this._des2.decryptBlock(h,f);this._des3.encryptBlock(h,f)},decryptBlock:function(h,f){this._des3.decryptBlock(h,f);this._des2.encryptBlock(h,f);this._des1.decryptBlock(h,f)},keySize:6,ivSize:2,blockSize:2});c.TripleOBJFJKET=d._createHelper(k)})();
GeiJS.mode.FENCTIOP=function(){var a=GeiJS.lib.BlockCipherMode.extend();a.Encryptor=a.extend({processBlock:function(b,c){this._cipher.encryptBlock(b,c)}});a.Decryptor=a.extend({processBlock:function(b,c){this._cipher.decryptBlock(b,c)}});return a}();var lll1i111lio0o01={iOOOooi1il1:1};
GeiJS=GeiJS||function(a,b){var c={},d=c.lib={},g=function(){},k=d.Base={extend:function(f){g.prototype=this;var l=new g;f&&l.mixIn(f);l.hasOwnProperty("init")||(l.init=function(){l.$super.init.apply(this,arguments)});l.init.prototype=l;l.$super=this;return l},create:function(){var f=this.extend();f.init.apply(f,arguments);return f},init:function(){},mixIn:function(f){for(var l in f)f.hasOwnProperty(l)&&(this[l]=f[l]);f.hasOwnProperty("toString")&&(this.toString=f.toString)},clone:function(){return this.init.prototype.extend(this)}},
q=d.WordArray=k.extend({init:function(f,l){f=this.words=f||[];this.sigBytes=l!=b?l:4*f.length},toString:function(f){return(f||r).stringify(this)},concat:function(f){var l=this.words,e=f.words,n=this.sigBytes;f=f.sigBytes;this.clamp();if(n%4)for(var w=0;w<f;w++)l[n+w>>>2]|=(e[w>>>2]>>>24-w%4*8&255)<<24-(n+w)%4*8;else if(65535<e.length)for(w=0;w<f;w+=4)l[n+w>>>2]=e[w>>>2];else l.push.apply(l,e);this.sigBytes+=f;return this},clamp:function(){var f=this.words,l=this.sigBytes;f[l>>>2]&=4294967295<<32-
l%4*8;f.length=a.ceil(l/4)},clone:function(){var f=k.clone.call(this);f.words=this.words.slice(0);return f},random:function(f){for(var l=[],e=0;e<f;e+=4)l.push(4294967296*a.random()|0);return new q.init(l,f)}}),v=c.enc={},r=v.Hex={stringify:function(f){var l=f.words;f=f.sigBytes;for(var e=[],n=0;n<f;n++){var w=l[n>>>2]>>>24-n%4*8&255;e.push((w>>>4).toString(16));e.push((w&15).toString(16))}return e.join("")},parse:function(f){for(var l=f.length,e=[],n=0;n<l;n+=2)e[n>>>3]|=parseInt(f.substr(n,2),16)<<
24-n%8*4;return new q.init(e,l/2)}},t=v.Latin1={stringify:function(f){var l=f.words;f=f.sigBytes;for(var e=[],n=0;n<f;n++)e.push(String.fromCharCode(l[n>>>2]>>>24-n%4*8&255));return e.join("")},parse:function(f){for(var l=f.length,e=[],n=0;n<l;n++)e[n>>>2]|=(f.charCodeAt(n)&255)<<24-n%4*8;return new q.init(e,l)}},m=v.Utf8={stringify:function(f){try{return decodeURIComponent(escape(t.stringify(f)))}catch(l){throw Error("Malformed UTF-8 data");}},parse:function(f){return t.parse(unescape(encodeURIComponent(f)))}},
u=d.BufferedBlockAlgorithm=k.extend({reset:function(){this._data=new q.init;this._nDataBytes=0},_append:function(f){"string"==typeof f&&(f=m.parse(f));this._data.concat(f);this._nDataBytes+=f.sigBytes},_process:function(f){var l=this._data,e=l.words,n=l.sigBytes,w=this.blockSize,y=n/(4*w);y=f?a.ceil(y):a.max((y|0)-this._minBufferSize,0);f=y*w;n=a.min(4*f,n);if(f){for(var z=0;z<f;z+=w)this._doProcessBlock(e,z);z=e.splice(0,f);l.sigBytes-=n}return new q.init(z,n)},clone:function(){var f=k.clone.call(this);
f._data=this._data.clone();return f},_minBufferSize:0});d.Hasher=u.extend({cfg:k.extend(),init:function(f){this.cfg=this.cfg.extend(f);this.reset()},reset:function(){u.reset.call(this);this._doReset()},update:function(f){this._append(f);this._process();return this},finalize:function(f){f&&this._append(f);return this._doFinalize()},blockSize:16,_createHelper:function(f){return function(l,e){return(new f.init(e)).finalize(l)}},_createHmacHelper:function(f){return function(l,e){return(new h.HMAC.init(f,
e)).finalize(l)}}});var h=c.algo={};return c}(Math);
(function(a){function b(u,h,f,l,e,n,w){u=u+(h&f|~h&l)+e+w;return(u<<n|u>>>32-n)+h}function c(u,h,f,l,e,n,w){u=u+(h&l|f&~l)+e+w;return(u<<n|u>>>32-n)+h}function d(u,h,f,l,e,n,w){u=u+(h^f^l)+e+w;return(u<<n|u>>>32-n)+h}function g(u,h,f,l,e,n,w){u=u+(f^(h|~l))+e+w;return(u<<n|u>>>32-n)+h}var k=GeiJS,q=k.lib,v=q.WordArray,r=q.Hasher;q=k.algo;for(var t=[],m=0;64>m;m++)t[m]=4294967296*a.abs(a.sin(m+1))|0;q=q.MMF=r.extend({_doReset:function(){this._hash=new v.init([1732584193,4023233417,2562383102,271733878])},
_doProcessBlock:function(u,h){for(var f=0;16>f;f++){var l=h+f,e=u[l];u[l]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360}f=this._hash.words;l=u[h+0];e=u[h+1];var n=u[h+2],w=u[h+3],y=u[h+4],z=u[h+5],C=u[h+6],I=u[h+7],K=u[h+8],M=u[h+9],O=u[h+10],P=u[h+11],Q=u[h+12],R=u[h+13],V=u[h+14];u=u[h+15];h=f[0];var B=f[1],E=f[2],H=f[3];h=b(h,B,E,H,l,7,t[0]);H=b(H,h,B,E,e,12,t[1]);E=b(E,H,h,B,n,17,t[2]);B=b(B,E,H,h,w,22,t[3]);h=b(h,B,E,H,y,7,t[4]);H=b(H,h,B,E,z,12,t[5]);E=b(E,H,h,B,C,17,t[6]);B=b(B,E,H,h,I,22,
t[7]);h=b(h,B,E,H,K,7,t[8]);H=b(H,h,B,E,M,12,t[9]);E=b(E,H,h,B,O,17,t[10]);B=b(B,E,H,h,P,22,t[11]);h=b(h,B,E,H,Q,7,t[12]);H=b(H,h,B,E,R,12,t[13]);E=b(E,H,h,B,V,17,t[14]);B=b(B,E,H,h,u,22,t[15]);h=c(h,B,E,H,e,5,t[16]);H=c(H,h,B,E,C,9,t[17]);E=c(E,H,h,B,P,14,t[18]);B=c(B,E,H,h,l,20,t[19]);h=c(h,B,E,H,z,5,t[20]);H=c(H,h,B,E,O,9,t[21]);E=c(E,H,h,B,u,14,t[22]);B=c(B,E,H,h,y,20,t[23]);h=c(h,B,E,H,M,5,t[24]);H=c(H,h,B,E,V,9,t[25]);E=c(E,H,h,B,w,14,t[26]);B=c(B,E,H,h,K,20,t[27]);h=c(h,B,E,H,R,5,t[28]);H=
c(H,h,B,E,n,9,t[29]);E=c(E,H,h,B,I,14,t[30]);B=c(B,E,H,h,Q,20,t[31]);h=d(h,B,E,H,z,4,t[32]);H=d(H,h,B,E,K,11,t[33]);E=d(E,H,h,B,P,16,t[34]);B=d(B,E,H,h,V,23,t[35]);h=d(h,B,E,H,e,4,t[36]);H=d(H,h,B,E,y,11,t[37]);E=d(E,H,h,B,I,16,t[38]);B=d(B,E,H,h,O,23,t[39]);h=d(h,B,E,H,R,4,t[40]);H=d(H,h,B,E,l,11,t[41]);E=d(E,H,h,B,w,16,t[42]);B=d(B,E,H,h,C,23,t[43]);h=d(h,B,E,H,M,4,t[44]);H=d(H,h,B,E,Q,11,t[45]);E=d(E,H,h,B,u,16,t[46]);B=d(B,E,H,h,n,23,t[47]);h=g(h,B,E,H,l,6,t[48]);H=g(H,h,B,E,I,10,t[49]);E=g(E,
H,h,B,V,15,t[50]);B=g(B,E,H,h,z,21,t[51]);h=g(h,B,E,H,Q,6,t[52]);H=g(H,h,B,E,w,10,t[53]);E=g(E,H,h,B,O,15,t[54]);B=g(B,E,H,h,e,21,t[55]);h=g(h,B,E,H,K,6,t[56]);H=g(H,h,B,E,u,10,t[57]);E=g(E,H,h,B,C,15,t[58]);B=g(B,E,H,h,R,21,t[59]);h=g(h,B,E,H,y,6,t[60]);H=g(H,h,B,E,P,10,t[61]);E=g(E,H,h,B,n,15,t[62]);B=g(B,E,H,h,M,21,t[63]);f[0]=f[0]+h|0;f[1]=f[1]+B|0;f[2]=f[2]+E|0;f[3]=f[3]+H|0},_doFinalize:function(){var u=this._data,h=u.words,f=8*this._nDataBytes,l=8*u.sigBytes;h[l>>>5]|=128<<24-l%32;var e=a.floor(f/
4294967296);h[(l+64>>>9<<4)+15]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360;h[(l+64>>>9<<4)+14]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360;u.sigBytes=4*(h.length+1);this._process();u=this._hash;h=u.words;for(f=0;4>f;f++)l=h[f],h[f]=(l<<8|l>>>24)&16711935|(l<<24|l>>>8)&4278255360;return u},clone:function(){var u=r.clone.call(this);u._hash=this._hash.clone();return u}});k.MMF=r._createHelper(q);k.GeiMMF=r._createHmacHelper(q)})(Math);
function lli1li1l(a,b){b=GeiJS.enc.Utf8.parse(b);return GeiJS.OBJFJKET.encrypt(a,b,{mode:GeiJS.mode.FENCTIOP,padding:GeiJS.pad.GFACDE}).toString()}function ili11liii(a,b){b=GeiJS.enc.Utf8.parse(b);return GeiJS.OBJFJKET.decrypt({ciphertext:GeiJS.enc.Base64.parse(a)},b,{mode:GeiJS.mode.FENCTIOP,padding:GeiJS.pad.GFACDE}).toString(GeiJS.enc.Utf8)}function il1il1il(a){return Math.abs(a)}function l1lilili(a){return GeiJS.MMF(a)}var kkjf={kk:1};
function jkkc(a){kkjf.kk+=4;if(513428*kkjf.kk-85421*llliiii1i0o0o0Oii1.ili1lo0o0O==319*kkjf.kk-7*kkjf.kk)return l1lilili(a,"fdfkjwer");kkjf.kk+=3;if(513528*kkjf.kk-85321*lili1lli0o000oO.iliOOO00ool1*kkjf.kk==449*kkjf.kk-7*kkjf.kk)return li1li1li(a,"3423dsdf");kkjf.kk-=6;if(513328*kkjf.kk-85121*lllio0o0OO1i111li1lii1.ilio0oOOi1il1*kkjf.kk==639*kkjf.kk-7*kkjf.kk)return il1il1il(a,"dfdfsd2");--kkjf.kk;if(513828*kkjf.kk-85621*lll1i111lOOO0o00ii1.il0oo0Oli1il1*kkjf.kk==109*kkjf.kk-7*kkjf.kk)return lli1li1l(a,
"cnkierjj");kkjf.kk+=3;if(513228*kkjf.kk-85221*llli111li1lil1.ili10ooOO1*kkjf.kk==729*kkjf.kk-7*kkjf.kk)return l1lilili(a,"23dfsdf2");if(51128*kkjf.kk-85321*lll1i111lio0o01.iOOOooi1il1*kkjf.kk==439*kkjf.kk-7*kkjf.kk)return li1iiil1(a,"sfcdfer8")}function fInction(a,b){a=lli1li1l(a+":"+b,"function");a=li1li1li(a);a=il1il1il(a+"");a=l1lilili(a+"");a=li1li1li(a+"");a=il1il1il(a);return a=li1iiil1(a)}
function jkko(a){kkjf.kk+=4;if(513428*kkjf.kk-85421*llliiii1i0o0o0Oii1.ili1lo0o0O==319*kkjf.kk-7*kkjf.kk)return li1iiil1(a,"fdfkjwer");kkjf.kk+=3;if(513528*kkjf.kk-85321*lili1lli0o000oO.iliOOO00ool1*kkjf.kk==449*kkjf.kk-7*kkjf.kk)return l1lilili(a,"3423dsdf");kkjf.kk-=6;if(513328*kkjf.kk-85121*lllio0o0OO1i111li1lii1.ilio0oOOi1il1*kkjf.kk==639*kkjf.kk-7*kkjf.kk)return lli1li1l(a,"dfdfsd2");--kkjf.kk;if(513828*kkjf.kk-85621*lll1i111lOOO0o00ii1.il0oo0Oli1il1*kkjf.kk==109*kkjf.kk-7*kkjf.kk)return ili11liii(a,
"pouxmdjw");kkjf.kk+=3;if(513228*kkjf.kk-85221*llli111li1lil1.ili10ooOO1*kkjf.kk==729*kkjf.kk-7*kkjf.kk)return l1lilili(a,"23dfsdf2");if(51128*kkjf.kk-85321*lll1i111lio0o01.iOOOooi1il1*kkjf.kk==439*kkjf.kk-7*kkjf.kk)return li1iiil1(a,"sfcdfer8")}
function llii1i1iill(){_keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";this.ili111llii=function(a){var b="",c=0;for(a=_utf8_encode(a);c<a.length;){var d=a.charCodeAt(c++);var g=a.charCodeAt(c++);var k=a.charCodeAt(c++);var q=d>>2;d=(d&3)<<4|g>>4;var v=(g&15)<<2|k>>6;var r=k&63;isNaN(g)?v=r=64:isNaN(k)&&(r=64);b=b+_keyStr.charAt(q)+_keyStr.charAt(d)+_keyStr.charAt(v)+_keyStr.charAt(r)}return b};this.ilil111lii=function(a){var b="",c=0;for(a=a.replace(/[^A-Za-z0-9\+\/=]/g,
"");c<a.length;){var d=_keyStr.indexOf(a.charAt(c++));var g=_keyStr.indexOf(a.charAt(c++));var k=_keyStr.indexOf(a.charAt(c++));var q=_keyStr.indexOf(a.charAt(c++));d=d<<2|g>>4;g=(g&15)<<4|k>>2;var v=(k&3)<<6|q;b+=String.fromCharCode(d);64!=k&&(b+=String.fromCharCode(g));64!=q&&(b+=String.fromCharCode(v))}return b=_utf8_decode(b)};_utf8_encode=function(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b+=String.fromCharCode(d):(127<d&&2048>d?b+=String.fromCharCode(d>>
6|192):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128)),b+=String.fromCharCode(d&63|128))}return b};_utf8_decode=function(a){var b="",c=0;for(c1=c2=0;c<a.length;){var d=a.charCodeAt(c);128>d?(b+=String.fromCharCode(d),c++):191<d&&224>d?(c2=a.charCodeAt(c+1),b+=String.fromCharCode((d&31)<<6|c2&63),c+=2):(c2=a.charCodeAt(c+1),c3=a.charCodeAt(c+2),b+=String.fromCharCode((d&15)<<12|(c2&63)<<6|c3&63),c+=3)}return b}}
function li1li1li1(a){a=(new llii1i1iill).ilil111lii(a);return ili11liii(a,"il1looOo")}
gei.vuePopUtil={exec:function(a,b,c){gei.vuePopUtil._vuePopFrameOnload(a,b);gei.vuePopUtil._vuePopFrameClose(c)},_vuePopFrameOnload:function(a,b){gei.core.eventBus.off(a);gei.core.eventBus.on(a,function(){$(b).unbind("click").bind("click",function(d){var g=["bootstrap-dialog-header","bootstrap-dialog-title","modal-body","modal-header"],k=!0,q;for(q in g)d.target.classList.contains(g[q])&&(k=!1);k&&gei.core.eventBus.fire("Event_closeVuePopCommon")});$(b).find(".bootstrap-dialog-close-button").unbind("click").bind("click",
function(){gei.core.eventBus.fire("Event_closeVuePopCommon")});var c=$(b).find(".js-vue-frame")[0];$(c.contentWindow?c.contentWindow.document:c.contentDocument).unbind("keydown").bind("keydown",function(d){"Escape"!==d.key&&27!==d.keyCode||gei.core.eventBus.fire("Event_closeVuePopCommon")})},this)},_vuePopFrameClose:function(a){gei.core.eventBus.off("Event_vuePopContent");gei.core.eventBus.on("Event_vuePopContent",function(b){$.extend({isEmptyContent:!1},b||{}).isEmptyContent?a.close():(gei.util.confirm("\u5b58\u5728\u672a\u53d1\u5e03\u5185\u5bb9, \u60a8\u786e\u5b9a\u5173\u95ed\u5bf9\u8bdd\u6846\u5417\uff1f",
function(){a.close()}),event.stopPropagation())},this)}};gei.core.eventBus.on("Event_pageContentLoadEnd",function(a){gei.form.bindSpanClick(a)});gei.core.eventBus.on("Event_itemDetailLoadSuccess",function(a){gei.form.bindSpanClick(a.container)});
gei.form={submitSuc:function(){var a="\u8868\u5355\u5df2\u63d0\u4ea4\uff0c\u8c22\u8c22\uff01";0!=$("[js-form-submitSucMessage]").length&&(a=$("[js-form-submitSucMessage]").attr("js-form-submitSucMessage"));$("#formDialog").modal("hide");gei.util.pop({type:BootstrapDialog.TYPE_SUCCESS,title:"\u64cd\u4f5c\u63d0\u793a",message:a})},bindSpanClick:function(a){_.isUndefined(a)&&(a=$(document.body));a.find("[js-form-formGroup]").unbind("click").click(function(){if("true"!==$(this).attr("js-form-needLogin")||
isLogin){var b=$(this).attr("js-form-formGroup"),c=$(this).attr("js-form-fromBusInfo"),d=$(this).attr("js-form-unitId"),g=$(this).attr("js-form-unitType"),k=$(this).attr("js-form-defaultTypeCode"),q="/gei-engine/pageComp/form/main?formGroup="+b+"&fromBusInfo="+c+(_.isUndefined(d)?"":"&unitId="+d)+(_.isUndefined(g)?"":"&unitType="+g)+(_.isUndefined(k)?"":"&defaultTypeCode="+k);gei.util.pop({id:"formDialog",type:BootstrapDialog.TYPE_DEFAULT,width:isMobileSite?"100%":830,dialogBodyCss:"padding: 0px 15px 15px;",
title:$(this).attr("js-form-formTitle"),message:"\u6b63\u5728\u52a0\u8f7d\uff0c\u8bf7\u7a0d\u540e...",closeByBackdrop:!1,closeByKeyboard:!1,onshow:function(v){v.$modalBody.html('<iframe class="js-vue-frame form-iframe-container" src="'+q+'" frameborder="0" scrolling="no"></iframe>');gei.vuePopUtil.exec("Event_vueFromPopFrameOnload",v.$modal,v)},buttons:[]})}else gei.login.pop.loginPop(gei.login.pop.tipMessageOperate)})}};$(function(){isMobileSite&&gei.positer.initCalcMobileImgCoord()});
gei.positer={initCalcMobileImgCoord:function(){var a=$(".poster-body-container img[usemap]");a.each(function(b,c){$("<img/>").attr("src",$(c).attr("src")).load(function(){$(c).attr("srcWidth",this.width);gei.positer.scaleImgCoords(c)})});a.each(function(b,c){$(c).load(function(){gei.positer.scaleImgCoords(c)})});a.each(function(b,c){gei.positer.scaleImgCoords(c)})},scaleImgCoords:function(a){var b=$(a).width(),c=$(a).attr("srcWidth");if(!(_.isUndefined(b)||0>=b||_.isUndefined(c)||0>=c)){var d=b/c;
a=$(a).attr("usemap").substr(1);$(".poster-body-container map[id='"+a+"']").find("area").each(function(g,k){k=$(k);var q=[];k.attr("coords").split(",").forEach(function(v){q.push(Math.round(v*d))});k.attr("coords",q.join(","))})}},checkLogin:function(a){isLogin?createFormAndSubmit(a,{},"post","_blank"):gei.login.pop.loginPop(gei.login.pop.tipMessageOperate)}};
gei.signal={exec:function(a,b){_.isUndefined(signalCodes)||""==signalCodes||-1==signalCodes.split(",").indexOf(a.toLowerCase().trim())?b():gei.util.pop({id:"signalPop",title:"\u53e3\u4ee4",type:BootstrapDialog.TYPE_DEFAULT,width:isMobileSite?300:500,message:"\u6b63\u5728\u52a0\u8f7d\uff0c\u8bf7\u7a0d\u540e...",onshow:function(c){gei.ajax({url:"/gei-common/ajaxComp/signal/info",data:{signalCode:a}},function(d){c.$modalDialog.css("width",d.posterWidth);c.$modalBody.html('<a href="'+d.posterUrl+'" target="_blank"><img src="'+
d.imageVisitUrl+'"></a>')},function(){b()})},buttons:[{label:'\u4ecd\u7136\u5728\u7231\u7ed9\u7f51\u641c\u7d22"'+a+'"\u76f8\u5173\u5185\u5bb9',action:function(c){c.close();b()}}]})}};gei.core.eventBus.on("Event_pageContentLoadEnd",function(){gei.cdKey.init()});
gei.cdKey={loginPopTipMessage:"\u8bf7\u60a8\u767b\u5f55\u540e, \u8f93\u5165\u5151\u6362\u7801\u8fdb\u884c\u5151\u6362",init:function(){var a=$(".js-cdKey-container");if(0!=a.size()){a.find(".js-cdKey-code").unbind("click").click(function(){isLogin||gei.login.pop.loginPop(gei.cdKey.loginPopTipMessage)});var b=this;a.find(".js-cdKey-button").unbind("click").click(function(){b._bindBtn()})}},_bindBtn:function(){if(isLogin){var a=$(".js-cdKey-code").val();_.isUndefined(a)||""==a?gei.util.alertWarn("\u8f93\u5165\u5151\u6362\u7801\u4e0d\u80fd\u4e3a\u7a7a\uff01"):
gei.ajax({url:"/gei-common/ajaxComp/cdKey/Check",data:{code:a}},function(b){gei.cdKey._cdKeyPrimaryPop(b.message,a)},function(b){b=_.isUndefined(b)?"\u7cfb\u7edf\u51fa\u9519, \u8bf7\u548c\u7f51\u7ad9\u7ba1\u7406\u5458\u8054\u7cfb":b.message;gei.util.alertWarn(b)})}else gei.login.pop.loginPop(gei.cdKey.loginPopTipMessage)},_cdKeyPrimaryPop:function(a,b){gei.util.confirm(a,function(){gei.ajax({url:"/gei-common/ajaxComp/cdKey/use",data:{code:b}},function(c){gei.util.alertSuccess(c.message)},function(c){c=
_.isUndefined(c)?"\u7cfb\u7edf\u51fa\u9519, \u8bf7\u548c\u7f51\u7ad9\u7ba1\u7406\u5458\u8054\u7cfb":c.message;gei.util.alertWarn(c)})})}};gei.core.eventBus.on("Event_pageContentLoadEnd",function(){gei.ui.followManager.initFollowManager()});gei.core.eventBus.on("Event_userLogin",function(){gei.ui.followManager.refreshFollowStatus()});
gei.ui.followManager={initFollowManager:function(a){this._initFollowBtns(a);this.refreshFollowStatus(a)},_initFollowBtns:function(a){a=this._queryFollowBtn(a);_.isUndefined(a)||0==a.size()||a.each(function(b,c){b=new gei.ui.Follow;b.init($(c));isLogin||b.updateFollowBtn(!1)})},refreshFollowStatus:function(a){if(isLogin&&(a=this._queryFollowBtn(a),!_.isUndefined(a)&&0!=a.size())){var b="[js-follow-followUserId= "+loginUserId+"]";a.filter(b).hide();var c=a.not(b);if(0!=c.size()){c.show();var d=[];c.each(function(k,
q){d.push(parseInt($(q).attr("js-follow-followUserId")))});var g=this;gei.ajax({type:"post",url:"/gei-space/jsonComp/follow/queryAllFollowStatus.json",dataType:"json",data:{followUserIds:d}},function(k){c.each(function(q,v){g._updateFollowStatus($(v),k.followStatus[q])})},function(k){})}}},_updateFollowStatus:function(a,b){a.data("follow").updateFollowBtn(b)},_queryFollowBtn:function(a){_.isUndefined(a)&&(a=$(document.body));return a.find("span[js-follow-btn='true']")},changeFollowUnitPageNum:function(a){this._changePageNum(a,
"unit")},changeFollowUserPageNum:function(a){this._changePageNum(a,"user")},_changePageNum:function(a,b){var c={};""!==a&&1!==a&&(c.page=a);$.pjax({container:"#pjax_follow_container",timeout:1E7,url:"/home/follow/"+b+"#resContainer",data:c,scrollTo:!1});$("#pjax_follow_container").off("pjax:start").on("pjax:start",function(){NProgress.start();gei.core.eventBus.fire("Event_pageContentLoadStart")}).off("pjax:end").on("pjax:end",function(){gei.core.eventBus.fire("Event_pageContentLoadEnd");NProgress.done()})}};
gei.ui.Follow=function(){this.followUserId=this.followBtn=null;this.followBtnClass="gei-btn-primary";this.cancelFollowBtnClass="cancel-follow-btn";this.init=function(a){this.followBtn=a;!_.isUndefined(a)&&_.isUndefined(this.followBtn.data("follow"))&&(this.followUserId=this.followBtn.attr("js-follow-followUserId"),this.followBtn.data("follow",this),this._bindFollowBtnClick())};this._bindFollowBtnClick=function(){var a=this;this.followBtn.unbind("click").click(function(){if(isLogin){var b=a._findNewFollowStatus();
b?a._updateFollowInfo(b):gei.util.confirm("\u786e\u8ba4\u4e0d\u518d\u5173\u6ce8\u6b64\u4eba?",function(){a._updateFollowInfo(b)})}else gei.login.pop.loginPop(gei.login.pop.tipMessageOperate)})};this._updateFollowInfo=function(a){gei.ui.uiUtil.disableDom(this.followBtn);var b=this;gei.ajax({type:"post",url:"/gei-space/jsonComp/follow/updateStatus.json",dataType:"json",data:{followUserId:b.followUserId,followStatus:a}},function(c){b.updateFollowBtn(c.isFollow);gei.ui.uiUtil.noDisableDom(b.followBtn)},
function(c){gei.ui.uiUtil.noDisableDom(b.followBtn)})};this.updateFollowBtn=function(a){if(a){var b=this;this.followBtn.hover(function(){b.followBtn.text("\u53d6\u6d88\u5173\u6ce8")},function(){b.followBtn.text("\u5df2\u5173\u6ce8")});this.followBtn.addClass(this.cancelFollowBtnClass);this.followBtn.removeClass(this.followBtnClass);this.followBtn.text("\u5df2\u5173\u6ce8")}else this.followBtn.off("mouseenter").unbind("mouseleave"),this.followBtn.addClass(this.followBtnClass),this.followBtn.removeClass(this.cancelFollowBtnClass),
this.followBtn.text("\u5173\u6ce8");this.followBtn.attr("js-is-follow",a)};this._findNewFollowStatus=function(){return"true"==this.followBtn.attr("js-is-follow")?!1:!0}};gei.core.eventBus.on("Event_pageContentLoadEnd",function(a){gei.talk.init(a)});gei.core.eventBus.on("Event_itemDetailLoadSuccess",function(a){gei.talk.init(a.container)});
gei.talk={init:function(a){_.isUndefined(a)&&(a=$(document.body));this._initTop(a);var b=this;a.find(".js-talk-click").unbind("click").click(function(){b.pop($(this))});a.find(".js-talk-reply-click").unbind("click").click(function(){b.popReply($(this))})},_initTop:function(a){this.pop(a.find(".js-talk-top-pop"));var b=this;a.find(".js-talk-top-click").unbind("click").click(function(c){b.pop($(this));c.stopPropagation()})},popReply:function(a){if(!_.isUndefined(a)&&0!=a.size()){var b=a.attr("js-talk-targetUserId"),
c=a.attr("js-talk-commentId"),d=a.attr("js-talk-replyId");gei.util.pop({id:"replyBoxDialog",type:BootstrapDialog.TYPE_INFO,width:500,title:"\u4e92\u52a8\u6d88\u606f\u56de\u590d\u6846",message:"\u6b63\u5728\u52a0\u8f7d\uff0c\u8bf7\u7a0d\u540e...",closeByBackdrop:!0,closeByKeyboard:!0,onshow:function(g){g.$modalBody.html("<textarea name='replyContent' id='replyContent'></textarea>")},buttons:[{label:"\u53d1\u8868",cssClass:"btn-primary",action:function(g){var k=$("#replyContent").val();_.isUndefined(k)||
""==k.trim()||gei.ajax({type:"post",url:"/gei-engine/jsonComp/talk/reply/save.json",dataType:"json",data:{targetUserId:b,commentId:c,replyId:d,content:k}},function(q){g.close();gei.util.pop({type:BootstrapDialog.TYPE_SUCCESS,title:"\u64cd\u4f5c\u63d0\u793a",message:"\u56de\u590d\u6210\u529f"})},function(q){})}},{label:"\u53d6\u6d88",cssClass:"btn-default",action:function(g){g.close()}}]})}},pop:function(a){if(!_.isUndefined(a)&&0!=a.size()){var b=a.attr("js-talk-unitType"),c=a.attr("js-talk-unitId"),
d=a.attr("js-talk-topCommentId"),g=a.attr("js-talk-topReplyId"),k="/gei-engine/pageComp/talk/main?unitType="+b+"&unitId="+c+(_.isUndefined(d)?"":"&topCommentId="+d)+(_.isUndefined(g)?"":"&topReplyId="+g),q=0;gei.util.pop({id:"talkDialog",type:BootstrapDialog.TYPE_DEFAULT,width:isMobileSite?"100%":830,dialogHeaderClass:"talk-modal-header",dialogBodyCss:"padding: 0px;",title:"",message:"\u6b63\u5728\u52a0\u8f7d\uff0c\u8bf7\u7a0d\u540e...",closeByBackdrop:!1,closeByKeyboard:!1,onshow:function(v){var r=
window.innerHeight-100;v.$modalBody.html("<iframe id='vueFrame' class='talk-modal-iframe js-vue-frame'style='height:"+((550<r?r:550)+"px;'src='")+k+"' marginwidth='0' marginheight='0' frameborder='0' scrolling='no'></iframe>");gei.vuePopUtil.exec("Event_vueTalkPopFrameOnload",v.$modal,v);gei.core.eventBus.on("Event_vueTalkCommentSuccess",function(){q++},this)},onhidden:function(){if(0!==q){var v=$("#talkCount-"+b+"-"+c,a);gei.util.changeCountUi(v,q,"\u6761")}},buttons:[]})}}};
gei.core.eventBus.on("Event_pageContentLoadEnd",function(){gei.opSqlBatchOpen.init()});
gei.opSqlBatchOpen={init:function(){var a=$(document.body).find(".js-opSql-page");_.isUndefined(a)||0==a.size()||($(".js-opSql-btn").unbind("click").click(function(){var b=$(this).attr("pageNum");$("iframe[pageNum='"+b+"']").css("z-index",1);$("iframe[pageNum!='"+b+"']").css("z-index",0)}),$(".js-opSql-iframe").load(function(){$(this).contents().find("html").addClass("op-sql-page-body")}),$(".plugin-container").hide(),this.openWindow())},openWindow:function(){var a=$(".js-opSql-right").attr("pageNum"),
b=$(".js-opSql-right").attr("pageSize"),c=$(".js-opSql-right").attr("unitType"),d=$(".js-opSql-right").attr("sql"),g=$(".js-opSql-right").attr("opPageSize"),k=$(".js-opSql-right").attr("dataSource");if(1==a){a=$(".js-opSql-right").attr("openWindowCnt");for(var q=2;q<=a;q++)window.open("/gei-admin/pageComp/admin/openBatchOpSql/page?unitType="+c+"&pageSize="+b+"&pageNum="+q+"&dataSource="+k+"&sql="+d+"&opPageSize="+g,"_blank","toolbar=yes, location=yes, directories=no, status=no, menubar=yes, scrollbars=yes, resizable=no, copyhistory=yes, width="+
window.innerWidth+", height="+window.innerHeight)}}};gei.util.treeIterator={};gei.util.treeIterator.visitParent=function(a,b){b.visit(a)&&null!=a.parent&&this.visitParent(a.parent,b)};gei.util.treeIterator.visitChildrenDeep=function(a,b){if(!b.visit(a))return!1;if(null!=a.children)for(var c=0;c<a.children.length;c++){var d=this.visitChildrenDeep(a.children[c],b);if(!_.isUndefined(d)&&!d)return!1}};
gei.util.treeIterator.visitChildrenDeepExclude=function(a,b){if(null!=a.children)for(var c=0;c<a.children.length;c++){var d=a.children[c];if(!b.visit(d))return!1;d=this.visitChildrenDeepExclude(d,b);if(!_.isUndefined(d)&&!d)return!1}};gei.util.treeIterator.visitChildrenLevel=function(a,b){Array.isArray(a)||(a=[a]);for(var c=[],d=0;d<a.length;d++){if(!b.visit(a[d]))return!1;null!=a[d].children&&(c=c.concat(a[d].children))}if(0<c.length&&(a=this.visitChildrenLevel(c,b),!_.isUndefined(a)&&!a))return!1};
gei.util.treeIterator.calcuDepth=function(a){var b=0;this.visitChildrenDeep(a,{maxDepth:0,visit:function(c){this.maxDepth++;null==c.children&&(this.maxDepth>b&&(b=this.maxDepth),this.maxDepth=0);return!0}});return b};
gei.buy.preCheck={buyPreCheck:function(a){var b=a.el,c={url:"/gei-trade/jsonComp/mall/common/buyOrNotEnoughFund",data:{fundType:a.fundType,price:a.price,unitId:a.itemId,unitType:a.unitType,downConfigCode:a.downConfigCode}},d=a.noAccountCallback,g=a.underFundCallback,k=a.enoughFundCallback;isLogin?$(b).hasClass("disabled")||($(b).addClass("disabled"),gei.ajax(c,function(q){var v=q.userFundAccountStatus;$(b).removeClass("disabled");"noAccount"==v?_.isUndefined(d)||d(q):"underfund"==v?_.isUndefined(g)||
g(q):"freeFund"==v||"enoughFund"==v?_.isUndefined(k)||k(q):gei.util.alertWarn("\u7528\u6237\u8d44\u91d1\u72b6\u6001\u5f02\u5e38\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\u6216\u7740"+applicationTipsMsgFaqChat+"!")},function(q){$(b).removeClass("disabled");gei.util.alertWarn("\u7cfb\u7edf\u51fa\u73b0\u672a\u77e5\u5f02\u5e38\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\u6216\u7740"+applicationTipsMsgFaqChat+"!")})):gei.login.pop.loginPop(gei.login.pop.tipMessageOperate)}};
gei.buy.cart=function(){return{toCart:function(){window.location.href="/home/cart"},save:function(a,b,c,d,g){gei.ajax({url:"/gei-trade/jsonComp/cart/add.json",data:{unitTypeCode:a,unitId:b,goodCode:"agent",licenseId:c,amount:1}},function(k){d&&d(k)},function(k){gei.util.alertWarn("\u6dfb\u52a0\u5931\u8d25!");g&&g(k)})},remove:function(a,b){gei.ajax({url:"/gei-trade/jsonComp/cart/remove.json",data:{id:a,amount:b}},function(c){window.location.reload()},function(c){gei.util.alertWarn("\u5220\u9664\u5931\u8d25!")})},
queryCartNum:function(a,b){gei.ajaxWithError({url:"/gei-trade/jsonComp/cart/queryCartNum.json",data:{goodCode:a}},function(c){b(c.cartNum)})},confirmToBuy:function(){gei.pay.buy.createCartAndPopCheckout({goodType:"cart",goodCnt:1,goodCode:"agent",useCp:!0,checkoutMode:"cpMusicCart",container:".cart-container",containerLoadUrl:"/gei-home/ajaxComp/cart/infos"})}}}();
function cpSoundJsCallBack(a,b,c){gei.util.pop({type:BootstrapDialog.TYPE_INFO,title:"\u8d44\u6e90\u4e0b\u8f7d",width:375,message:"",onshow:function(d){d.$modalHeader.hide();d.$modalFooter.hide();d.$modalContent.css("border-radius","15px");d.$modalDialog.css("width",this.width);d=d.$modalBody;d.css("padding","0px");d.html(c)}})}
gei.buy.cpSound={default_good_type:"cp_sound",default_amount:1,pageInit:function(){gei.buy.cpSound._tipSuccessPay($("#tipSuccessPay").val())},bindBuyBtn:function(){$(".cp-sound-buy-btn").unbind("click").click(function(){gei.buy.cpSound._buy($(this))})},downloadSoundFile:function(a,b,c){gei.ajax({url:"/gei-home/jsonComp/user/home/download/cpSoundItemFile",data:{fundLogId:b,fileAppTypeCode:c}},function(d){var g=$("#fileDownloadFrame");0==g.size()&&(g=$('<iframe id="fileDownloadFrame" style="display:none"></iframe> ').appendTo($("body")));
g.attr("src",d.message);d="\u6ca1\u81ea\u52a8\u4e0b\u8f7d? <b><span class='link-style' onclick=\"moreDownload('"+d.message+"');\">\u5907\u7528\u4e0b\u8f7d\u70b9</span></b>";gei.util.tooltipAutoHide($(a),d,{placement:"top"})},function(d){gei.util.alertWarn(d.message)})},_buy:function(a){var b=gei.buy.cpSound,c=$(a).attr("unitType"),d=$(a).attr("itemId"),g=$(a).attr("downConfigCode");gei.buy.preCheck.buyPreCheck({el:a,fundType:"sound",price:"-1",itemId:d,unitType:c,downConfigCode:g,noAccountCallback:function(k){b._showInfo()},
underFundCallback:function(k){b._showInfo();b._notEnoughMessenger()},enoughFundCallback:function(k){b._downCpSound(d)}})},showCpGoodInfo:function(){gei.buy.cpSound._showInfo()},confirmToBuy:function(a){a={goodType:this.default_good_type,goodCnt:this.default_amount,goodCode:a,useCp:$("#useCp").prop("checked"),checkoutMode:"cpSound"};gei.pay.buy.createNoGoodAndPopCheckout(a)},showCpSoundBuyInfo:function(){gei.util.pop({type:BootstrapDialog.TYPE_INFO,title:"\u8d2d\u4e70\u6307\u5357",width:isMobileSite?
500:700,message:'<div class="get-music-use"><h3>\u5982\u4f55\u83b7\u5f97\u97f3\u6548\u4f7f\u7528\u6388\u6743\uff1f</h3>    <div class="el-row">        <div class="el-col el-col-12">            <div class="step-item dark">                <div class="number">\u7b2c\u4e00\u6b65</div>                <h4>\u6311\u9009\u97f3\u6548</h4>                <p>\u5728\u97f3\u6548\u5e93\u4e2d\u6311\u9009\u559c\u6b22\u7684\u97f3\u6548\u3002</p></div>        </div>        <div class="el-col el-col-12">            <div class="step-item dark">                <div class="number">\u7b2c\u4e8c\u6b65</div>                <h4>\u8bd5\u542c\u8bd5\u7528</h4>                <p>\u5728\u7ebf\u8bd5\u542c\u6216\u4e0b\u8f7d\u8bd5\u542c\u7248\u97f3\u9891\u6587\u4ef6\u8fdb\u884c\u8bd5\u7528\u3002</p></div>        </div>        <div class="el-col el-col-12">            <div class="step-item dark">                <div class="number">\u7b2c\u4e09\u6b65</div>                <h4>\u652f\u4ed8\u8d2d\u4e70</h4>                <p>\u9009\u62e9\u97f3\u6548\u5305\u5957\u9910\uff0c\u8fdb\u884c\u652f\u4ed8\u3002</p></div>        </div>        <div class="el-col el-col-12">            <div class="step-item dark">                <div class="number">\u7b2c\u56db\u6b65</div>                <h4>\u4e0b\u8f7d\u97f3\u6548</h4>                <p>\u4e0b\u8f7d\u65e0\u635f\u54c1\u8d28\u7684\u97f3\u9891\u3002</p></div>        </div>       <div class="el-col el-col-12">            <div class="step-item dark">                <div class="number">\u7b2c\u4e94\u6b65</div>                <h4>\u6fc0\u6d3b\u6388\u6743</h4>                <p>\u5b8c\u5584\u9879\u76ee\u4fe1\u606f\u6fc0\u6d3b\u6388\u6743\uff0c\u83b7\u5f97\u6388\u6743\u8bc1\u4e66\u3002                <br><span class=\'batch-authorize\'>\u82e5\u9700\u8981\u540c\u65f6\u767b\u8bb0\u8f83\u591a\u6388\u6743\u8bc1\u4e66\uff0c\u53ef\u4ee5\u5728\u7f51\u7ad9\u5e95\u90e8\u201c\u8054\u7cfb\u5ba2\u670d\u201d\uff0c\u6211\u4eec\u4f1a\u4e3a\u60a8\u8fdb\u884c\u540e\u53f0\u6279\u91cf\u767b\u8bb0\u3002</span></p>            </div>        </div>    </div></div>',
onshown:function(a){}})},_downCpSound:function(a){a=$("#itemInfoToken_cp_sound_"+a);fileGet(a,"play",null,null,null)},_showInfo:function(){gei.buy.common.showGoodInfo({title:"\u83b7\u53d6\u97f3\u6548\u5957\u9910\u5305",goodType:this.default_good_type,mallType:"sound"})},_notEnoughMessenger:function(){Messenger().post({message:'<h6 class="text-success" style="margin-top: 3px;margin-left: 7px"><span class="glyphicon glyphicon-zoom-in"></span>&nbsp;\u5f53\u524d\u65e0\u53ef\u7528\u7248\u6743\u97f3\u6548\u5957\u9910\u5305</h6><span class="not-enough-text-link"><a href="/home/copyright?tabCode=sound">\u5df2\u8d2d\u7248\u6743\u97f3\u6548</a>&nbsp;&nbsp;&nbsp;<a href="/home/order?goodType=cp_sound">\u5957\u9910\u5145\u503c\u8bb0\u5f55</a></span>',
type:"",hideAfter:15})},_tipSuccessPay:function(a){a&&"true"==a&&gei.util.alertSuccess("\u652f\u4ed8\u6210\u529f")}};gei.core.eventBus.on("Event_pageContentLoadEnd",gei.buy.cpSound.bindBuyBtn);$(function(){gei.buy.cpSound.pageInit()});
gei.buy.common={readyToDown:function(a,b,c){var d=$("#"+a),g=$("#"+b);0!=d.length&&0!=g.length&&gei.ajax({url:"/gei-home/jsonComp/buy/download/musicReady.json",data:{id:c}},function(k){d.hide();g.show()},function(k){d.html("<p style='font-size: 12px;'>\u6388\u6743\u767b\u8bb0\u4fe1\u606f\u6b63\u5728\u4eba\u5de5\u5ba1\u6838\u4e2d, \u8bf7\u7a0d\u5019...</p>");d.show();g.hide();setTimeout(function(){gei.buy.common.readyToDown(a,b,c)},1E4)})},iframDown:function(a,b,c){jsInterface_iframeDown({url:b.message});
b="\u6ca1\u81ea\u52a8\u4e0b\u8f7d? <b><span class='link-style' onclick=\"moreDownload('"+b.message+"');\">\u5907\u7528\u4e0b\u8f7d\u70b9</span></b>";gei.util.tooltipAutoHide($(a),b,{placement:c})},downloadByUnit:function(a){var b=a.succFunc,c=a.failFunc;gei.ajax({url:a.ajaxUrl,data:a.data},function(d){_.isUndefined(b)||b(d)},function(d){_.isUndefined(c)||c(d)})},showGoodInfo:function(a){isLogin?gei.util.pop({type:BootstrapDialog.TYPE_DEFAULT,title:a.title,width:isMobileSite?456:639,onshow:function(b){b.$modalDialog.css("width",
this.width);b.$modalHeader.hide();b.$modalFooter.hide();b.$modalContent.css("border-radius","15px");b=b.$modalBody;b.css("padding","0px");b.load("/gei-trade/ajaxComp/cp/packPage",{goodType:a.goodType,mallType:a.mallType})}}):gei.login.pop.loginPop(gei.login.pop.tipMessageOperate)}};
gei.buy.cpMusic=function(){function a(l){for(var e=[],n=!1,w=0;w<u.length;w++){var y=u[w];n&&e.push(y);y.code==l&&(n=!0)}return e}function b(l){var e="";if(!l)return e;var n=l.dim;l=l.licenses;e+="<div class='container' data-type='lic_container' data-lic-type='"+n.code+"'>";e+="<span class='title'>"+n.name+"</span>";e+="<ul class='content'>";for(var w=0;w<l.length;w++){var y=l[w],z;a:{if(z=h[n.code])for(var C=0;C<z.length;C++)if(z[C].code==y){z=z[C];break a}z=""}e+="<li data-type='lic_choose_btn' data-selected='false' data-lic-type='"+
n.code+"' data-lic-code='"+y+"'  data-toggle='tooltip' data-placement='top' title='"+z.remark+"' onclick='gei.buy.cpMusic.select(this);'>"+z.name+"</li>"}return e+"</ul></div>"}function c(l,e){var n=$("<div class='lic_choose' id='licChooseContainer'></div>");gei.ajax({url:"/gei-home/jsonComp/buy/license/choose.json",data:{unitTypeCode:l,unitId:e}},function(w){u=[];h={};f=[];if(w.licenseDim)for(p in w.licenseDim)u.push({index:0,name:w.licenseDim[p],code:p});w.licenseDict&&(h=w.licenseDict);w.agentGoods&&
(f=w.agentGoods);a:{for(w=0;w<u.length;w++){var y=u[w],z=d(y.code);if(0<z.length){w={dim:y,licenses:z};break a}}w=void 0}$(b(w)).appendTo($(n))});return n}function d(l){for(var e={},n=q(),w=0;w<n.length;w++){var y=n[w][l];y&&null!=y&&(e[y]||(e[y]=y))}l=[];for(p in e)l.push(p);return l}function g(l,e){$('[data-type="lic_choose_btn"][data-lic-type="'+l+'"]').attr("data-selected",!1);$('[data-type="lic_choose_btn"][data-lic-type="'+l+'"][data-lic-code="'+e+'"]').attr("data-selected",!0)}function k(){var l=
{};$('[data-type="lic_choose_btn"][data-selected="true"]').each(function(e,n){e=$(this).attr("data-lic-type");n=$(this).attr("data-lic-code");l[e]=n});return l}function q(){for(var l=[],e=k(),n=0;n<f.length;n++){var w=f[n],y=!0;for(p in e)if(w[p]!=e[p]){y=!1;break}y&&l.push(w)}return l}function v(l,e,n){e=a(l);for(var w=0;w<e.length;w++)$('[data-type="lic_container"][data-lic-type="'+e[w].code+'"]').remove();$(".account").remove();a:{l=a(l);for(e=0;e<l.length;e++){w=l[e];var y=d(w.code);if(0<y.length){l=
{dim:w,licenses:y};break a}}l=void 0}if(l)n=b(l);else if(e=q(),1!=e.length)n||gei.util.alertWarn("\u8ba1\u7b97\u91d1\u989d\u51fa\u9519!"),n=void 0;else{var z=e[0];n=z.salePrice;e=z.unitTypeCode;w=z.unitId;y=z.licenseId;z=z.agentLicenseDesc;var C="<div class='account'>";z&&""!=z&&(z=z.replaceAll("||",","),C+="<div class='license-row'><span>\u6388\u6743\u8303\u56f4\uff1a</span><span class='lic-desc'>"+z+"</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>\u6388\u6743\u65f6\u95f4\uff1a</span><span class='lic-desc'>\u6c38\u4e45</span><br><span>\u53ef\u6388\u6743\u4e3b\u4f53\uff1a</span><span class='lic-desc'>\u4f01\u4e1a\u3001\u653f\u5e9c\u3001\u7ec4\u7ec7\u3001\u4e2a\u4eba</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>\u53ef\u6388\u6743\u4e3b\u4f53\u6570\u91cf\uff1a</span><span class='lic-desc'>1\u4e2a</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>\u4e0d\u652f\u6301\u8f6c\u6388\u6743</span></div>");
C=C+" <div class='pay-row'>   <span class='title'>\u4ef7\u683c\uff1a</span><span class='rmb-icon'>\uffe5</span>   <span class='price' id='price_container'>"+(n+"</span>   <div class='account-btn'>     <button class='btn btn-danger' id='nowToPayBtn' onclick='gei.buy.cpMusic.imdToPay(\"")+(e+'","'+w+'","'+y+"\");'>\u7acb\u5373\u8d2d\u4e70</button>");C+="     <button class='btn btn-success' id='addToCartBtn' onclick='gei.buy.cpMusic.addToCart(\""+e+'","'+w+'","'+y+"\");'>\u6dfb\u52a0\u5230\u8d2d\u7269\u8f66</button>";
C+="     <button class='btn btn-info' id='continueBuyBtn' style='display: none;' onclick='gei.buy.cpMusic.continueBuy();'>\u7ee7\u7eed\u9009\u5546\u54c1</button>";C+="     <button class='btn btn-danger' id='toPayBtn' style='display: none;' onclick='gei.buy.cpMusic.goToPay();'>\u53bb\u7ed3\u7b97</button>";C+="   </div>";C+=" </div>";n=C+="</div>"}$(n).appendTo($("#licChooseContainer"));l&&1==l.licenses.length&&(n=l.dim.code,l=l.licenses[0],g(n,l),v(n,l,!1));$('li[data-type="lic_choose_btn"]').tooltip()}
function r(){m&&m.close()}function t(){$("#nowToPayBtn").hide();$("#addToCartBtn").hide();$("#toPayBtn").show();$("#continueBuyBtn").show()}var m,u=[],h={},f=[];return{choose:function(l,e){l=c(l,e);isLogin&&gei.util.pop({type:BootstrapDialog.TYPE_INFO,title:"\u8bf7\u9009\u62e9\u6388\u6743",width:isMobileSite?500:700,message:l,onshown:function(n){m=n;for(var w=[{type:"goodUse",code:"cdcsj_b"},{type:"projectCnt",code:"cdcsj_project"}],y=0;y<w.length;y++){var z=w[y],C=z.type;z=z.code;g(C,z);v(C,z,!0)}(n=
$(".bootstrap-dialog-footer-buttons",n.$modalFooter))&&n.prepend('<a href="javascript:gei.buy.cpMusic.showCpMusicBuyInfo();" style="color: inherit;float: left;padding-left: 25px;">\u5982\u4f55\u83b7\u5f97\u97f3\u4e50\u4f7f\u7528\u6388\u6743?</a>')}})},select:function(l){var e=$(l);l=e.attr("data-lic-type");e=e.attr("data-lic-code");g(l,e);v(l,e,!1)},continueBuy:function(){r()},goToPay:function(){gei.buy.cart.toCart()},addToCart:function(l,e,n){n?gei.buy.cart.save(l,e,n,t,r):gei.util.alertWarn("\u8bf7\u60a8\u9009\u62e9\u9700\u8981\u8d2d\u4e70\u7684\u6388\u6743!")},
imdToPay:function(l,e,n){gei.pay.buy.imdToPay({unitTypeCode:l,unitId:e,licenseId:n,goodType:"cart",goodCode:"agent",useCp:!0,checkoutMode:"cpMusic",beforeAjax:function(){n||gei.util.alertWarn("\u8bf7\u60a8\u9009\u62e9\u9700\u8981\u8d2d\u4e70\u7684\u6388\u6743\uff01")}})}}}();
gei.buy.cpMusic.showCpMusicBuyInfo=function(){gei.util.pop({type:BootstrapDialog.TYPE_INFO,title:"\u8d2d\u4e70\u6307\u5357",width:isMobileSite?500:700,message:'<div class="get-music-use"><h3>\u5982\u4f55\u83b7\u5f97\u97f3\u4e50\u4f7f\u7528\u6388\u6743\uff1f</h3>    <div class="el-row">        <div class="el-col el-col-12">            <div class="step-item dark">                <div class="number">\u7b2c\u4e00\u6b65</div>                <h4>\u6311\u9009\u97f3\u4e50</h4>                <p>\u5728\u66f2\u5e93\u4e2d\u6311\u9009\u559c\u6b22\u7684\u97f3\u4e50\u3002</p></div>        </div>        <div class="el-col el-col-12">            <div class="step-item dark">                <div class="number">\u7b2c\u4e8c\u6b65</div>                <h4>\u652f\u4ed8\u8d2d\u4e70</h4>                <p>\u9009\u62e9\u97f3\u4e50\u7528\u9014\uff0c\u8fdb\u884c\u652f\u4ed8\u3002</p></div>        </div>        <div class="el-col el-col-12">            <div class="step-item dark">                <div class="number">\u7b2c\u4e09\u6b65</div>                <h4>\u6fc0\u6d3b\u6388\u6743</h4>                <p>\u5b8c\u5584\u9879\u76ee\u4fe1\u606f\u6fc0\u6d3b\u6388\u6743\uff0c\u83b7\u5f97\u6388\u6743\u8bc1\u4e66\u3002</p></div>        </div>        <div class="el-col el-col-12">            <div class="step-item dark">                <div class="number">\u7b2c\u56db\u6b65</div>                <h4>\u4e0b\u8f7d\u97f3\u4e50</h4>                <p>\u4e0b\u8f7d\u65e0\u635f\u54c1\u8d28\u7684\u97f3\u9891\u3002</p></div>        </div>    </div></div>',onshown:function(a){}})};
gei.buy.order=function(){function a(c,d,g){gei.home.queryTable("/home/order/tab","#contentOrderDetailBody",{pageNum:c,hasPayed:d,goodType:g})}function b(c,d,g){gei.util.confirm("\u786e\u8ba4\u64cd\u4f5c?",function(){gei.ajax({url:"/gei-trade/jsonComp/order/status.json",data:{tradeId:c,status:d}},function(k){g&&g(k);gei.buy.orderDetailWin&&gei.buy.orderDetailWin.close&&gei.buy.orderDetailWin.close()},function(k){gei.util.alertWarn("\u5220\u9664\u5931\u8d25!")})})}return{jumpPage:a,updateOrderStatus:function(c,
d,g,k){b(c,d,function(q){q=$("#h_pageNum");q=0<q.length?q.val():1;a(q,g,k)})},queryDetail:function(c){gei.util.confirm(function(){var d=$('<div class="container-fluid"></div>');d.load("/home/order/detail",{orderId:c},function(){});return d},function(){},{title:"\u8ba2\u5355\u8be6\u60c5",width:isMobileSite?500:1E3,onshown:function(d){},buttons:[]})},toPay:function(c,d){gei.pay.buy.findOrderAndPopCheckout({orderId:c,chargeType:d,useCp:!0},{checkoutMode:"ucOrder"})}}}();
gei.buy.order.invoice={apply:function(a,b,c){window.location.href=mainHostUrl+"/home/order?operator=invoice"},submitSucc:function(){$("#invoiceFormDialog").modal("hide");$("#invoiceFormDialog").on("hidden.bs.modal",function(){Messenger().post({message:'<h6 class="text-success" style="margin-top:3px">\u64cd\u4f5c\u6210\u529f</h6>',type:"",hideAfter:3,showCloseButton:!0});gei.buy.order.jumpPage(1,$("#order_hasPayed").val(),$("#goodType").val())})},info:function(a){gei.util.confirm(function(){var b=
$("<div></div>");b.load("/gei-home/ajaxComp/order/invoice/info",{invoiceId:a},function(){});return b},function(){},{title:"\u53d1\u7968\u8be6\u60c5",width:isMobileSite?500:700,buttons:[{label:"\u5173\u95ed",cssClass:"btn-primary",action:function(b){b.close()}}]})},listLoad:function(a){$("#invoice-iframe").attr("src",a)}};
gei.buy.order.contract={apply:function(a){window.location.href="/gei-home/ajaxComp/order/contract?orderId="+a},info:function(a,b){gei.util.confirm(function(){var c=$("<div></div>");c.load("/gei-home/ajaxComp/order/contract/info",{tradeId:a,contractId:b},function(){});return c},function(){},{title:"\u6388\u6743\u5408\u540c\u8be6\u60c5",width:isMobileSite?500:700,buttons:[{label:"\u5173\u95ed",cssClass:"btn-primary",action:function(c){c.close()}}]})}};
gei.buy.order.loadSelect={loadCompanySelect:function(a,b){$.post("/gei-home/ajaxComp/info/company/select",{id:a},function(c,d){$(b).html(c)})},loadAddressSelect:function(a,b){$.post("/gei-home/ajaxComp/info/address/select",{id:a},function(c,d){$(b).html(c)})}};
gei.buy.license={unlockWin:function(a,b){gei.util.confirm(function(){var c=$("<div></div>");c.load("/gei-home/ajaxComp/buy/unlock",{buyId:a,licenseSysType:b},function(){});return c},function(){},{title:"\u89e3\u9501--\x3e\u8bf7\u586b\u5199\u6388\u6743\u4fe1\u606f\u89e3\u9501\uff0c\u6211\u4eec\u5c06\u4e3a\u60a8\u51fa\u5177\u6388\u6743\u8bc1\u4e66\u5e76\u63d0\u4f9b\u53ef\u4e0b\u8f7d\u7684\u8d44\u6e90\u94fe\u63a5",width:isMobileSite?500:700,closeByBackdrop:!1,closeByKeyboard:!1,onshown:function(c){$("#buyLicenseForm").validate({submitHandler:function(d){gei.buy.license._submitUnlock(c)},
rules:{useType:{required:!0},authorize:{required:!0},projectName:{required:!0,maxlength:190},projectTaget:{required:!0,maxlength:190},projectDesc:{required:!0,maxlength:390}},messages:{projectName:{maxlength:"\u60a8\u586b\u5199\u7684\u5185\u5bb9\u8d85\u8fc7\u4e86\u5141\u8bb8\u7684\u6700\u5927\u957f\u5ea6\uff0c\u8bf7\u5220\u51cf\u90e8\u5206\u5185\u5bb9\u540e\u518d\u63d0\u4ea4"},projectTaget:{maxlength:"\u60a8\u586b\u5199\u7684\u5185\u5bb9\u8d85\u8fc7\u4e86\u5141\u8bb8\u7684\u6700\u5927\u957f\u5ea6\uff0c\u8bf7\u5220\u51cf\u90e8\u5206\u5185\u5bb9\u540e\u518d\u63d0\u4ea4"},
projectDesc:{maxlength:"\u60a8\u586b\u5199\u7684\u5185\u5bb9\u8d85\u8fc7\u4e86\u5141\u8bb8\u7684\u6700\u5927\u957f\u5ea6\uff0c\u8bf7\u5220\u51cf\u90e8\u5206\u5185\u5bb9\u540e\u518d\u63d0\u4ea4"}}})},buttons:[{label:"\u63d0\u4ea4",cssClass:"btn-primary",action:function(c){$("#buyLicenseForm").submit()}}]})},downloadLicense:function(a,b){jsInterface_locationHrefDown({url:"/gei-home/responseComp/buy/download/license?id="+a+"&licenseSysType="+b,name:"\u6388\u6743\u4e66.pdf"})},_submitUnlock:function(a){gei.buy.license._validLicense()&&
$("#buyLicenseForm").ajaxRequest({enabelAjaxSubmit:!0,type:"submit",url:"/gei-home/jsonComp/buy/license/unlock.json",success:function(b){b=$("#h_pageNum").val();jumpPage(b);a&&a.close()}})},_validLicense:function(){var a=$("#projectDesc").val(),b=$("#authorize").val(),c=$("#projectName").val(),d=$("#projectTaget").val();a=b+c+d+a;b=$("#pdfReplaceChars").val();c=b.split("");for(d=0;d<c.length;d++)if(_.contains(a,c[d]))return gei.util.alertWarn("\u975e\u5e38\u62b1\u6b49\uff0c\u6388\u6743\u4e66\u4fe1\u606f\u5185\u5bb9\u6682\u4e0d\u652f\u6301\u4ee5\u4e0b\u7279\u6b8a\u7b26\u53f7"+
b+"\uff0c\u8bf7\u4fee\u6539\u540e\u518d\u63d0\u4ea4\uff01"),!1;return!0}};function callBackMallVip(a,b,c){gei.util.pop({type:BootstrapDialog.TYPE_INFO,title:"\u8d44\u6e90\u4e0b\u8f7d",width:500,message:"",onshow:function(d){d.$modalHeader.hide();d.$modalFooter.hide();d.$modalContent.css("border-radius","15px");d.$modalDialog.css("width",this.width);d=d.$modalBody;d.css("padding","0px");d.html(c)}})}
gei.buy.mall={default_good_type:"mall",default_good_code:"mall",imdToPay:function(a){var b=$(a).attr("itemid");a=$(a).attr("unittype");gei.pay.buy.imdToPay({unitTypeCode:a,unitId:b,goodType:this.default_good_type,goodCode:this.default_good_code,useCp:!0,checkoutMode:"mall"})},mallItemFileDown:function(a,b){gei.buy.common.downloadByUnit({ajaxUrl:"/gei-home/jsonComp/download/mallItemFileDown",data:{buyInfoId:b},succFunc:function(c){gei.buy.common.iframDown(a,c,"right")},failFunc:function(c){gei.util.alertWarn(c.message)}})},
mallByUnit:function(a){var b=$(a).attr("itemid");a=$(a).attr("unittype");window.location.href="/home/buyMall?unitType="+a+"&unitId="+b},jumpPage:function(a){gei.home.queryTable("/home/gei-home/ajaxComp/buyMall/info","#contentBuyInfoBody",{pageNum:a,startDate:$("#startDate").val(),endDate:$("#endDate").val(),unitKeyCode:$("#unitKeyCode").val()})},removeFilter:function(a){$(a).parents("li#buy-mall-query-tag").remove();gei.buy.mall.jumpPage(1)}};
function callBackCpImage(a,b,c){gei.util.pop({type:BootstrapDialog.TYPE_INFO,title:"\u8d44\u6e90\u4e0b\u8f7d",width:375,message:"",onshow:function(d){d.$modalHeader.hide();d.$modalFooter.hide();d.$modalContent.css("border-radius","15px");d.$modalDialog.css("width",this.width);d=d.$modalBody;d.css("padding","0px");d.html(c)}})}
gei.buy.cpImage={default_good_type:"cp_image",default_amount:1,confirmToBuy:function(a){gei.pay.buy.createNoGoodAndPopCheckout({goodType:this.default_good_type,goodCnt:this.default_amount,goodCode:a,useCp:!0})},showGoodInfo:function(){gei.buy.common.showGoodInfo({title:"\u83b7\u53d6\u56fe\u7247\u5957\u9910\u5305",goodType:this.default_good_type,mallType:"image"})},showCpImageBuyInfo:function(){gei.util.pop({type:BootstrapDialog.TYPE_INFO,title:"\u8d2d\u4e70\u6307\u5357",width:isMobileSite?500:700,
message:'<div class="get-music-use"><h3>\u5982\u4f55\u83b7\u5f97\u56fe\u7247\u4f7f\u7528\u6388\u6743\uff1f</h3>    <div class="el-row">        <div class="el-col el-col-12">            <div class="step-item dark">                <div class="number">\u7b2c\u4e00\u6b65</div>                <h4>\u6311\u9009\u56fe\u7247</h4>                <p>\u5728\u56fe\u5e93\u4e2d\u6311\u9009\u559c\u6b22\u7684\u56fe\u7247\u3002</p></div>        </div>        <div class="el-col el-col-12">            <div class="step-item dark">                <div class="number">\u7b2c\u4e8c\u6b65</div>                <h4>\u4e0b\u8f7d\u6837\u56fe</h4>                <p>\u4e0b\u8f7d\u8d44\u6e90\u6837\u56fe\u8fdb\u884c\u8bd5\u7528\u3002</p></div>        </div>        <div class="el-col el-col-12">            <div class="step-item dark">                <div class="number">\u7b2c\u4e09\u6b65</div>                <h4>\u652f\u4ed8\u8d2d\u4e70</h4>                <p>\u9009\u62e9\u56fe\u7247\u5305\u5957\u9910\uff0c\u8fdb\u884c\u652f\u4ed8\u3002</p></div>        </div>       <div class="el-col el-col-12">            <div class="step-item dark">                <div class="number">\u7b2c\u56db\u6b65</div>                <h4>\u4e0b\u8f7d\u56fe\u7247</h4>                <p>\u4e0b\u8f7d\u9ad8\u6e05\u54c1\u8d28\u7684\u56fe\u7247\u3002</p></div>        </div>       <div class="el-col el-col-12">            <div class="step-item dark">                <div class="number">\u7b2c\u4e94\u6b65</div>                <h4>\u6fc0\u6d3b\u6388\u6743</h4>                <p>\u5b8c\u5584\u9879\u76ee\u4fe1\u606f\u6fc0\u6d3b\u6388\u6743\uff0c\u83b7\u5f97\u6388\u6743\u8bc1\u4e66\u3002</p></div>        </div>    </div></div>',
onshown:function(a){}})},bindBuyBtn:function(a){gei.buy.cpImage._buy(a)},_buy:function(a){var b=gei.buy.cpImage,c=$(a).attr("unitType"),d=$(a).attr("itemId"),g=$(a).attr("item-down-type");gei.buy.preCheck.buyPreCheck({el:a,fundType:"image",price:"-1",itemId:d,unitType:c,downConfigCode:g,noAccountCallback:function(k){b._showInfo()},underFundCallback:function(k){b._showInfo();b._notEnoughMessenger()},enoughFundCallback:function(k){b._downCpSound(d)}})},_downCpSound:function(a){a=$("#itemInfoToken_cp_image_"+
a);fileGet(a,"play",null,null,null)},_showInfo:function(){gei.buy.common.showGoodInfo({title:"\u83b7\u53d6\u56fe\u7247\u5957\u9910\u5305",goodType:this.default_good_type,mallType:"image"})},_notEnoughMessenger:function(){Messenger().post({message:'<h6 class="text-success" style="margin-top: 3px;margin-left: 7px"><span class="glyphicon glyphicon-zoom-in"></span>&nbsp;\u5f53\u524d\u65e0\u53ef\u7528\u7248\u6743\u56fe\u7247\u5957\u9910\u5305</h6><span class="not-enough-text-link"><a href="/home/copyright?tabCode=image">\u5df2\u8d2d\u7248\u6743\u56fe\u7247</a>&nbsp;&nbsp;&nbsp;<a href="/home/order?goodType=cp_image">\u5957\u9910\u5145\u503c\u8bb0\u5f55</a></span>',
type:"",hideAfter:15})}};function callBackCpVideo(a,b,c){gei.util.pop({type:BootstrapDialog.TYPE_INFO,title:"\u8d44\u6e90\u4e0b\u8f7d",width:375,message:"",onshow:function(d){d.$modalHeader.hide();d.$modalFooter.hide();d.$modalContent.css("border-radius","15px");d.$modalDialog.css("width",this.width);d=d.$modalBody;d.css("padding","0px");d.html(c)}})}
gei.buy.cpVideo={default_good_type:"cp_video",default_amount:1,confirmToBuy:function(a){gei.pay.buy.createNoGoodAndPopCheckout({goodType:this.default_good_type,goodCnt:this.default_amount,goodCode:a,useCp:!0})},showGoodInfo:function(){gei.buy.common.showGoodInfo({title:"\u83b7\u53d6\u89c6\u9891\u5957\u9910\u5305",goodType:this.default_good_type,mallType:"video"})},showCpVideoBuyInfo:function(){gei.util.pop({type:BootstrapDialog.TYPE_INFO,title:"\u8d2d\u4e70\u6307\u5357",width:isMobileSite?500:700,
message:'<div class="get-music-use"><h3>\u5982\u4f55\u83b7\u5f97\u89c6\u9891\u4f7f\u7528\u6388\u6743\uff1f</h3>    <div class="el-row">        <div class="el-col el-col-12">            <div class="step-item dark">                <div class="number">\u7b2c\u4e00\u6b65</div>                <h4>\u6311\u9009\u89c6\u9891</h4>                <p>\u5728\u89c6\u9891\u5e93\u4e2d\u6311\u9009\u559c\u6b22\u7684\u89c6\u9891\u3002</p></div>        </div>        <div class="el-col el-col-12">            <div class="step-item dark">                <div class="number">\u7b2c\u4e8c\u6b65</div>                <h4>\u4e0b\u8f7d\u6837\u7247</h4>                <p>\u4e0b\u8f7d\u8d44\u6e90\u6837\u7247\u8fdb\u884c\u8bd5\u7528\u3002</p></div>        </div>        <div class="el-col el-col-12">            <div class="step-item dark">                <div class="number">\u7b2c\u4e09\u6b65</div>                <h4>\u652f\u4ed8\u8d2d\u4e70</h4>                <p>\u9009\u62e9\u89c6\u9891\u5305\u5957\u9910\uff0c\u8fdb\u884c\u652f\u4ed8\u3002</p></div>        </div>       <div class="el-col el-col-12">            <div class="step-item dark">                <div class="number">\u7b2c\u56db\u6b65</div>                <h4>\u4e0b\u8f7d\u89c6\u9891</h4>                <p>\u4e0b\u8f7d\u9ad8\u6e05\u54c1\u8d28\u7684\u89c6\u9891\u3002</p></div>        </div>       <div class="el-col el-col-12">            <div class="step-item dark">                <div class="number">\u7b2c\u4e94\u6b65</div>                <h4>\u6fc0\u6d3b\u6388\u6743</h4>                <p>\u5b8c\u5584\u9879\u76ee\u4fe1\u606f\u6fc0\u6d3b\u6388\u6743\uff0c\u83b7\u5f97\u6388\u6743\u8bc1\u4e66\u3002</p></div>        </div>    </div></div>',
onshown:function(a){}})},bindBuyBtn:function(a){gei.buy.cpVideo._buy(a)},_buy:function(a){var b=gei.buy.cpVideo,c=$(a).attr("unitType"),d=$(a).attr("itemId"),g=$(a).attr("item-down-type");gei.buy.preCheck.buyPreCheck({el:a,fundType:"video",price:"-1",itemId:d,unitType:c,downConfigCode:g,noAccountCallback:function(k){b._showInfo()},underFundCallback:function(k){b._showInfo();b._notEnoughMessenger()},enoughFundCallback:function(k){b._downCpSound(d)}})},_downCpSound:function(a){a=$("#itemInfoToken_cp_video_"+
a);fileGet(a,"play",null,null,null)},_showInfo:function(){gei.buy.common.showGoodInfo({title:"\u83b7\u53d6\u89c6\u9891\u5957\u9910\u5305",goodType:this.default_good_type,mallType:"video"})},_notEnoughMessenger:function(){Messenger().post({message:'<h6 class="text-success" style="margin-top: 3px;margin-left: 7px"><span class="glyphicon glyphicon-zoom-in"></span>&nbsp;\u5f53\u524d\u65e0\u53ef\u7528\u7248\u6743\u89c6\u9891\u5957\u9910\u5305</h6><span class="not-enough-text-link"><a href="/home/copyright?tabCode=video">\u5df2\u8d2d\u7248\u6743\u89c6\u9891</a>&nbsp;&nbsp;&nbsp;<a href="/home/order?goodType=cp_video">\u5957\u9910\u5145\u503c\u8bb0\u5f55</a></span>',
type:"",hideAfter:15})}};gei.buy.copyright={downloadFile:function(a,b,c){gei.ajax({url:"/gei-home/jsonComp/home/cp/download/itemFile",data:{fundLogId:b,fileAppTypeCode:c}},function(d){gei.buy.common.iframDown(a,d,"top")},function(d){gei.util.alertWarn(d.message)})}};
gei.buy.aucom={dialogRef:null,scopeVoList:[],_btnEl:null,_unitType:null,_unitId:null,_aucomTypeCode:null,_goodsName:null,_aucomScopePopContainer:null,_tipContent:null,_headerHtml:null,default_good_code:"aucom",default_good_type:"aucom",_renderScopeDesc:function(a){var b=gei.buy.aucom,c=b._findScopeByCode(a);_.isUndefined(c)?gei.util.alertWarn("\u8ba1\u7b97\u91d1\u989d\u51fa\u9519\uff01"):$("<div id='aucom-account' class='account'>  <div class='license-row'>"+c.uiHtmlContent+"</div>  <div class='pay-row'>    <span class='title'>\u4ef7\u683c\uff1a</span><span class='rmb-icon'>\uffe5</span>    <span class='price' id='price_container'>"+
c.price+"</span>    <div class='account-btn'>      <button class='btn btn-danger' id='nowToPayBtn' onclick='gei.buy.aucom.imdToPay(\""+b._unitType+'","'+b._unitId+'","'+b._aucomTypeCode+'","'+a+"\");'>\u7acb\u5373\u8d2d\u4e70</button>      <button class='btn btn-success' id='addToCartBtn' onclick='gei.buy.aucom.addToCart(\""+b._unitType+'","'+b._unitId+'","'+b._aucomTypeCode+'","'+a+"\");'>\u6dfb\u52a0\u5230\u8d2d\u7269\u8f66</button>      <button class='btn btn-info' id='continueBuyBtn' style='display: none;' onclick='gei.buy.aucom.continueBuy();'>\u7ee7\u7eed\u9009\u5546\u54c1</button>      <button class='btn btn-danger' id='toPayBtn' style='display: none;' onclick='gei.buy.aucom.goToPay();'>\u53bb\u7ed3\u7b97</button>    </div>  </div></div>").appendTo($(b._aucomScopePopContainer))},
_findScopeByCode:function(a){for(var b=gei.buy.aucom,c=0;c<b.scopeVoList.length;c++){var d=b.scopeVoList[c];if(d.scopeCode===a)return d}},_getFundTip:function(){var a=gei.buy.aucom;return _.isUndefined(a._tipContent)||""===a._tipContent?"":"<div class='alert alert-danger' style='width: 450px;margin: auto auto 15px;' role='alert'>"+a._tipContent+"</div>"},_closeLicWin:function(){var a=gei.buy.aucom;a.dialogRef&&a.dialogRef.close()},_showAfterAddCart:function(){$("#nowToPayBtn").hide();$("#addToCartBtn").hide();
$("#toPayBtn").show();$("#continueBuyBtn").show()},_check:function(a,b){a&&b||gei.util.alertWarn("\u8bf7\u60a8\u9009\u62e9\u9700\u8981\u8d2d\u4e70\u7684\u6388\u6743\uff01")},_showBuyGuide:function(a){var b=$("<div id='aucom-buy-guide'></div>");gei.ajax(a,function(c){c.result&&$(c.result).appendTo($(b))},function(c){gei.util.alertWarn(c.message)});gei.util.pop({type:BootstrapDialog.TYPE_INFO,title:"\u8d2d\u4e70\u6307\u5357",width:isMobileSite?500:700,message:b})},_disableBtnAndShowTip:function(){var a=
gei.buy.aucom;$(a._btnEl).addClass("disabled");$(a._btnEl).tooltip("show")},_enableBtnAndHideTip:function(){var a=gei.buy.aucom;$(a._btnEl).removeClass("disabled");$(a._btnEl).tooltip("hide")},_popWin:function(){var a=gei.buy.aucom,b=$("#aucom-popwin-width-pc",a._aucomScopePopContainer).val(),c=$("#aucom-popwin-width-mobile",a._aucomScopePopContainer).val();gei.util.pop({type:BootstrapDialog.TYPE_INFO,title:"\u8bf7\u9009\u62e9\u6388\u6743",width:isMobileSite?c:b,message:a._aucomScopePopContainer,
onshow:function(d){$(a._getFundTip()).insertBefore($(a._aucomScopePopContainer));$(a._headerHtml).insertBefore($(a._aucomScopePopContainer))},onshown:function(d){a.dialogRef=d;d.$modalDialog.parent().addClass("text-center");d.$modalDialog.css({display:"inline-block",width:"auto"});d.$modalContent.addClass("text-left");(d=$(".bootstrap-dialog-footer-buttons",d.$modalFooter))&&d.prepend("<a href=\"javascript:gei.buy.aucom.showBuyGuideByUnit('"+a._unitType+"',"+a._unitId+');" style="color: inherit;float: left;padding-left: 25px;">\u5982\u4f55\u83b7\u5f97'+
a._goodsName+"\u4f7f\u7528\u6388\u6743?</a>")}})},choose:function(a,b,c,d,g,k){var q=gei.buy.aucom;$(a).hasClass("disabled")||(isLogin?(q._btnEl=a,q._unitType=b,q._unitId=c,q._aucomTypeCode=d,q._goodsName=g,q._aucomScopePopContainer=$("<div class='lic_choose'></div>"),gei.ajax({url:"/gei-trade/jsonComp/aucom/choose.json",data:{unitType:b,unitId:c}},function(v){q.scopeVoList=v.scopeVoList;q._tipContent=v.tipContent;q._headerHtml=v.scopeTreeRoot.headerHtml;gei.buy.aucom.scopeMenu.init(v.scopeTreeRoot,
q._aucomScopePopContainer,k,v.banScopeCodeList,v.banScopeTip,q._renderScopeDesc);q._popWin();q._enableBtnAndHideTip()},function(v){gei.util.alertWarn(v.message);q._enableBtnAndHideTip()}),q._disableBtnAndShowTip(),setTimeout(function(){q._enableBtnAndHideTip()},3E3)):gei.login.pop.loginPop(gei.login.pop.tipMessageOperate))},closeLicWin:function(){gei.buy.aucom._closeLicWin()},continueBuy:function(){gei.buy.aucom._closeLicWin()},goToPay:function(){gei.buy.aucomCart.toCart()},addToCart:function(a,b,
c,d){var g=gei.buy.aucom;g._check(c,d);gei.buy.aucomCart.save(a,b,c,d,g._showAfterAddCart,g._closeLicWin)},imdToPay:function(a,b,c,d){var g=gei.buy.aucom;gei.pay.buy.imdToPay({unitTypeCode:a,unitId:b,aucomTypeCode:c,aucomScopeCode:d,goodType:g.default_good_type,goodCode:g.default_good_code,useCp:!0,checkoutMode:"aucom",beforeAjax:function(){g._check(c,d)}});gei.core.eventBus.on("Event_orderPaySucc",function(k){_.isEqual(g.default_good_type,k)&&g.closeLicWin()})},showBuyGuideByUnit:function(a,b){gei.buy.aucom._showBuyGuide({url:"/gei-trade/jsonComp/aucom/buyGuide/unit.json",
data:{unitType:a,unitId:b}})},showBuyGuideByAucomType:function(a){gei.buy.aucom._showBuyGuide({url:"/gei-trade/jsonComp/aucom/buyGuide/aucomType.json",data:{aucomTypeCode:a}})},bindChooseClick:function(a){var b=$(a).attr("js-aucom-unit-type"),c=$(a).attr("js-aucom-unit-id"),d=$(a).attr("js-aucom-type-code"),g=$(a).attr("js-aucom-goods-name"),k=$(a).attr("js-aucom-default-choose-scope");$(a).unbind("click").click(function(){gei.buy.aucom.choose(a,b,c,d,g,k)})},down:function(a){itemFileDownWithFirstDownCheck(a,
function(b,c){gei.util.confirm(aucomBuyFirstDownTip,function(){},{title:"\u4e0b\u8f7d\u786e\u8ba4",buttons:[{label:"\u786e\u8ba4",cssClass:"btn-primary",action:function(d){d.close();itemFileDown(b,c)}},{label:"\u53d6\u6d88",action:function(d){d.close()}}]})})}};gei.core.eventBus.on("Event_itemDetailLoadSuccess",function(a){$("[js-aucum-buy='true']",a.container).each(function(){gei.buy.aucom.bindChooseClick(this)})});
gei.core.eventBus.on("Event_pageContentLoadEnd",function(a){_.isUndefined(a)&&(a=$(document.body));a.find("[js-aucum-buy='true']").each(function(){gei.buy.aucom.bindChooseClick(this)})});
gei.buy.aucomCart=function(){return{toCart:function(){window.location.href="/home/aucomCart"},save:function(a,b,c,d,g,k){gei.ajax({url:"/gei-trade/jsonComp/cart/add.json",data:{unitTypeCode:a,unitId:b,goodCode:"aucom",aucomTypeCode:c,aucomScopeCode:d,amount:1}},function(q){g&&g(q)},function(q){gei.util.alertWarn("\u6dfb\u52a0\u5931\u8d25!");k&&k(q)})},remove:function(a,b){gei.ajax({url:"/gei-trade/jsonComp/cart/remove.json",data:{id:a,amount:b}},function(c){window.location.reload()},function(c){gei.util.alertWarn("\u5220\u9664\u5931\u8d25!")})},
confirmToBuy:function(){gei.pay.buy.createCartAndPopCheckout({goodType:"aucom",goodCnt:1,goodCode:"aucom",useCp:!0,checkoutMode:"aucomCart",container:".cart-container",containerLoadUrl:"/gei-home/ajaxComp/aucomCart/info"})}}}();
gei.buy.aucomLicense={unlockWin:function(a){gei.util.confirm(function(){var b=$("<div></div>");b.load("/gei-home/ajaxComp/aucomBuy/unlockForm",{buyInfoId:a},function(){});return b},function(){},{title:"\u89e3\u9501--\x3e\u8bf7\u586b\u5199\u6388\u6743\u4fe1\u606f\u89e3\u9501\uff0c\u6211\u4eec\u5c06\u4e3a\u60a8\u51fa\u5177\u6388\u6743\u8bc1\u4e66\u5e76\u63d0\u4f9b\u53ef\u4e0b\u8f7d\u7684\u8d44\u6e90\u94fe\u63a5",width:isMobileSite?500:700,closeByBackdrop:!1,closeByKeyboard:!1,onshown:function(b){$("#buyLicenseForm").validate({submitHandler:function(c){gei.buy.aucomLicense._submitUnlock(b)},
rules:{authorize:{required:!0,notEmoji:!0},authorizeCode:{required:!1,notEmoji:!0},projectName:{required:!0,maxlength:190,notEmoji:!0},projectTaget:{required:!0,maxlength:190,notEmoji:!0},projectDesc:{required:!0,maxlength:390,notEmoji:!0}},messages:{projectName:{maxlength:"\u60a8\u586b\u5199\u7684\u5185\u5bb9\u8d85\u8fc7\u4e86\u5141\u8bb8\u7684\u6700\u5927\u957f\u5ea6\uff0c\u8bf7\u5220\u51cf\u90e8\u5206\u5185\u5bb9\u540e\u518d\u63d0\u4ea4"},projectTaget:{maxlength:"\u60a8\u586b\u5199\u7684\u5185\u5bb9\u8d85\u8fc7\u4e86\u5141\u8bb8\u7684\u6700\u5927\u957f\u5ea6\uff0c\u8bf7\u5220\u51cf\u90e8\u5206\u5185\u5bb9\u540e\u518d\u63d0\u4ea4"},
projectDesc:{maxlength:"\u60a8\u586b\u5199\u7684\u5185\u5bb9\u8d85\u8fc7\u4e86\u5141\u8bb8\u7684\u6700\u5927\u957f\u5ea6\uff0c\u8bf7\u5220\u51cf\u90e8\u5206\u5185\u5bb9\u540e\u518d\u63d0\u4ea4"}}})},buttons:[{label:"\u63d0\u4ea4",cssClass:"btn-primary",action:function(b){$("#buyLicenseForm").submit()}}]})},downloadLicense:function(a,b){jsInterface_locationHrefDown({url:"/gei-home/responseComp/aucomBuy/download/license?buyInfoId="+a+"&aucomTypeCode="+b,name:"\u6388\u6743\u4e66.pdf"})},_submitUnlock:function(a){gei.buy.aucomLicense._validLicense()&&
$("#buyLicenseForm").ajaxRequest({enabelAjaxSubmit:!0,type:"submit",url:"/gei-home/jsonComp/aucomBuy/license/unlock.json",success:function(b){b=$("#h_pageNum").val();aucomPurchasedJumpPage(b);a&&a.close()},fail:function(b){gei.util.alertWarn(b.message)}})},_validLicense:function(){var a=$("#projectDesc").val(),b=$("#authorize").val(),c=$("#authorizeCode").val(),d=$("#projectName").val(),g=$("#projectTaget").val();a=b+c+d+g+a;b=$("#pdfReplaceChars").val();c=b.split("");for(d=0;d<c.length;d++)if(_.contains(a,
c[d]))return gei.util.alertWarn("\u975e\u5e38\u62b1\u6b49\uff0c\u6388\u6743\u4e66\u4fe1\u606f\u5185\u5bb9\u6682\u4e0d\u652f\u6301\u4ee5\u4e0b\u7279\u6b8a\u7b26\u53f7"+b+"\uff0c\u8bf7\u4fee\u6539\u540e\u518d\u63d0\u4ea4\uff01"),!1;return!0}};
gei.buy.aucom.scopeMenu=function(){function a(){n=0;r.tid=n;r.isSelected=!0;b(r)}function b(w){null!=w.children&&w.children.forEach(function(y){y.tid=++n;y.parent=w;y.isSelected=!1;-1<u.indexOf(y.scopeCode)&&(y.isBan=!0,y.banScopeTip=h);b(y)})}function c(){l=null;gei.util.treeIterator.visitChildrenDeep(r,{autoNext:!1,visit:function(w){if(w.scopeCode===m||this.autoNext)if(w.isBan)this.autoNext=!0;else if(null!=w.scopeCode)return l=w.scopeCode,!1;return!0}})}function d(){l=null;var w=g(e);gei.util.treeIterator.visitChildrenDeep(w,
{visit:function(y){return y.isBan||null==y.scopeCode?!0:(l=y.scopeCode,!1)}})}function g(w){var y={result:null,visit:function(z){return z.tid===w?(this.result=z,!1):!0}};gei.util.treeIterator.visitChildrenDeep(r,y);return y.result}function k(){if(null==l)alert("\u65e0\u53ef\u7528\u6388\u6743\u8303\u56f4\uff01");else{var w=q(l);gei.util.treeIterator.visitParent(w,{result:null,visit:function(y){y.isSelected=!0;return null==y.parent?(r=y,!1):!0}})}}function q(w){var y={result:null,visit:function(z){return z.scopeCode===
w?(this.result=z,!1):!0}};gei.util.treeIterator.visitChildrenDeep(r,y);return y.result}function v(){if(null!=l){gei.util.treeIterator.visitChildrenDeep(r,{visit:function(y){y.parent=null;return!0}});var w="";gei.util.treeIterator.visitChildrenDeep(r,{visit:function(y){if(y.isSelected&&null!=y.children){var z=$("<div>");z.setTemplate('<div class="container" data-type="lic_container">    <span class="title">{$T.nextDimName}</span>    <ul class="content list-group">        {#foreach $T.children as child}           <li class="list-group-item {#if $T.child.isBan}disabled{#/if}"            {#if $T.child.isBan}title={$T.child.banScopeTip}{#/if} data-type="lic_choose_btn"           data-selected="{#if $T.child.isSelected}true{#else}false{#/if}"  data-tid="{$T.child.tid}"           onclick="gei.buy.aucom.scopeMenu.chooseNode(this);">{$T.child.btnName}</li>        {#/for}    </ul></div>');
z.processTemplate(y);w+=z.html()}return!0}});$(t).html(w);f(l);gei.util.uiPopover($(".showPopover",t),{closeable:!1});$('li[data-type="lic_choose_btn"]',t).tooltip()}}var r,t,m,u,h,f,l,e,n;return{init:function(w,y,z,C,I,K){r=w;t=y;m=z;u=C;h=I;f=K;a();c();k();v()},chooseNode:function(w){"true"===$(w).attr("data-selected")||$(w).hasClass("disabled")||(e=parseInt($(w).attr("data-tid")),a(),d(),k(),v())}}}();gei.pay={};
gei.pay.checkoutPage={checkouts:[],findCheckoutByOrderId:function(a){return _.findWhere(gei.pay.checkoutPage.checkouts,{_orderId:a})},_addCheckout:function(a){var b=gei.pay.checkoutPage.findCheckoutByOrderId(a._orderId);gei.util.isNullOrUndefined(b)||(gei.pay.checkoutPage.checkouts=_.without(gei.pay.checkoutPage.checkouts,b));gei.pay.checkoutPage.checkouts.push(a)},popWinToPay:function(a,b,c,d,g){a=new gei.pay.checkout(a);gei.pay.checkoutPage._addCheckout(a);a.popWin(b,c,g,d)},insideToPay:function(a,
b,c,d){a=new gei.pay.checkout(a);gei.pay.checkoutPage._addCheckout(a);a.insideLoad(c,b,d)},jsInterface_loadPayOperateContent:function(a){var b=gei.pay.checkoutPage.findCheckoutByOrderId(a.orderId);b?b.loadCommonPayOperateContent(a.useCp):gei.util.alertWarn("\u52a0\u8f7d\u6536\u94f6\u53f0\u906d\u9047\u5f02\u5e38\uff0c\u8bf7\u5c1d\u8bd5\u5237\u65b0\u9875\u9762\u91cd\u65b0\u52a0\u8f7d\u3002\u591a\u6b21\u5c1d\u8bd5\u5931\u8d25"+applicationTipsMsgFaqChat)},jsInterface_ioscPay:function(a){gei.util.alertWarn("\u672c\u5145\u503c\u65b9\u5f0f\u53ea\u9002\u7528\u4e8e\u82f9\u679c\u624b\u673a\u652f\u4ed8\uff01")}};
gei.pay.checkout=function(a){this._orderId=a;this._popWinDref=this._container=null;this._isCancelPay=!0;this.popWin=function(b,c,d,g){var k=this;this._popWinDref=gei.util.pop({type:BootstrapDialog.TYPE_INFO,title:"\u6536\u94f6\u53f0",width:isMobileSite?500:1E3,message:"\u6b63\u5728\u52a0\u8f7d\uff0c\u8bf7\u7a0d\u540e...",onshow:function(q){q.$modalHeader.css("background","#3EA3E9");gei.util.isNullOrUndefined(b)||gei.util.load(q.$modalFooter,"/trade/charge/entry/normal",{entryChargeType:b,origOrderId:k._orderId})},
onshown:function(q){k._showCheckout(q.$modalBody,c,d)},onhidden:function(){k._popWinDref=null;gei.pay.order.clearQrNotify();gei.core.eventBus.fire("Event_closeCheckout",{checkoutMode:g,isCancelPay:k._isCancelPay})},buttons:[{label:"\u53d6\u6d88",action:function(q){q.close()}}]})};this.closePopWin=function(){this._popWinDref&&this._popWinDref.close()};this.insideLoad=function(b,c,d){this._showCheckout(b,c,d)};this.refreshWithUseCp=function(){gei.pay.order.clearQrNotify();this._showCheckout(this._container,
!0,gei.pay.checkoutPage.jsInterface_loadPayOperateContent)};this.loadAppPayOperateContent=function(b){var c=this;this._container.find("#ali-pay-app,#wechat-pay-app").click(function(){gei.pay.order.jsInterface_commonPayNotify(c._orderId,3E3);var d=$(this).attr("data-payType");gei.app.core.pay({id:c._orderId,payType:d,useCp:b})})};this.loadCommonPayOperateContent=function(b){var c=this._container.find("#payTypeByCp").val();c&&"false"==c&&gei.pay.order.jsInterface_commonPayNotify(this._orderId,3E3);
this._createTradeAndQrPay(c,b)};this._createTradeAndQrPay=function(b,c){var d=this;_.isNull(this._orderId)||_.isUndefined(this._orderId)?gei.util.alertWarn("\u8ba2\u5355\u53f7\u4e3a\u7a7a!"):(b=this._container.find(".qr-image"),$(b).each(function(g,k){g=$(k).attr("pay-type");gei.pay.trade.createTradeAndReturn({qrLoadParam:{orderId:d._orderId,payType:g,useCp:c},beforeSend:function(q){},succFunc:function(q){$(k).empty().append($("<img src="+q.message+" class='qrcode_image' style='width: 150px'/>"))},
failFunc:function(q){q=_.isUndefined(q)?"\u4e8c\u7ef4\u7801\u8bf7\u6c42\u5931\u8d25\u3002":q.message;log(q);gei.util.alertWarn(q)}})}))};this._showCheckout=function(b,c,d){var g=this;gei.util.load(b,"/trade/checkout",{orderId:this._orderId,useCp:c},function(){g._container=$("#checkout_container",b);g._showCpPrice();g._bindEvents();g._showCheckoutSuccFn(d,c)},"<div class='checkout-load-fail-message'>\u9875\u9762\u52a0\u8f7d\u5931\u8d25,\u8bf7\u5c1d\u8bd5\u5237\u65b0\u9875\u9762\u91cd\u65b0\u52a0\u8f7d,\u591a\u6b21\u5c1d\u8bd5\u5931\u8d25"+
applicationTipsMsgFaqChat+"\u3002</div>")};this._showCheckoutSuccFn=function(b,c){c={price:this._container.find("#priceContainer").attr("price"),useCp:c,orderId:this._orderId};b&&b(c)};this._bindEvents=function(){var b=this;this._container.find("#all-cp-pay-btn").unbind("click").click(function(){b._cpOrderAndPay()});this._container.find("#useCp").unbind("click").click(function(){b._cpRefreshCheckout()});this._container.find("#ioscPayBtn").unbind("click").click(function(){b._payUseIosc()});this._container.find("#ioscCheckout-btn").unbind("click").click(function(){b._ioscCheckout()})};
this._showCpPrice=function(){var b=this._container.find("#cpPriceContainer").attr("cpPrice"),c=this._container.find("#cpAll"),d=this._container.find("#cpPriceOutContainer"),g=this._container.find("#priceOutContainer");0<c.length&&0<b&&(0<c.val()?(d.show(),g.show()):(d.hide(),g.hide()))};this._cpRefreshCheckout=function(){gei.pay.order.clearQrNotify();var b=this._container.find("#useCp").prop("checked");this._showCheckout(this._container,b,gei.pay.checkoutPage.jsInterface_loadPayOperateContent)};this._cpOrderAndPay=
function(){var b=this;if(_.isNull(this._orderId)||_.isUndefined(this._orderId))gei.util.alertWarn("\u8ba2\u5355id\u4e3a\u7a7a\uff0c\u8bf7\u5237\u65b0\u9875\u9762\u91cd\u8bd5\uff01");else{var c=this._container.find("#cpPriceContainer").attr("cpPrice");gei.util.confirm('\u60a8\u786e\u8ba4\u4f7f\u7528 <span class="font-red-enhance" >\u201c\u62b5\u7528\u5238'+c+"\u5143\u201d</span> \u5417 \uff1f<br/>\u70b9\u51fb\u786e\u8ba4\u6309\u94ae\u540e\u201c\u62b5\u7528\u5238"+c+"\u5143\u201d\u5c06\u88ab\u6d88\u8017\uff0c\u4e0d\u80fd\u64a4\u9500</b>\u3002",
function(){gei.pay.trade.createTradeAndReturn({qrLoadParam:{orderId:b._orderId,payType:"cppay",useCp:!0},succFunc:function(d){gei.win.scanQr.findOrderStatusAndHandle(gei.pay.order.qrNotifyAsyncUrl,d.notifyId,gei.pay.order.pollSuccFunc,gei.pay.order.pollFailFunc)},failFunc:function(d){gei.pay.order.pollFailFunc(d)}})},{width:500})}};this._ioscCheckout=function(){gei.pay.iosCharge.ioscPopWin=gei.util.pop({type:BootstrapDialog.TYPE_INFO,title:"\u6211\u7684\u8d26\u6237",width:"100%",message:$(this._container.find("#ioscPayDialog").html()),
onshow:function(b){b.$modalDialog.addClass("iosc-pay-dialog");b.$modalHeader.addClass("iosc-pay-container-title")},onshown:function(b){var c=b.$modalBody;c.find(".iosc-pay-container .price-container").unbind("click").bind("click",function(){c.find(".iosc-pay-container .price-container.active").removeClass("active");$(this).addClass("active")})},onhidden:function(){gei.pay.iosCharge.ioscPopWin=null}})};this._payUseIosc=function(){var b=this;if(_.isNull(this._orderId)||_.isUndefined(this._orderId))gei.util.alertWarn("\u8ba2\u5355id\u4e3a\u7a7a\uff0c\u8bf7\u5237\u65b0\u9875\u9762\u91cd\u8bd5\uff01");
else{var c=this._container.find("#shouldPriceContainer").attr("shouldprice"),d=this._container.find("#cpPriceContainer").attr("cpPrice"),g=this._container.find("#priceContainer").attr("price"),k=this._container.find("#useCp").prop("checked");c=k?g:c;g='\u60a8\u786e\u8ba4\u4f7f\u7528 <span class="font-red-enhance" >\u201c\u7231\u7ed9\u5e01'+c+"\u5143\u201d</span>";k&&(g+=' <span class="font-red-enhance" >, \u201c\u62b5\u7528\u5238'+d+"\u5143\u201d</span>");g+=" \u5417 \uff1f<br/>\u70b9\u51fb\u786e\u8ba4\u6309\u94ae\u540e\u201c\u7231\u7ed9\u5e01"+
c+"\u5143\u201d";k&&(g+=" , \u201c\u62b5\u7528\u5238"+d+"\u5143\u201d");gei.util.confirm(g+"\u5c06\u88ab\u6d88\u8017\uff0c\u4e0d\u80fd\u64a4\u9500</b>\u3002",function(){gei.pay.trade.createTradeAndReturn({qrLoadParam:{orderId:b._orderId,payType:"ioscPay",useCp:k},succFunc:function(q){gei.win.scanQr.findOrderStatusAndHandle(gei.pay.order.qrNotifyAsyncUrl,q.notifyId,gei.pay.order.pollSuccFunc,gei.pay.order.pollFailFunc)},failFunc:function(q){gei.pay.order.pollFailFunc(q)}})},{width:500})}}};
gei.pay.order={successTip:null,qrNotifyInterval:[],qrNotifyAsyncUrl:"/gei-trade/jsonComp/order-async/find.json",_popWinFunc:function(a){var b={orderId:a.orderId};gei.util.pop({type:BootstrapDialog.TYPE_DEFAULT,title:a.succPopTitle,width:isMobileSite?a.succPopMobileWidth:a.succPopWidth,closeByBackdrop:!1,closeByKeyboard:!1,onshow:function(c){c.$modalDialog.css("width",this.width);c.$modalHeader.hide();c.$modalFooter.hide();c.$modalContent.css("border-radius","15px");c=c.$modalBody;c.css("padding",
"0px");c.load(a.succTipPageUrl,b)},onhidden:function(){gei.core.eventBus.fire("Event_closeSuccPayPopWin",{goodType:a.goodType})}})},pollSuccFunc:function(a){var b=a.orderSuccTipInfo;a=gei.pay.checkoutPage.findCheckoutByOrderId(b.orderId);gei.pay.order.clearQrNotify();a&&(a._isCancelPay=!1,a.closePopWin());gei.core.eventBus.fire("Event_orderPaySucc",b.goodType);a=b.succTipMode;_.isEqual(a,"refresh")?gei.pay.order._succPopTip({actionFunc:function(){window.location.reload()}}):_.isEqual(a,"succPage")?
gei.pay.order._succPopTip({actionFunc:function(){gei.util.isNullOrUndefined(b.succTipPageUrl)||gei.pay.order._hrefPageByUrl(b.succTipPageUrl)}}):_.isEqual(a,"popWin")?gei.pay.order._popWinFunc(b):gei.util.alertWarn("\u51fa\u73b0\u672a\u77e5\u5f02\u5e38\uff0c\u9875\u9762\u8df3\u8f6c\u5931\u8d25\uff0c\u9519\u8bef\u7684\u56de\u8c03\u6a21\u5f0f\uff01")},pollFailFunc:function(a){_.isUndefined(a)||_.isUndefined(a.message)?gei.util.alertWarn("\u7cfb\u7edf\u672a\u77e5\u9519\u8bef\uff0c\u8bf7\u5237\u65b0\u9875\u9762\u91cd\u8bd5\u6216\u8005"+
applicationTipsMsgFaqChat+"\uff0c\u8fdb\u884c\u89e3\u51b3\u3002"):gei.util.alertWarn(a.message)},jsInterface_commonPayNotify:function(a,b){var c=gei.pay.order;c.qrLogNotify(c.qrNotifyAsyncUrl,a,b,function(d){gei.pay.order.pollSuccFunc(d)},function(d){gei.pay.order.pollFailFunc(d)})},qrLogNotify:function(a,b,c,d,g){a=gei.win.scanQr.genInterval(a,b,c,d,g);gei.pay.order.qrNotifyInterval.push(a)},clearQrNotify:function(){for(var a=gei.pay.order.qrNotifyInterval,b=0;b<a.length;b++)clearInterval(a[b])},
createNoGoodOrder:function(a,b,c){gei.pay.order._createOrder(a,"/gei-trade/jsonComp/order/createNoGood",b,c)},createCartOrder:function(a,b,c){gei.pay.order._createOrder(a,"/gei-trade/jsonComp/order/createCart",b,c)},createImdOrder:function(a,b,c){gei.pay.order._createOrder(a,"/gei-trade/jsonComp/order/createImd",b,c)},createIoscOrder:function(a,b,c){gei.pay.order._createOrder(a,"/gei-trade/jsonComp/order/createIosc",b,c)},_createOrder:function(a,b,c,d){var g=_.omit(a,"checkout");gei.ajax({type:"post",
url:b,data:g},function(k){c&&c(k,a)},function(k){gei.util.alertWarn("\u521b\u5efa\u8ba2\u5355\u5931\u8d25, \u8bf7\u5237\u65b0\u9875\u9762\u91cd\u8bd5\uff01");d&&d(k)})},_succPopTip:function(a){var b=a.actionFunc;gei.util.confirm("\u652f\u4ed8\u6210\u529f\uff01",function(){b()},{type:BootstrapDialog.TYPE_SUCCESS,buttons:[{label:"\u786e\u8ba4",cssClass:"btn-default",action:function(c){c.close();b()}}]})},_hrefPageByUrl:function(a){window.location.href=a}};
gei.pay.trade={createTradeAndReturn:function(a){var b=a.beforeSend,c=a.succFunc,d=a.failFunc;gei.ajax({type:"post",url:"/order/pay",data:a.qrLoadParam,beforeSend:function(){_.isUndefined(b)||b()}},function(g){_.isUndefined(c)||c(g)},function(g){_.isUndefined(d)||d(g)})}};
gei.pay.buy={_popCheckoutWinAndRefresh:function(a,b){$(b.container).load(b.containerLoadUrl);gei.pay.checkoutPage.popWinToPay(a.orderId,a.chargeType,a.useCp,b.checkoutMode,gei.pay.checkoutPage.jsInterface_loadPayOperateContent)},_popCheckoutWin:function(a,b){gei.pay.checkoutPage.popWinToPay(a.orderId,a.chargeType,a.useCp,b.checkoutMode,gei.pay.checkoutPage.jsInterface_loadPayOperateContent)},_insideCheckoutWin:function(a,b){gei.pay.checkoutPage.insideToPay(a.orderId,b.useCp,b.checkout,gei.pay.checkoutPage.jsInterface_loadPayOperateContent)},
imdToPay:function(a){if(isLogin){var b=a.beforeAjax;_.isUndefined(b)||b();gei.pay.buy.createImdAndPopCheckout({unitTypeCode:a.unitTypeCode,unitId:a.unitId,licenseId:a.licenseId,aucomTypeCode:a.aucomTypeCode,aucomScopeCode:a.aucomScopeCode,goodType:a.goodType,goodCode:a.goodCode,useCp:a.useCp,checkoutMode:a.checkoutMode})}else gei.login.pop.loginPop(gei.login.pop.tipMessageOperate)},createCartAndPopCheckout:function(a){gei.pay.order.createCartOrder(a,this._popCheckoutWinAndRefresh)},createImdAndPopCheckout:function(a){gei.pay.order.createImdOrder(a,
this._popCheckoutWin)},createNoGoodAndPopCheckout:function(a){gei.pay.order.createNoGoodOrder(a,this._popCheckoutWin)},createNoGoodInsideCheckout:function(a){gei.pay.order.createNoGoodOrder(a,this._insideCheckoutWin)},findOrderAndPopCheckout:function(a,b){this._popCheckoutWin(a,b)}};$(function(){gei.pay.manager._handCheckoutEvent()});
gei.pay.manager={fromHomeOrder:!1,_handCheckoutEvent:function(){gei.pay.manager._closeCheckoutOn();gei.pay.manager._closeSuccPayPopWinOn()},_closeCheckoutOn:function(){gei.core.eventBus.on("Event_closeCheckout",function(a){var b=a.checkoutMode;!a.isCancelPay||"cpMusicCart"!=b&&"aucomCart"!=b&&"mallCart"!=b||(window.location.href="/home/order?hasPayed=false&operator=noPayOrder");"ucOrder"==b&&(gei.pay.manager.fromHomeOrder=!0)})},_closeSuccPayPopWinOn:function(){gei.core.eventBus.on("Event_closeSuccPayPopWin",
function(a){var b=gei.pay.manager.fromHomeOrder;"mall"==a.goodType&&b&&(window.location.href="/home/buyMall")})}};
gei.pay.charge={popWinDref:null,popWin:function(a,b){gei.pay.charge.popWinDref=gei.util.pop({type:BootstrapDialog.TYPE_INFO,width:isMobileSite?504:1206,title:"\u4f59\u989d\u5145\u503c",message:'<div style="padding: 15px">\u6b63\u5728\u52a0\u8f7d\uff0c\u8bf7\u7a0d\u540e...</div>',onshow:function(c){c.$modalHeader.css("background","#3EA3E9");c.$modalBody.css("padding","0");c.$modalFooter.remove()},onshown:function(c){gei.util.load(c.$modalBody,"/gei-trade/ajaxComp/charge/container",{chargeType:a,origOrderId:b},
function(){var d=$("#charge-container",c.$modalBody);(new Charge).init(d)},'<div style="padding: 15px">\u9875\u9762\u52a0\u8f7d\u5931\u8d25\uff0c\u8bf7\u5c1d\u8bd5\u5237\u65b0\u9875\u9762\u91cd\u65b0\u52a0\u8f7d\uff0c\u591a\u6b21\u5c1d\u8bd5\u5931\u8d25'+applicationTipsMsgFaqChat+"</div>")},onhidden:function(){gei.pay.order.clearQrNotify();var c=gei.pay.checkoutPage.findCheckoutByOrderId(b);c&&c.refreshWithUseCp()}})},closePopWin:function(){gei.pay.charge.popWinDref&&gei.pay.charge.popWinDref.close()}};
var Charge=function(){this._container=null;this._lastAmount=0;this.init=function(a){0!==a.size()&&_.isUndefined(a.data("isInit"))&&(a.data("isInit",!0),this._container=a,this._hideElVal(),this._bindEvents(),this._selectDefault())};this._hideElVal=function(){var a=this._container.find("#charge-type");a.data("chargeType",a.val()).removeAttr("value");a=this._container.find("#charge-orig-order-id");a.data("origOrderId",a.val()).removeAttr("value");this._container.find("input[type=radio][name=charge-opt]").each(function(){$(this).data("amount",
this.value).removeAttr("value")})};this._bindEvents=function(){var a=this;this._container.find("input[type=radio][name=charge-opt]").unbind("change").change(function(){a._optChange(this)});this._container.find("#charge-custom-input").unbind("input propertychange").bind("input propertychange",function(){a._customInput(this)});this._container.find("#charge-custom-input").unbind("keypress").keypress(function(b){0<this.value&&13===b.keyCode&&a._container.find("#charge-custom-submit-btn").click()});this._container.find("#charge-custom-submit-btn").unbind("click").click(function(){a._customSubmit()})};
this._selectDefault=function(){this._container.find("input[type=radio][name=charge-opt]:checked").change()};this._loadDescAndCheckout=function(a){if(RegExp("^[1-9]\\d{0,5}$").test(a)){var b=this,c=this._container.find("#charge-type").data("chargeType");gei.util.load(this._container.find("#charge-confirm-info"),"/gei-trade/ajaxComp/charge/confirm",{chargeType:c,amount:a},function(){},"\u5145\u503c\u786e\u8ba4\u4fe1\u606f\u52a0\u8f7d\u5931\u8d25\u3002\u3002\u3002");gei.pay.order.clearQrNotify();c={checkout:this._container.find("#charge-checkout"),
goodType:"charge",goodCode:c,goodCnt:a,useCp:!0};gei.pay.buy.createNoGoodInsideCheckout(c);gei.core.eventBus.on("Event_orderPaySucc",function(d){_.isEqual("charge",d)&&(gei.pay.charge.closePopWin(),d=b._container.find("#charge-orig-order-id").data("origOrderId"),(d=gei.pay.checkoutPage.findCheckoutByOrderId(d))&&d.refreshWithUseCp())});this._lastAmount=a}else gei.util.alertWarn("\u5145\u503c\u91d1\u989d\u53ea\u80fd\u4e3a1~999999\u5143\u54e6")};this._optChange=function(a){$(a).parent("label").addClass("active").siblings().removeClass("active");
var b=$(a).data("amount");"true"===$(a).attr("js-charge-custom")?(this._container.find("#charge-custom-wrap").removeClass("hide"),gei.util.isNullOrUndefined(b)||(this._container.find("#charge-custom-input").val(b).trigger("input").focus(),this._customSubmit())):(this._container.find("#charge-custom-wrap").addClass("hide"),this._loadDescAndCheckout(b))};this._customInput=function(a){a.value=a.value.replace(/^(0+)|[^\d]+/g,"");0<a.value.length?this._container.find("#charge-custom-submit-btn").removeAttr("disabled"):
this._container.find("#charge-custom-submit-btn").attr("disabled","disabled")};this._customSubmit=function(){var a=this._container.find("#charge-custom-input").val();gei.util.isNullOrUndefined(a)?gei.util.alertWarn("\u8bf7\u8f93\u5165\u5145\u503c\u91d1\u989d\uff01"):this._lastAmount!==a&&this._loadDescAndCheckout(a)}};gei.core.eventBus.on("Event_pageContentLoadEnd",function(a){bindFavAndNoteClick(a)});
function bindFavAndNoteClick(a){_.isUndefined(a)&&(a=$(document.body));a.find(".note-btn").each(function(b,c){bindNoteBtn($(c))})}
var bindNoteBtn=function(a){var b=a.attr("unit-type"),c=a.attr("unit-id");a.webuiPopover({placement:"top",closeable:!1,onShow:function(d){isLogin?($(".close-btn",d).click(function(){a.webuiPopover("hide")}),$("textarea",d).focus(),$(".submit-btn",d).unbind("click").bind("click",function(){var g=0<$(".chx-public:checked",d).size(),k=$("textarea",d).val();400<k.length?gei.util.pop({type:BootstrapDialog.TYPE_DANGER,title:"\u6587\u672c\u8d85\u51fa",message:"\u7b14\u8bb0\u6700\u957f\u5185\u5bb9\u9650\u5b9a\u4e3a400\u4e2a\u5b57\uff0c\u5f53\u524d\u5185\u5bb9\u957f\u5ea6\u4e3a"+
k.length}):(a.webuiPopover("hide"),gei.util.eachById("mark-bar-"+b+"-"+c,function(q){var v=$(".mark-icon-note",q);""==k?v.addClass("hide"):(q.removeClass("hide"),v.removeClass("hide"));g||""==k?$(".note-nopub",q).addClass("hide"):$(".note-nopub",q).removeClass("hide");$(".note-content",q).html(gei.sec(k));q.removeAttr("style")}),gei.ajaxWithError({url:"/gei-list/jsonComp/sns/note/save.json",data:{unitType:b,unitId:c,isPublic:g,content:k},type:"post"},function(){""!=k&&gei.util.tooltipAutoHide(a,'\u7528\u6237\u540e\u53f0->\u5386\u53f2 <b><a href="/home/mark?markType=note" target="_blank">\u67e5\u770b</a></b>')}))})):
gei.login.pop.loginPop(gei.login.pop.tipMessageOperate)},onHide:function(d){log("onHide")}})};gei.wiget={};gei.wiget._getContainer=function(a){var b=$(a.wiget).parent();a.container&&""!=a.container&&(b=$(a.container));return b};
gei.wiget.index_top_slide=function(a){var b=$.extend(!0,{wiget:".wiget_container",activeClass:"active",isAutoRoll:!0,container:"index_top_slide_container",iconSelector:".carousel-indicators li",itemSelector:".carousel-inner .item",itemImgSelector:".carousel-inner .item img",fadeInOutClass:"fadeinout"},a||{}),c=gei.wiget._getContainer(b);return{init:function(){$("#"+b.container).carousel({interval:3E3});1==b.isAutoRoll?$("#"+b.container).carousel("cycle"):$("#"+b.container).carousel("pause");debugModel&&
1==debugModel&&$("#"+b.container).carousel("pause");c.ready(function(){$(b.iconSelector).each(function(d,g){function k(){$(b.itemImgSelector).each(function(v,r){$(r).removeClass(b.fadeInOutClass)})}function q(v){var r=$(v).attr("data-slide-to");$(b.itemSelector).removeClass(b.activeClass);$(b.itemSelector).each(function(t,m){$(m).attr("item-index")==r&&($(m).addClass(b.activeClass),$(m).find("img").addClass(b.fadeInOutClass))})}$(g).hover(function(){$(b.iconSelector+"."+b.activeClass).attr("data-slide-to")!=
$(g).attr("data-slide-to")&&($(b.iconSelector).removeClass(b.activeClass),$(g).addClass(b.activeClass),q(g),$("#"+b.container).carousel("pause"))},function(){k(g);1==b.isAutoRoll&&$("#"+b.container).carousel("cycle")});$(g).click(function(){setTimeout(function(){0==b.isAutoRoll&&$("#"+b.container).carousel("pause")},10)})})})}}};
gei.wiget.debug=function(a){var b=$.extend(!0,{debugContainer:".index-debug-item"},a||{});$(".index-debug-item").click(function(){var c=$(this).attr("data-type"),d=$(this).attr("data-config"),g=$(this).attr("data-key"),k=$(this).attr("data-tpl"),q=$(this).attr("data-replace"),v=$.extend(b.params||{},{type:c,path:d,key:g,template:k,replace:q});gei.util.pop({type:BootstrapDialog.TYPE_INFO,width:1E3,title:"debug",message:function(){var r=$("<div></div>");r.load("/gei-index/ajaxComp/debug",v);return r}})})};
gei.wiget.pop_nav=function(a){var b=$.extend(!0,{wiget:".wiget_container",activeClass:"active"},a||{});return{init:function(){gei.wiget._getContainer(b).hover(function(){$(".wiget_container",$(this)).addClass(b.activeClass);$(".list-box>dd",$(this)).hover(function(){$(this).addClass(b.activeClass)},function(){$(this).removeClass(b.activeClass)})},function(){$(".wiget_container",$(this)).removeClass(b.activeClass)})}}};
gei.wiget.drop_menu=gei.wiget.drop_menu2=gei.wiget.drop_menu3=function(a){var b=$.extend(!0,{wiget:".wiget_container",activeClass:"active",parentActiveClass:"drop_menu_focus"},a||{});return{init:function(){var c=gei.wiget._getContainer(b);c.hover(function(){$(".wiget_container",$(this)).addClass(b.activeClass);$(".wiget_container",$(this)).parent().addClass(b.parentActiveClass);$(".wiget_container",$(this)).parent().hasClass("js-site-nav-active")&&$(".js-wiget-active-tip",$(this)).css("display","none")},
function(){$(".wiget_container",$(this)).removeClass(b.activeClass);$(".wiget_container",$(this)).parent().removeClass(b.parentActiveClass)});$(".menu-list",c).hover(function(){$(this).addClass(b.activeClass);$(".wiget_container",$(this)).parent().addClass(b.parentActiveClass)},function(){$(this).removeClass(b.activeClass);$(".wiget_container",$(this)).parent().removeClass(b.parentActiveClass)})}}};
gei.wiget.radio_group=function(a){function b(){$(".radio-group-btn-submit",k).attr("disabled","disabled");0==$(".radio-row."+g.activeClass,k).size()?$(".radio-group-btn-submit",k).attr("disabled","disabled"):$(".radio-group-btn-submit",k).removeAttr("disabled")}function c(q){$(".radio-row",k).removeClass(g.activeClass);var v=q.attr("data-back-value");v&&(v=$('.radio-row[data-value="'+v+'"]',k),v.children(".radio-row-content").show(),v.children(".radio-row-child").children(".radio-row").hide(),v.siblings().show(),
q.attr("data-back-value",v.attr("data-parent-value")),""==v.attr("data-parent-value")?(q.hide(),$(".radio-group-btn-cancel",k).show()):(q.show(),$(".radio-group-btn-cancel",k).hide()));b();g.onBack.apply(q,arguments)}function d(){var q=$(".radio-row."+g.activeClass,k);if(0<q.size()){var v={el:q,value:q.attr("data-value"),text:q.attr("data-text")},r=$("textarea",q);if(0<r.size()){q=r.val();if("required"==r.attr("required")&&""==q){var t=$('<div class="error">\u6b64\u9879\u4e3a\u5fc5\u586b\u9879!</div>');
r.after(t).blur(function(){""!=r.val()&&t.remove()});r.focus();return}var m=r.attr("data-length-max");if(m&&q.length>m){t=$('<div class="error">\u6b64\u9879\u6700\u591a\u8f93\u5165'+m+"\u4e2a\u5b57\u7b26!</div>");r.after(t).blur(function(){""!=r.val()&&t.remove()});return}v=$.extend(v,{content:q})}g.onSubmit(v)}}var g=$.extend(this,{wiget:".wiget_container",activeClass:"active",onSubmit:function(q){},onBack:function(){},onCancel:function(){}},a||{}),k=gei.wiget._getContainer(g);return{init:function(){$(".radio-row",
k).click(function(){var q=$(this);$(".radio-row",k).removeClass(g.activeClass);var v=q.children(".radio-row-child");0<v.size()?(v.children(".radio-row").show(),q.children(".radio-row-content").hide(),q.siblings().hide(),$(".radio-group-btn-back",k).attr("data-back-value",q.attr("data-value")),$(".radio-group-btn-back",k).show(),$(".radio-group-btn-cancel",k).hide()):(q.addClass(g.activeClass),$(".radio-row .radio-row-content textarea",k).parent().hide(),q=$("textarea",q),0<q.size()&&q.parent().show());
b();return!1});$(".radio-group-btn-back",k).click(function(){c($(this))});$(".radio-group-btn-submit",k).click(function(){d()});$(".radio-group-btn-cancel",k).click(function(){g.onCancel.apply(this,arguments)})}}};gei.wiget.image_slider=function(a){var b=$.extend(!0,{wiget:".wiget_container",activeClass:"active",container:"image_slider_container"},a||{});return{init:function(){$("#"+b.container).carousel({interval:3E3});debugModel&&1==debugModel&&$("#"+b.container).carousel("pause")}}};
gei.wiget.search_list=function(a){function b(){return $("."+g.containerUuid)}function c(){AudioPlayerManager&&(AudioPlayerManager.currentPlayingId=null,AudioPlayerManager.destroy());videoManager&&(videoManager.activeVideo=null,videoManager.destroy());gei.core.eventBus.fire("Event_pageContentLoadEnd");d();var k=$(".unit-content-main",b());0<k.size()&&b().attr("wiget-height",k.height())}function d(){var k=$(".search-debug-item",b());0!=k.size()&&k.each(function(q,v){var r=$(v).attr("unit-id"),t=$(v).attr("score"),
m=$(v).attr("boost"),u=$(v).html();q=gei.util.queryById("unitBox_"+r);0==q.size()?dlog("unitBox\u672a\u627e\u5230\uff0c\u65e0\u6cd5\u521b\u5efa\u8c03\u8bd5\u6309\u94ae unitId="+r):($("[debug-info-btn-unit-id="+r+"]").remove(),q.each(function(){$("<span>").html("\u8c03\u8bd5 "+t+" = "+("0.0"==m?0:t/m)+" * "+m).addClass("search-debug-btn").attr("debug-info-btn-unit-id",r).css("color","red").appendTo($(this)).click(function(){gei.util.pop({type:BootstrapDialog.TYPE_INFO,width:1E3,title:"debug",message:u})})}))})}
var g=$.extend(!0,{wiget:".wiget_container",activeClass:"active",container:"wiget_search_list_container",pageNum:1},a||{});gei.wiget.search_list.load=function(k,q){var v=b();void 0!=k&&""!=k&&(v=$("."+k));var r=$(".item-list-container",v),t={};$("."+k+"_qps").each(function(){var m=$(this).attr("data-key"),u=$(this).text();t[m]=u});t.start=void 0!=q&&""!=q?q:g.pageNum;gei.ajax({url:"/gei-index/ajaxComp/query",data:t,dataType:"html",beforeSend:function(m){m=r.width()/2-50;var u=r.height()/2-50;$("<i/>").addClass("icon-spinner icon-spin icon-4x").css({"z-index":1,
color:"#08c","font-size":"50px",position:"relative",left:m+"px",top:u+"px"}).appendTo(r);gei.core.eventBus.fire("Event_pageContentLoadStart")}},function(m){r.empty();r.html(m);c()})};return{init:function(){c()}}};
gei.wiget.query_group=function(a){function b(k){k=$(".wiget_container[wiget-height]",k);return 0<k.size()?(k=k.attr("wiget-height"))?k:0:0}function c(k,q){var v=$(g.groupContainerSelector,q);k=k.attr("load-url");""!=k&&gei.ajax({url:k,data:{},dataType:"html",beforeSend:function(r){gei.ui.uiUtil.maskAdd(v)}},function(r){var t=b(q);v.html(r);r=t;t=b(v);t>r&&(r=t);v.height(parseInt(r)+30);$(".wiget_container[wiget-height]",q).attr("wiget-height",r);gei.ui.uiUtil.maskClear(v)})}function d(k){k=k.attr("data-count");
return void 0==k||0==k?!1:!0}var g=$.extend(!0,{wiget:".wiget_container",activeClass:"active",container:".wiget_query_group_container",queryItemSelector:".query-item",groupContainerSelector:".wiget_item",enablePopLink:!1},a||{});return{init:function(){var k=$("."+g.containerUuid),q=$(g.queryItemSelector,k);g.enablePopLink&&q.each(function(){if(d($(this))){var v=$(".group-name",$(this));0<v.size()&&(v="\u8fdb\u5165<a href='"+$(this).attr("group-url")+"' target='_blank'>"+v.text()+"</a>\u9875\u9762",
$(this).webuiPopover({placement:"auto-top",trigger:"hover",closeable:!1,content:v}))}});q.hover(function(){if(d($(this))){var v=$(this),r=$(g.queryItemSelector,k);v.hasClass(g.activeClass)||(r.removeClass(g.activeClass),v.addClass(g.activeClass),c(v,k))}})}}};
gei.wiget.rcmd_group=function(a){function b(g){var k=$(".unit-container-list",g);return 0<k.size()?(g=k.attr("wiget-height"),k=$(".unit-container",k),g?g:k?k.height():0):0}function c(g,k){var q=$(d.groupContainerSelector,k);g=g.attr("load-url");""!=g&&gei.ajax({url:g,data:{},dataType:"html",beforeSend:function(v){gei.ui.uiUtil.maskAdd(q)}},function(v){var r=b(k);q.html(v);AudioPlayerManager&&(AudioPlayerManager.currentPlayingId=null,AudioPlayerManager.destroy());videoManager&&(videoManager.activeVideo=
null,videoManager.destroy());gei.core.eventBus.fire("Event_pageContentLoadEnd");gei.ui.adjustUnitRowHeightSameUtil.execSameHeight();v=r;r=b(q);r>v&&(v=r);q.height(parseInt(v)+30);$(".unit-container-list[wiget-height]",k).attr("wiget-height",v);gei.ui.uiUtil.maskClear(q)})}var d=$.extend(!0,{wiget:".wiget_container",activeClass:"active",container:".wiget_rcmd_group_container",queryItemSelector:".query-item",groupContainerSelector:".wiget_item",enablePopLink:!1},a||{});return{init:function(){var g=
$("."+d.containerUuid);$(d.queryItemSelector,g).hover(function(){var k=$(this),q=$(d.queryItemSelector,g);k.hasClass(d.activeClass)||(q.removeClass(d.activeClass),k.addClass(d.activeClass),c(k,g))})}}};
gei.wiget.multi_layer_nav_2=function(a){var b=$.extend(!0,{activeClass:"active",wiget:".wiget_container",container:".wiget_multi_layer_nav_2_container",navLinkSelector:".container-left-item",groupSelector:".groups-recommend-list",linkItemSelector:".link-item",pjaxContainer:"#resContainer",leftItemHover:"item_hover"},a||{}),c=gei.wiget._getContainer(b);return{init:function(){$(c).on("click","*[multiLayerLinkType='pjax']",function(){gei.search.state.searchPageParam.setPageNum(1);gei.search.state.searchPageParam.setDim($(this).attr("data-short-path-ordered"));
gei.search.manager.active.changeSubNull();gei.search.manager.active.clickDoSearchSubmit(null,{isUpdateDimRegion:!0})});c.ready(function(){function d(q){$(b.groupSelector).each(function(v,r){$(r).attr("data-countId")==q?$(r).addClass(b.activeClass):$(r).removeClass(b.activeClass)})}function g(q){$(b.navLinkSelector).each(function(v,r){$(r).attr("data-countId")==q?$(r).addClass(b.leftItemHover):$(r).removeClass(b.leftItemHover)})}function k(q){$(b.navLinkSelector).each(function(v,r){$(r).attr("data-countId")==
q?$(r).addClass(b.activeClass):$(r).removeClass(b.activeClass)})}$(b.navLinkSelector).each(function(q,v){var r=$(v).attr("data-countId");$(v).hover(function(){d(r);g(r)});"pjax"==$(v).children().attr("multilayerlinktype")&&$(v).unbind("click").click(function(){$(b.navLinkSelector).removeClass(b.activeClass);$(v).addClass(b.activeClass)})});$(b.linkItemSelector).each(function(q,v){$(v).unbind("click").click(function(){$(b.linkItemSelector).removeClass(b.activeClass);$(v).addClass(b.activeClass);k($(v).parents(b.groupSelector).attr("data-countId"))})})})}}};
gei.favCommon={};gei.core.eventBus.on("Event_pageContentLoadEnd",function(a){_.isUndefined(a)&&(a=$(document.body));a.find(".fav-btn").unbind("click").bind("click",function(b){gei.favCommon.bindEvent($(this))})});gei.core.eventBus.on("Event_itemDetailLoadSuccess",function(a){$(".fav-btn").unbind("click").bind("click",function(b){gei.favCommon.bindEvent($(this))})});
gei.favCommon.bindEvent=function(a){if(isLogin){var b=a.attr("unit-type"),c=a.attr("unit-id");gei.util.pop({type:BootstrapDialog.TYPE_DEFAULT,width:500,title:'<a href="/home/favorite" target="_blank" style="text-decoration: none;color: inherit;cursor: pointer;">\u6536\u85cf</a>',message:function(){var d=$("<div class=\"container-fluid\" id='fav-list-container'></div>");gei.favCommon.loadFavPopList(d,{unitType:b,unitId:c});return d},onhidden:function(d){gei.favCommon.changeBtnUi(a,d)},buttons:[]})}else gei.login.pop.loginPop(gei.login.pop.tipMessageOperate)};
gei.favCommon.loadFavPopList=function(a,b,c){a.load("/gei-fav/ajaxComp/category/pop/list",b||{},function(){$(".add-newcate-btn",a).unbind("click").bind("click",function(d){gei.favCommon.addNewCategory($(this))});$(".js-p-fav-btn",a).unbind("click").bind("click",function(d){gei.favCommon.toggleFav($(this))});c&&c()})};
gei.favCommon._itemAddFavTopUrl=function(a){var b=a.attr("head-code");gei.util.tooltipAutoHide(a,'\u6536\u85cf\u6210\u529f\uff0c<b><a href="/home/fav/'+b+'" target="_blank" style="font-size: 12px;color: #0775c1;">\u67e5\u770b</a></b>',{placement:"left"})};
gei.favCommon.changeBtnUi=function(a){var b=a.attr("unit-type"),c=a.attr("unit-id"),d=$("#fav-anim-bar-"+b+"-"+c,a);b=$("i",a);c="true"==a.attr("fav")?!0:!1;var g=0<$('input[type="button"][data-checked="true"]').size();a.attr("fav",g);g!=c&&(g?(b.attr("class","icon-star"),d.removeClass("hide"),d.animate({top:"-20px"},300,function(){d.addClass("hide")})):b.attr("class","icon-star-empty"),gei.favCommon.changeFavCountUi(a,g))};
gei.favCommon.changeFavCountUi=function(a,b){var c=a.attr("unit-type"),d=a.attr("unit-id");a=$("#favCount-"+c+"-"+d,a);gei.util.changeCountUi(a,b?1:-1,"\u4eba")};
gei.favCommon.toggleFav=function(a){var b=a.attr("head-id"),c=a.attr("unit-type"),d=a.attr("unit-id"),g=a.attr("data-checked");gei.ajaxWithError({type:"post",url:"/gei-fav/jsonComp/toggle.json",dataType:"json",data:{headId:b,unitType:c,unitId:d}},function(k){k="true"==g?!1:!0;a.attr("data-checked",k);a.removeClass("btn-default-secondary");a.removeClass("btn-default-main");k?(a.addClass("btn-default-secondary"),a.val("\u5df2\u6536\u85cf"),gei.favCommon._itemAddFavTopUrl(a)):(a.addClass("btn-default-main"),
a.val("\u6536\u85cf"),a.tooltip("hide"))})};gei.favCommon.popMessage=function(a){Messenger().post({message:'<h6 class="text-success" style="margin-top:3px">'+a+"</h6>",type:"",hideAfter:3,showCloseButton:!0})};
gei.favCommon.saveCategory=function(a,b){var c=$("#fav-unitType").val(),d=$("#fav-unitId").val();gei.ajaxWithError({type:"post",url:"/gei-fav/jsonComp/category/save.json",dataType:"json",data:{id:$("#fav-cat-id").val(),name:$("#fav-cat-name").val(),publish:$('input[name="publish"]:checked').val(),desc:$("#fav-cat-desc").val(),unitType:c,unitId:d}},function(g){gei.favCommon.popMessage(g.message);$.extend({succFn:function(k,q){var v=$("#fav-list-container");v.empty();gei.favCommon.loadFavPopList(v,
{unitType:k,unitId:q},function(){var r=g.headId;_.isUndefined(r)||(r=$('[head-id="'+r+'"]',v),gei.favCommon._itemAddFavTopUrl(r))})}},b||{}).succFn(c,d);a&&a.close()})};
gei.favCommon.addNewCategory=function(a,b){var c=a.attr("data-head-id");a=a.html();var d="";d="\u7f16\u8f91\u6536\u85cf\u5939"==$.trim(a)?"\u7f16\u8f91\u6536\u85cf\u5939":"\u521b\u5efa\u6536\u85cf\u5939";gei.util.pop({type:BootstrapDialog.TYPE_DEFAULT,width:500,title:d,message:function(){var g={};c&&(g.id=c);var k=$('<div class="container-fluid"></div>');k.load("/gei-fav/ajaxComp/category/add",g,function(){});return k},onshown:function(g){$("#fav-cat-name").focus();$("#favCatForm").validate({submitHandler:function(k){gei.favCommon.saveCategory(g,
b)},rules:{name:{required:!0,maxlength:50,notEmoji:!0,remote:{url:"/gei-fav/jsonComp/category/check/name.json",data:{name:function(){return $("#fav-cat-name").val()},id:c}}},publish:{required:!0},desc:{required:!1,maxlength:200,notEmoji:!0}},messages:{name:{remote:"\u540d\u79f0\u5df2\u7ecf\u5b58\u5728!"}}})},buttons:[{label:"\u786e\u5b9a",cssClass:"btn-primary",action:function(g){$("#favCatForm").submit()}},{label:"\u53d6\u6d88",action:function(g){g.close()}}]})};
gei.favCommon.addUsefulCnt=function(a){gei.ajaxWithError({url:"/gei-fav/jsonComp/admin/addCnt/useful",data:{id:a}},function(){var b=$("#fav-useful-cnt-"+a),c=parseInt(b.text());b.text(++c)})};gei.favCommon.addUselessCnt=function(a){gei.ajaxWithError({url:"/gei-fav/jsonComp/admin/addCnt/useless",data:{id:a}},function(){var b=$("#fav-useless-cnt-"+a),c=parseInt(b.text());b.text(++c)})};gei.complain={};
gei.complain.init=function(a){var b=a.attr("unit-type"),c=a.attr("unit-id");gei.util.pop({type:BootstrapDialog.TYPE_DEFAULT,width:500,title:"\u4e3e\u62a5",message:function(d){var g=$('<div class="container-fluid">\u6b63\u5728\u52a0\u8f7d\uff0c\u8bf7\u7a0d\u540e...</div>');g.load("/gei-common/ajaxComp/complain/content",{},function(){(new gei.wiget.radio_group({wiget:$(".wiget_radio_group_container",d.$modalBody),onCancel:function(){d.close()},onSubmit:function(k){gei.complain.submit({unitType:b,unitId:c,
label:k.text,value:k.value,content:k.content}).done(function(){d.close()})}})).init()});return g},buttons:[]})};
gei.complain.submit=function(a){var b=$.Deferred();gei.ajaxWithError({type:"post",url:"/gei-common/jsonComp/complain/save.json",dataType:"json",data:a},function(c){var d="<h4 style='text-align: center;'>\u4e3e\u62a5\u6210\u529f</h4><p style='text-align: center;'>\u611f\u8c22\u4f60\u548c\u7231\u7ed9\u4e00\u8d77\u7ef4\u62a4\u793e\u533a\u6c1b\u56f4</p>";2>=a.value.split("-")[0]&&(d+="<p style='text-align: center;'>\u6211\u4eec\u5c06\u5c3d\u5feb\u67e5\u5b9e\uff0c\u6838\u5b9e\u540e\u5c06\u8fd4\u8fd8\u94dc\u5e01</p>");gei.util.alertSuccess(d,
{type:BootstrapDialog.TYPE_DEFAULT,width:500,title:"\u4e3e\u62a5",buttons:[]});b.resolve(c)});return b.promise()};gei.core.eventBus.on("Event_pageContentLoadEnd",function(){$(".complain-btn").unbind("click").bind("click",function(a){gei.complain.init($(this))})});gei.core.eventBus.on("Event_itemDetailLoadSuccess",function(a){$(".complain-btn").unbind("click").bind("click",function(b){gei.complain.init($(this))})});
gei.browser={isPC:function(){for(var a=navigator.userAgent.toLowerCase(),b="android;iphone;symbianOS;windows phone;ipad;ipod".split(";"),c=!0,d=0;d<b.length;d++)if(0<a.indexOf(b[d])){c=!1;break}return c},isMobile:function(){return!this.isPC()},BrowserType:{Opera:"Opera",Firefox:"Firefox",Chrome:"Chrome",Safari:"Safari",IE:"IE",Edge:"Edge"},getBrowserType:function(){var a=navigator.userAgent;if(-1<a.indexOf("Trident")||-1<a.indexOf("Edge"))return this.BrowserType.Edge;var b=-1<a.indexOf("Opera");if(b)return this.BrowserType.Opera;
if(-1<a.indexOf("Firefox"))return this.BrowserType.Firefox;if(-1<a.indexOf("Chrome"))return this.BrowserType.Chrome;if(-1<a.indexOf("Safari"))return this.BrowserType.Safari;if(-1<a.indexOf("compatible")&&-1<a.indexOf("MSIE")&&!b)return this.BrowserType.IE},flashChecker:function(){var a=0,b=0;if(document.all){var c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");a=1;b=c.GetVariable("$version");b=parseInt(b.split(" ")[1].split(",")[0])}else if(navigator.plugins&&0<navigator.plugins.length&&(c=navigator.plugins["Shockwave Flash"])){a=
1;c=c.description.split(" ");for(var d=0;d<c.length;++d)isNaN(parseInt(c[d]))||(b=parseInt(c[d]))}return{f:a,v:b}}};gei.feed={};var getFeedContent=!0;gei.feed.bindScroll=function(){$(window).scroll(function(){var a=$("#tab-mount-type").val();if("channel"===a||"column"===a)a=$("#feed-containers"),a.parent().hasClass("active")&&gei.feed.scrollTrigger();else if("column-ku"===a||"subject"===a)a=$("#feed-containers"),0!==a.length&&gei.feed.scrollTrigger()})};
gei.feed.scrollTrigger=function(){var a=$(document).height(),b=$(window).scrollTop(),c=$(window).height();b+c+1700>=a&&getFeedContent&&gei.feed.loadNewData()};
gei.feed.loadNewData=function(){var a=$("#domainId").val(),b=parseInt($("#feedPageNum").val())+1,c=parseInt($("#feedPageSize").val()),d=$("#topicsIsLastPage").val(),g=$("#showUnitBoxFrom").val(),k=$("#_code").val();"true"!==d?(getFeedContent=!1,$("#feed-container").append('<div id="tmpLoadData" style="text-align: center;margin: 48px 0 48px 0" ><i class="icon-spinner icon-spin" style="color: #0485de;font-size: 48px"/></div>'),gei.ajaxWithError({url:"/gei-list/ajaxComp/feed/rc/domain/topic",data:{domainId:a,
pageNum:b,pageSize:c,code:k},dataType:"html"},function(q,v){q=$(q);$("#topicsIsLastPage").remove();$("#feed-container").append(q);$("#feedPageNum").attr("value",b);$("#tmpLoadData").remove();"true"!=g&&gei.feed.clearUnitBoxForm(q);gei.feed.showTopicDebugInfo(q);gei.core.eventBus.fire("Event_pageContentLoadEnd",q);getFeedContent=!0},function(q){gei.util.alertWarn(q);getFeedContent=!0})):0===$("#feed-container-footer").length&&$("#feed-container").append('<div id="feed-container-footer"><div class="feed-container-footer-line"></div><div class="feed-container-footer-center-text">\u6211\u4e5f\u662f\u6709\u5e95\u7ebf\u7684</div><div class="feed-container-footer-line"></div></div>')};
gei.feed.clearUnitBoxForm=function(a){var b=[".unit-box-from-row2",".unit-box-from-row1"];$(".topic-container",a).each(function(){var c=this;if("true"===$(this).attr("topic-show-unit-box-from"))return!0;$.each(b,function(d,g){d=$(g,c);0<d.length&&d.remove()})})};
gei.feed.showTopicDebugInfo=function(a){a.find(".topic-debug-item").each(function(b,c){var d=$(c).attr("unit-id");b=$(c).attr("debug-period");var g=$(c).attr("debug-period-down-rank"),k=$(c).attr("debug-source"),q=$(c).attr("debug-all-down-rank"),v=$(c).attr("debug-down-rank"),r=$(c).attr("debug-down-score"),t=gei.util.queryById("unitBox_item-"+d,a);if(0!=t.size()){var m=""==b?"unit\u6765\u6e90\uff1a"+k:"unit\u6765\u6e90\uff1a"+k+" ; \u5468\u671f: "+b+"<br> \u6392\u540d: "+v+"<br> \u5f97\u5206: "+
r+"<br> \u603b\u4e0b\u8f7d\u91cf\u6392\u540d: "+q+"<br> \u5468\u671f\u4e0b\u8f7d\u6392\u540d: "+g;$("[debug-info-btn-unit-id="+d+"]",a).remove();t.each(function(){$('<span style=" color: blue; width: 100%; float: left;display: block;">').html(m).attr("debug-info-btn-unit-id",d).appendTo($(this)).click(function(){gei.util.pop({type:BootstrapDialog.TYPE_INFO,width:1E3,title:"\u610f\u56fe\u63a8\u8350debug",message:$(c).html()})})})}})};gei.favrcfeed={};var getFavrcFeedContent=!0;
gei.favrcfeed.bindScroll=function(){$(window).scroll(function(){var a=$("#tab-mount-type").val();if("channel"===a||"column"===a)a=$("#favrc-feed-containers"),a.parent().hasClass("active")&&gei.favrcfeed.scrollTrigger();else if("column-ku"===a||"subject"===a)a=$("#favrc-feed-containers"),0!==a.length&&gei.favrcfeed.scrollTrigger()})};gei.favrcfeed.scrollTrigger=function(){var a=$(document).height(),b=$(window).scrollTop(),c=$(window).height();b+c+1700>=a&&getFavrcFeedContent&&gei.favrcfeed.loadNewData()};
gei.favrcfeed.loadNewData=function(){var a=$("#favrcDomainId").val(),b=parseInt($("#favrcFeedPageNum").val())+1,c=parseInt($("#favrcFeedPageSize").val()),d=$("#favrcFeedIsAudit").val(),g=$("#favrcFeedUsefulCnt").val(),k=$("#favrcFeedUselessCnt").val();"true"!==$("#headsIsLastPage").val()?(getFavrcFeedContent=!1,$("#favrc-feed-container").append('<div id="tmpLoadData" style="text-align: center;margin: 48px 0 48px 0" ><i class="icon-spinner icon-spin" style="color: #0485de;font-size: 48px"/></div>'),
gei.ajaxWithError({url:"/gei-list/ajaxComp/feed/rc/fav",data:{favrcDomainId:a,pageNum:b,pageSize:c,isAudit:d,usefulCnt:g,uselessCnt:k},dataType:"html"},function(q,v){q=$(q);$("#headsIsLastPage").remove();$("#favrc-feed-container").append(q);$("#favrcFeedPageNum").attr("value",b);$("#tmpLoadData").remove();gei.favrcfeed.clearUnitBoxForm();gei.core.eventBus.fire("Event_pageContentLoadEnd",q);getFavrcFeedContent=!0},function(q){gei.util.alertWarn(q);getFavrcFeedContent=!0})):0===$("#favrc-feed-container-footer").length&&
$("#favrc-feed-container").append('<div id="favrc-feed-container-footer"><div class="feed-container-footer-line"></div><div class="feed-container-footer-center-text">\u6211\u4e5f\u662f\u6709\u5e95\u7ebf\u7684</div><div class="feed-container-footer-line"></div></div>')};gei.favrcfeed.clearUnitBoxForm=function(){var a=$(".unit-box-from-row2","#favrc-feed-containers");0<a.length&&a.remove()};
gei.favrcfeed.bindTabChangeClickEvent=function(){$("#favrc_content-tab").click(function(a){$(".unit-content-main",$("#favrc_content")).removeAttr("style");$(".unit-container",$("#favrc_content")).removeAttr("style");a=new gei.ui.Table;gei.ui.adjustUnitRowHeightSameUtil.rowSetAllElHeightEqMax(a,".unit-content-main");gei.ui.adjustUnitRowHeightSameUtil.rowSetAllElHeightEqMax(a,".unit-box-from-row2");gei.ui.adjustUnitRowHeightSameUtil.rowSetAllElHeightEqMax(a)})};
gei.httpEnc={enc:function(a,b,c,d,g){b.httpEncUuid=getUUID();b.httpEncExpireTime=pageCreateTimeFromServer;b=cqbj(b);gei.ajax({type:"post",url:a,dataType:"json",data:b},function(k){c(k);g&&g(k)},function(k){!k||"error"!=k.status&&"fail"!=k.status?gei.util.pop({type:BootstrapDialog.TYPE_DANGER,title:"\u7cfb\u7edf\u51fa\u9519",message:k&&k.message?k.message:"\u7cfb\u7edf\u51fa\u9519\u4e86,\u8bf7\u548c\u7f51\u7ad9\u7ba1\u7406\u5458\u8054\u7cfb"}):d(k);g&&g(k)})}};
(function(a,b){"function"===typeof define&&define.amd?define("bloodhound",["jquery"],function(c){return a.Bloodhound=b(c)}):"object"===typeof exports?module.exports=b(require("jquery")):a.Bloodhound=b(jQuery)})(this,function(a){var b=function(){return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(m){return!m||/^\s*$/.test(m)},escapeRegExChars:function(m){return m.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,
"\\$&")},isString:function(m){return"string"===typeof m},isNumber:function(m){return"number"===typeof m},isArray:a.isArray,isFunction:a.isFunction,isObject:a.isPlainObject,isUndefined:function(m){return"undefined"===typeof m},isElement:function(m){return!(!m||1!==m.nodeType)},isJQuery:function(m){return m instanceof a},toStr:function(m){return b.isUndefined(m)||null===m?"":m+""},bind:a.proxy,each:function(m,u){a.each(m,function(h,f){return u(f,h)})},map:a.map,filter:a.grep,every:function(m,u){var h=
!0;if(!m)return h;a.each(m,function(f,l){if(!(h=u.call(null,l,f,m)))return!1});return!!h},some:function(m,u){var h=!1;if(!m)return h;a.each(m,function(f,l){if(h=u.call(null,l,f,m))return!1});return!!h},mixin:a.extend,identity:function(m){return m},clone:function(m){return a.extend(!0,{},m)},getIdGenerator:function(){var m=0;return function(){return m++}},templatify:function(m){function u(){return String(m)}return a.isFunction(m)?m:u},defer:function(m){setTimeout(m,0)},debounce:function(m,u,h){var f,
l;return function(){var e=this,n=arguments;var w=h&&!f;clearTimeout(f);f=setTimeout(function(){f=null;h||(l=m.apply(e,n))},u);w&&(l=m.apply(e,n));return l}},throttle:function(m,u){var h,f,l,e;var n=0;var w=function(){n=new Date;l=null;e=m.apply(h,f)};return function(){var y=new Date,z=u-(y-n);h=this;f=arguments;0>=z?(clearTimeout(l),l=null,n=y,e=m.apply(h,f)):l||(l=setTimeout(w,z));return e}},stringify:function(m){return b.isString(m)?m:JSON.stringify(m)},noop:function(){}}}(),c=function(){function m(f){return(f=
b.toStr(f))?f.split(/\s+/):[]}function u(f){return(f=b.toStr(f))?f.split(/\W+/):[]}function h(f){return function(l){l=b.isArray(l)?l:[].slice.call(arguments,0);return function(e){var n=[];b.each(l,function(w){n=n.concat(f(b.toStr(e[w])))});return n}}}return{nonword:u,whitespace:m,obj:{nonword:h(u),whitespace:h(m)}}}(),d=function(){function m(f){this.maxSize=b.isNumber(f)?f:100;this.reset();0>=this.maxSize&&(this.set=this.get=a.noop)}function u(){this.head=this.tail=null}function h(f,l){this.key=f;
this.val=l;this.prev=this.next=null}b.mixin(m.prototype,{set:function(f,l){var e=this.list.tail;this.size>=this.maxSize&&(this.list.remove(e),delete this.hash[e.key],this.size--);(e=this.hash[f])?(e.val=l,this.list.moveToFront(e)):(e=new h(f,l),this.list.add(e),this.hash[f]=e,this.size++)},get:function(f){if(f=this.hash[f])return this.list.moveToFront(f),f.val},reset:function(){this.size=0;this.hash={};this.list=new u}});b.mixin(u.prototype,{add:function(f){this.head&&(f.next=this.head,this.head.prev=
f);this.head=f;this.tail=this.tail||f},remove:function(f){f.prev?f.prev.next=f.next:this.head=f.next;f.next?f.next.prev=f.prev:this.tail=f.prev},moveToFront:function(f){this.remove(f);this.add(f)}});return m}(),g=function(){function m(f,l){this.prefix=["__",f,"__"].join("");this.ttlKey="__ttl__";this.keyMatcher=new RegExp("^"+b.escapeRegExChars(this.prefix));this.ls=l||h;!this.ls&&this._noop()}function u(f){return JSON.stringify(b.isUndefined(f)?null:f)}try{var h=window.localStorage;h.setItem("~~~",
"!");h.removeItem("~~~")}catch(f){h=null}b.mixin(m.prototype,{_prefix:function(f){return this.prefix+f},_ttlKey:function(f){return this._prefix(f)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=b.noop},_safeSet:function(f,l){try{this.ls.setItem(f,l)}catch(e){"QuotaExceededError"===e.name&&(this.clear(),this._noop())}},get:function(f){this.isExpired(f)&&this.remove(f);return a.parseJSON(this.ls.getItem(this._prefix(f)))},set:function(f,l,e){b.isNumber(e)?this._safeSet(this._ttlKey(f),
u((new Date).getTime()+e)):this.ls.removeItem(this._ttlKey(f));return this._safeSet(this._prefix(f),u(l))},remove:function(f){this.ls.removeItem(this._ttlKey(f));this.ls.removeItem(this._prefix(f));return this},clear:function(){var f=this.keyMatcher;var l,e,n=[],w=h.length;for(l=0;l<w;l++)(e=h.key(l)).match(f)&&n.push(e.replace(f,""));for(f=n.length;f--;)this.remove(n[f]);return this},isExpired:function(f){f=a.parseJSON(this.ls.getItem(this._ttlKey(f)));return b.isNumber(f)&&(new Date).getTime()>
f?!0:!1}});return m}(),k=function(){function m(e){e=e||{};this.cancelled=!1;this.lastReq=null;this._send=e.transport;this._get=e.limiter?e.limiter(this._get):this._get;this._cache=!1===e.cache?new d(0):l}var u=0,h={},f=6,l=new d(10);m.setMaxPendingRequests=function(e){f=e};m.resetCache=function(){l.reset()};b.mixin(m.prototype,{_fingerprint:function(e){e=e||{};return e.url+e.type+a.param(e.data||{})},_get:function(e,n){function w(M){n(null,M);C._cache.set(K,M)}function y(){n(!0)}function z(){u--;
delete h[K];C.onDeckRequestArgs&&(C._get.apply(C,C.onDeckRequestArgs),C.onDeckRequestArgs=null)}var C=this,I;var K=this._fingerprint(e);this.cancelled||K!==this.lastReq||((I=h[K])?I.done(w).fail(y):u<f?(u++,h[K]=this._send(e).done(w).fail(y).always(z)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(e,n){var w;n=n||a.noop;e=b.isString(e)?{url:e}:e||{};var y=this._fingerprint(e);this.cancelled=!1;this.lastReq=y;(w=this._cache.get(y))?n(null,w):this._get(e,n)},cancel:function(){this.cancelled=
!0}});return m}(),q=window.SearchIndex=function(){function m(f){f=f||{};f.datumTokenizer&&f.queryTokenizer||a.error("datumTokenizer and queryTokenizer are both required");this.identify=f.identify||b.stringify;this.datumTokenizer=f.datumTokenizer;this.queryTokenizer=f.queryTokenizer;this.reset()}function u(f){f=b.filter(f,function(l){return!!l});return f=b.map(f,function(l){return l.toLowerCase()})}function h(f){for(var l={},e=[],n=0,w=f.length;n<w;n++)l[f[n]]||(l[f[n]]=!0,e.push(f[n]));return e}b.mixin(m.prototype,
{bootstrap:function(f){this.datums=f.datums;this.trie=f.trie},add:function(f){var l=this;f=b.isArray(f)?f:[f];b.each(f,function(e){var n;l.datums[n=l.identify(e)]=e;e=u(l.datumTokenizer(e));b.each(e,function(w){var y;var z=l.trie;for(w=w.split("");y=w.shift();)z=z.c[y]||(z.c[y]={i:[],c:{}}),z.i.push(n)})})},get:function(f){var l=this;return b.map(f,function(e){return l.datums[e]})},search:function(f){var l=this,e;f=u(this.queryTokenizer(f));b.each(f,function(n){var w;if(e&&0===e.length)return!1;var y=
l.trie;for(n=n.split("");y&&(w=n.shift());)y=y.c[w];if(y&&0===n.length){w=y.i.slice(0);if(e){y=e;var z=n=0,C=[];y=y.sort();w=w.sort();for(var I=y.length,K=w.length;n<I&&z<K;)y[n]<w[z]?n++:(y[n]>w[z]||(C.push(y[n]),n++),z++);y=C}else y=w;e=y}else return e=[],!1});return e?b.map(h(e),function(n){return l.datums[n]}):[]},all:function(){var f=[],l;for(l in this.datums)f.push(this.datums[l]);return f},reset:function(){this.datums={};this.trie={i:[],c:{}}},serialize:function(){return{datums:this.datums,
trie:this.trie}}});return m}(),v=function(){function m(u){this.url=u.url;this.ttl=u.ttl;this.cache=u.cache;this.prepare=u.prepare;this.transform=u.transform;this.transport=u.transport;this.thumbprint=u.thumbprint;this.storage=new g(u.cacheKey)}b.mixin(m.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(u){this.cache&&(this.storage.set("data",u,this.ttl),this.storage.set("protocol",location.protocol,this.ttl),this.storage.set("thumbprint",this.thumbprint,
this.ttl))},fromCache:function(){if(!this.cache)return null;var u=this.storage.get("data");var h=this.storage.get("protocol");h=this.storage.get("thumbprint")!==this.thumbprint||h!==location.protocol;return u&&!h?u:null},fromNetwork:function(u){var h=this;if(u){var f=this.prepare(this._settings());this.transport(f).fail(function(){u(!0)}).done(function(l){u(null,h.transform(l))})}},clear:function(){this.storage.clear();return this}});return m}(),r=function(){function m(u){this.url=u.url;this.prepare=
u.prepare;this.transform=u.transform;this.transport=new k({cache:u.cache,limiter:u.limiter,transport:u.transport})}b.mixin(m.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(u,h){var f=this;if(h)return u=this.prepare(u||"",this._settings()),this.transport.get(u,function(l,e){l?h([]):h(f.transform(e))})},cancelLastRequest:function(){this.transport.cancel()}});return m}(),t=function(){function m(e){if(!e)return null;var n={url:null,ttl:864E5,cache:!0,cacheKey:null,
thumbprint:"",prepare:b.identity,transform:b.identity,transport:null};e=b.isString(e)?{url:e}:e;e=b.mixin(n,e);!e.url&&a.error("prefetch requires url to be set");e.transform=e.filter||e.transform;e.cacheKey=e.cacheKey||e.url;e.thumbprint="0.11.1"+e.thumbprint;e.transport=e.transport?l(e.transport):a.ajax;return e}function u(e){if(e){var n={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:b.identity,transport:null};e=b.isString(e)?
{url:e}:e;e=b.mixin(n,e);!e.url&&a.error("remote requires url to be set");e.transform=e.filter||e.transform;e.prepare=h(e);e.limiter=f(e);e.transport=e.transport?l(e.transport):a.ajax;delete e.replace;delete e.wildcard;delete e.rateLimitBy;delete e.rateLimitWait;return e}}function h(e){function n(K,M){M.url=C(M.url,K);return M}function w(K,M){M.url=M.url.replace(I,encodeURIComponent(K));return M}function y(K,M){return M}var z=e.prepare;var C=e.replace;var I=e.wildcard;return z?z:z=C?n:e.wildcard?
w:y}function f(e){function n(C){return function(I){return b.debounce(I,C)}}function w(C){return function(I){return b.throttle(I,C)}}var y=e.limiter;var z=e.rateLimitBy;e=e.rateLimitWait;y||(y=/^throttle$/i.test(z)?w(e):n(e));return y}function l(e){return function(n){var w=a.Deferred();e(n,function(y){b.defer(function(){w.resolve(y)})},function(y){b.defer(function(){w.reject(y)})});return w}}return function(e){e=b.mixin({initialize:!0,identify:b.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,
sorter:null,local:[],prefetch:null,remote:null},e||{});!e.datumTokenizer&&a.error("datumTokenizer is required");!e.queryTokenizer&&a.error("queryTokenizer is required");var n=e.sorter;e.sorter=n?function(w){return w.sort(n)}:b.identity;e.local=b.isFunction(e.local)?e.local():e.local;e.prefetch=m(e.prefetch);e.remote=u(e.remote);return e}}();return function(){function m(h){h=t(h);this.sorter=h.sorter;this.identify=h.identify;this.sufficient=h.sufficient;this.local=h.local;this.remote=h.remote?new r(h.remote):
null;this.prefetch=h.prefetch?new v(h.prefetch):null;this.index=new q({identify:this.identify,datumTokenizer:h.datumTokenizer,queryTokenizer:h.queryTokenizer});!1!==h.initialize&&this.initialize()}var u=window&&window.Bloodhound;m.noConflict=function(){window&&(window.Bloodhound=u);return m};m.tokenizers=c;b.mixin(m.prototype,{__ttAdapter:function(){function h(e,n,w){return l.search(e,n,w)}function f(e,n){return l.search(e,n)}var l=this;return this.remote?h:f},_loadPrefetch:function(){function h(n,
w){if(n)return e.reject();f.add(w);f.prefetch.store(f.index.serialize());e.resolve()}var f=this,l;var e=a.Deferred();this.prefetch?(l=this.prefetch.fromCache())?(this.index.bootstrap(l),e.resolve()):this.prefetch.fromNetwork(h):e.resolve();return e.promise()},_initialize:function(){var h=this;this.clear();(this.initPromise=this._loadPrefetch()).done(function(){h.add(h.local)});return this.initPromise},initialize:function(h){return!this.initPromise||h?this._initialize():this.initPromise},add:function(h){this.index.add(h);
return this},get:function(h){h=b.isArray(h)?h:[].slice.call(arguments);return this.index.get(h)},search:function(h,f,l){function e(y){var z=[];b.each(y,function(C){!b.some(w,function(I){return n.identify(C)===n.identify(I)})&&z.push(C)});l&&l(z)}var n=this;var w=this.sorter(this.index.search(h));f(this.remote?w.slice():w);this.remote&&w.length<this.sufficient?this.remote.get(h,e):this.remote&&this.remote.cancelLastRequest();return this},all:function(){return this.index.all()},clear:function(){this.index.reset();
return this},clearPrefetchCache:function(){this.prefetch&&this.prefetch.clear();return this},clearRemoteCache:function(){k.resetCache();return this},ttAdapter:function(){return this.__ttAdapter()}});return m}()});
(function(a,b){"function"===typeof define&&define.amd?define("typeahead.js",["jquery"],function(c){return b(c)}):"object"===typeof exports?module.exports=b(require("jquery")):b(jQuery)})(this,function(a){var b=function(){return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(u){return!u||/^\s*$/.test(u)},escapeRegExChars:function(u){return u.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},
isString:function(u){return"string"===typeof u},isNumber:function(u){return"number"===typeof u},isArray:a.isArray,isFunction:a.isFunction,isObject:a.isPlainObject,isUndefined:function(u){return"undefined"===typeof u},isElement:function(u){return!(!u||1!==u.nodeType)},isJQuery:function(u){return u instanceof a},toStr:function(u){return b.isUndefined(u)||null===u?"":u+""},bind:a.proxy,each:function(u,h){a.each(u,function(f,l){return h(l,f)})},map:a.map,filter:a.grep,every:function(u,h){var f=!0;if(!u)return f;
a.each(u,function(l,e){if(!(f=h.call(null,e,l,u)))return!1});return!!f},some:function(u,h){var f=!1;if(!u)return f;a.each(u,function(l,e){if(f=h.call(null,e,l,u))return!1});return!!f},mixin:a.extend,identity:function(u){return u},clone:function(u){return a.extend(!0,{},u)},getIdGenerator:function(){var u=0;return function(){return u++}},templatify:function(u){function h(){return String(u)}return a.isFunction(u)?u:h},defer:function(u){setTimeout(u,0)},debounce:function(u,h,f){var l,e;return function(){var n=
this,w=arguments;var y=f&&!l;clearTimeout(l);l=setTimeout(function(){l=null;f||(e=u.apply(n,w))},h);y&&(e=u.apply(n,w));return e}},throttle:function(u,h){var f,l,e,n;var w=0;var y=function(){w=new Date;e=null;n=u.apply(f,l)};return function(){var z=new Date,C=h-(z-w);f=this;l=arguments;0>=C?(clearTimeout(e),e=null,w=z,n=u.apply(f,l)):e||(e=setTimeout(y,C));return n}},stringify:function(u){return b.isString(u)?u:JSON.stringify(u)},noop:function(){}}}(),c=function(){function u(l){var e={};b.each(l,
function(n,w){e[w]="."+n});return e}function h(){var l={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};b.isMsie()&&b.mixin(l.input,
{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"});return l}var f={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return function(l){l=b.mixin({},f,l);var e={css:h(),classes:l,html:{wrapper:'<span class="'+l.wrapper+'"></span>',menu:'<div class="'+l.menu+'"></div>'},
selectors:u(l)};return{css:e.css,html:e.html,classes:e.classes,selectors:e.selectors,mixin:function(n){b.mixin(n,e)}}}}(),d=function(){function u(f){f&&f.el||a.error("EventBus initialized without el");this.$el=a(f.el)}var h={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"};b.mixin(u.prototype,{_trigger:function(f,l){f=a.Event("typeahead:"+f);(l=l||[]).unshift(f);this.$el.trigger.apply(this.$el,l);return f},before:function(f){var l=[].slice.call(arguments,
1);return this._trigger("before"+f,l).isDefaultPrevented()},trigger:function(f){var l;this._trigger(f,[].slice.call(arguments,1));(l=h[f])&&this._trigger(l,[].slice.call(arguments,1))}});return u}(),g=function(){function u(n,w,y,z){if(!y)return this;w=w.split(l);y=z?f(y,z):y;for(this._callbacks=this._callbacks||{};z=w.shift();)this._callbacks[z]=this._callbacks[z]||{sync:[],async:[]},this._callbacks[z][n].push(y);return this}function h(n,w,y){return function(){for(var z,C=0,I=n.length;!z&&C<I;C+=
1)z=!1===n[C].apply(w,y);return!z}}function f(n,w){return n.bind?n.bind(w):function(){n.apply(w,[].slice.call(arguments,0))}}var l=/\s+/,e=function(){return window.setImmediate?function(n){setImmediate(function(){n()})}:function(n){setTimeout(function(){n()},0)}}();return{onSync:function(n,w,y){return u.call(this,"sync",n,w,y)},onAsync:function(n,w,y){return u.call(this,"async",n,w,y)},off:function(n){var w;if(!this._callbacks)return this;for(n=n.split(l);w=n.shift();)delete this._callbacks[w];return this},
trigger:function(n){var w,y,z;if(!this._callbacks)return this;n=n.split(l);for(z=[].slice.call(arguments,1);(w=n.shift())&&(y=this._callbacks[w]);){var C=h(y.sync,this,[w].concat(z));var I=h(y.async,this,[w].concat(z));C()&&e(I)}return this}}}(),k=function(u){function h(l,e,n){for(var w=[],y=0,z=l.length;y<z;y++)w.push(b.escapeRegExChars(l[y]));l=n?"\\b("+w.join("|")+")\\b":"("+w.join("|")+")";return e?new RegExp(l):new RegExp(l,"i")}var f={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,
caseSensitive:!1};return function(l){function e(w,y){for(var z,C=0;C<w.childNodes.length;C++)z=w.childNodes[C],3===z.nodeType?C+=y(z)?1:0:e(z,y)}l=b.mixin({},f,l);if(l.node&&l.pattern){l.pattern=b.isArray(l.pattern)?l.pattern:[l.pattern];var n=h(l.pattern,l.caseSensitive,l.wordsOnly);e(l.node,function(w){var y;if(y=n.exec(w.data)){var z=u.createElement(l.tagName);l.className&&(z.className=l.className);var C=w.splitText(y.index);C.splitText(y[0].length);z.appendChild(C.cloneNode(!0));w.parentNode.replaceChild(z,
C)}return!!y})}}}(window.document),q=function(){function u(f,l){f=f||{};f.input||a.error("input is missing");l.mixin(this);this.$hint=a(f.hint);this.$input=a(f.input);this.query=this.$input.val();this.queryWhenFocused=this.hasFocus()?this.query:null;f=this.$input;this.$overflowHelper=a('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:f.css("font-family"),fontSize:f.css("font-size"),fontStyle:f.css("font-style"),fontVariant:f.css("font-variant"),
fontWeight:f.css("font-weight"),wordSpacing:f.css("word-spacing"),letterSpacing:f.css("letter-spacing"),textIndent:f.css("text-indent"),textRendering:f.css("text-rendering"),textTransform:f.css("text-transform")}).insertAfter(f);this._checkLanguageDirection();0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=b.noop)}var h={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"};u.normalizeQuery=function(f){return b.toStr(f).replace(/^\s*/g,"").replace(/\s{2,}/g,
" ")};b.mixin(u.prototype,g,{_onBlur:function(){this._setQuery(this.getInputValue());this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query;this.trigger("focused")},_onKeydown:function(f){var l=h[f.which||f.keyCode];this._managePreventDefault(l,f);l&&this._shouldTrigger(l,f)&&this.trigger(l+"Keyed",f)},_onInput:function(){this._setQuery(this.getInputValue());this.clearHintIfInvalid();this._checkLanguageDirection()},_managePreventDefault:function(f,l){switch(f){case "up":case "down":f=
!(l.altKey||l.ctrlKey||l.metaKey||l.shiftKey);break;default:f=!1}f&&l.preventDefault()},_shouldTrigger:function(f,l){switch(f){case "tab":f=!(l.altKey||l.ctrlKey||l.metaKey||l.shiftKey);break;default:f=!0}return f},_checkLanguageDirection:function(){var f=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==f&&(this.dir=f,this.$hint.attr("dir",f),this.trigger("langDirChanged",f))},_setQuery:function(f,l){var e=this.query;var n=(e=u.normalizeQuery(f)===u.normalizeQuery(e))?this.query.length!==
f.length:!1;this.query=f;l||e?!l&&n&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var f=this;var l=b.bind(this._onBlur,this);var e=b.bind(this._onFocus,this);var n=b.bind(this._onKeydown,this);var w=b.bind(this._onInput,this);this.$input.on("blur.tt",l).on("focus.tt",e).on("keydown.tt",n);if(!b.isMsie()||9<b.isMsie())this.$input.on("input.tt",w);else this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(y){h[y.which||y.keyCode]||
b.defer(b.bind(f._onInput,f,y))});return this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(f,l){this.setInputValue(f);this._setQuery(f,l)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(f){this.$input.val(f);this.clearHintIfInvalid();this._checkLanguageDirection()},
resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(f){this.$hint.val(f)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var f=this.getInputValue();var l=this.getHint();l=f!==l&&0===l.indexOf(f);""!==f&&l&&!this.hasOverflow()||this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var f=this.$input.width()-2;this.$overflowHelper.text(this.getInputValue());return this.$overflowHelper.width()>=
f},isCursorAtEnd:function(){var f=this.$input.val().length;var l=this.$input[0].selectionStart;return b.isNumber(l)?l===f:document.selection?(l=document.selection.createRange(),l.moveStart("character",-f),f===l.text.length):!0},destroy:function(){this.$hint.off(".tt");this.$input.off(".tt");this.$overflowHelper.remove();this.$hint=this.$input=this.$overflowHelper=a("<div>")}});return u}(),v=function(){function u(e,n){e=e||{};e.templates=e.templates||{};e.templates.notFound=e.templates.notFound||e.templates.empty;
e.source||a.error("missing source");e.node||a.error("missing node");e.name&&!/^[_a-zA-Z0-9-]+$/.test(e.name)&&a.error("invalid dataset name: "+e.name);n.mixin(this);this.highlight=!!e.highlight;this.name=e.name||l();this.limit=e.limit||5;this.displayFn=h(e.display||e.displayKey);this.templates=f(e.templates,this.displayFn);this.source=e.source.__ttAdapter?e.source.__ttAdapter():e.source;this.async=b.isUndefined(e.async)?2<this.source.length:!!e.async;this._resetLastSuggestion();this.$el=a(e.node).addClass(this.classes.dataset).addClass(this.classes.dataset+
"-"+this.name)}function h(e){function n(w){return w[e]}e=e||b.stringify;return b.isFunction(e)?e:n}function f(e,n){function w(y){return a("<div>").text(n(y))}return{notFound:e.notFound&&b.templatify(e.notFound),pending:e.pending&&b.templatify(e.pending),header:e.header&&b.templatify(e.header),footer:e.footer&&b.templatify(e.footer),suggestion:e.suggestion||w}}var l=b.getIdGenerator();u.extractData=function(e){e=a(e);return e.data("tt-selectable-object")?{val:e.data("tt-selectable-display")||"",obj:e.data("tt-selectable-object")||
null}:null};b.mixin(u.prototype,g,{_overwrite:function(e,n){n=n||[];n.length?this._renderSuggestions(e,n):this.async&&this.templates.pending?this._renderPending(e):!this.async&&this.templates.notFound?this._renderNotFound(e):this._empty();this.trigger("rendered",this.name,n,!1)},_append:function(e,n){n=n||[];n.length&&this.$lastSuggestion.length?this._appendSuggestions(e,n):n.length?this._renderSuggestions(e,n):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(e);this.trigger("rendered",
this.name,n,!0)},_renderSuggestions:function(e,n){var w=this._getSuggestionsFragment(e,n);this.$lastSuggestion=w.children().last();this.$el.html(w).prepend(this._getHeader(e,n)).append(this._getFooter(e,n))},_appendSuggestions:function(e,n){e=this._getSuggestionsFragment(e,n);n=e.children().last();this.$lastSuggestion.after(e);this.$lastSuggestion=n},_renderPending:function(e){var n=this.templates.pending;this._resetLastSuggestion();n&&this.$el.html(n({query:e,dataset:this.name}))},_renderNotFound:function(e){var n=
this.templates.notFound;this._resetLastSuggestion();n&&this.$el.html(n({query:e,dataset:this.name}))},_empty:function(){this.$el.empty();this._resetLastSuggestion()},_getSuggestionsFragment:function(e,n){var w=this;var y=document.createDocumentFragment();b.each(n,function(z){var C=w._injectQuery(e,z);z=a(w.templates.suggestion(C)).data("tt-selectable-object",z).data("tt-selectable-display",w.displayFn(z)).addClass(w.classes.suggestion+" "+w.classes.selectable);y.appendChild(z[0])});this.highlight&&
k({className:this.classes.highlight,node:y,pattern:e});return a(y)},_getFooter:function(e,n){return this.templates.footer?this.templates.footer({query:e,suggestions:n,dataset:this.name}):null},_getHeader:function(e,n){return this.templates.header?this.templates.header({query:e,suggestions:n,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=a()},_injectQuery:function(e,n){return b.isObject(n)?b.mixin({_query:e},n):n},update:function(e){function n(I){z||(z=!0,I=(I||[]).slice(0,
w.limit),C=I.length,w._overwrite(e,I),C<w.limit&&w.async&&w.trigger("asyncRequested",e))}var w=this,y=!1,z=!1,C=0;this.cancel();this.cancel=function(){y=!0;w.cancel=a.noop;w.async&&w.trigger("asyncCanceled",e)};this.source(e,n,function(I){I=I||[];!y&&C<w.limit&&(w.cancel=a.noop,C+=I.length,w._append(e,I.slice(0,w.limit-C)),w.async&&w.trigger("asyncReceived",e))});!z&&n([])},cancel:a.noop,clear:function(){this._empty();this.cancel();this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},
destroy:function(){this.$el=a("<div>")}});return u}(),r=function(){function u(h,f){var l=this;h=h||{};h.node||a.error("node is required");f.mixin(this);this.$node=a(h.node);this.query=null;this.datasets=b.map(h.datasets,function(e){var n=l.$node.find(e.node).first();e.node=n.length?n:a("<div>").appendTo(l.$node);return new v(e,f)})}b.mixin(u.prototype,g,{_onSelectableClick:function(h){this.trigger("selectableClicked",a(h.currentTarget))},_onRendered:function(h,f,l,e){this.$node.toggleClass(this.classes.empty,
this._allDatasetsEmpty());this.trigger("datasetRendered",f,l,e)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty());this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){return b.every(this.datasets,function(h){return h.isEmpty()})},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var h=this.getActiveSelectable();h&&h.removeClass(this.classes.cursor)},
_ensureVisible:function(h){var f=h.position().top;h=f+h.outerHeight(!0);var l=this.$node.scrollTop();var e=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10);0>f?this.$node.scrollTop(l+f):e<h&&this.$node.scrollTop(l+(h-e))},bind:function(){var h=this;var f=b.bind(this._onSelectableClick,this);this.$node.on("click.tt",this.selectors.selectable,f);b.each(this.datasets,function(l){l.onSync("asyncRequested",h._propagate,h).onSync("asyncCanceled",
h._propagate,h).onSync("asyncReceived",h._propagate,h).onSync("rendered",h._onRendered,h).onSync("cleared",h._onCleared,h)});return this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open);this._removeCursor()},setLanguageDirection:function(h){this.$node.attr("dir",h)},selectableRelativeToCursor:function(h){var f=this.getActiveSelectable();var l=this._getSelectables();h=
((f?l.index(f):-1)+h+1)%(l.length+1)-1;h=-1>h?l.length-1:h;return-1===h?null:l.eq(h)},setCursor:function(h){this._removeCursor();if(h=h&&h.first())h.addClass(this.classes.cursor),this._ensureVisible(h)},getSelectableData:function(h){return h&&h.length?v.extractData(h):null},getActiveSelectable:function(){var h=this._getSelectables().filter(this.selectors.cursor).first();return h.length?h:null},getTopSelectable:function(){var h=this._getSelectables().first();return h.length?h:null},update:function(h){function f(e){e.update(h)}
var l=h!==this.query;l&&(this.query=h,b.each(this.datasets,f));return l},empty:function(){b.each(this.datasets,function(h){h.clear()});this.query=null;this.$node.addClass(this.classes.empty)},destroy:function(){this.$node.off(".tt");this.$node=a("<div>");b.each(this.datasets,function(h){h.destroy()})}});return u}(),t=function(){function u(){r.apply(this,[].slice.call(arguments,0))}var h=r.prototype;b.mixin(u.prototype,r.prototype,{open:function(){!this._allDatasetsEmpty()&&this._show();return h.open.apply(this,
[].slice.call(arguments,0))},close:function(){this._hide();return h.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show();return h._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show();return h._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(f){this.$node.css("ltr"===f?this.css.ltr:this.css.rtl);return h.setLanguageDirection.apply(this,
[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}});return u}(),m=function(){function u(f,l){f=f||{};f.input||a.error("missing input");f.menu||a.error("missing menu");f.eventBus||a.error("missing event bus");l.mixin(this);this.eventBus=f.eventBus;this.minLength=b.isNumber(f.minLength)?f.minLength:1;this.input=f.input;this.menu=f.menu;this.enabled=!0;this.active=!1;this.input.hasFocus()&&this.activate();this.dir=this.input.getLangDir();
this._hacks();this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this);f=h(this,"activate","open","_onFocused");l=h(this,"deactivate","_onBlurred");var e=h(this,"isActive","isOpen","_onEnterKeyed");var n=h(this,"isActive",
"isOpen","_onTabKeyed");var w=h(this,"isActive","_onEscKeyed");var y=h(this,"isActive","open","_onUpKeyed");var z=h(this,"isActive","open","_onDownKeyed");var C=h(this,"isActive","isOpen","_onLeftKeyed");var I=h(this,"isActive","isOpen","_onRightKeyed");var K=h(this,"_openIfActive","_onQueryChanged");var M=h(this,"_openIfActive","_onWhitespaceChanged");this.input.bind().onSync("focused",f,this).onSync("blurred",l,this).onSync("enterKeyed",e,this).onSync("tabKeyed",n,this).onSync("escKeyed",w,this).onSync("upKeyed",
y,this).onSync("downKeyed",z,this).onSync("leftKeyed",C,this).onSync("rightKeyed",I,this).onSync("queryChanged",K,this).onSync("whitespaceChanged",M,this).onSync("langDirChanged",this._onLangDirChanged,this)}function h(f){var l=[].slice.call(arguments,1);return function(){var e=[].slice.call(arguments);b.each(l,function(n){return f[n].apply(f,e)})}}b.mixin(u.prototype,{_hacks:function(){var f=this.input.$input||a("<div>");var l=this.menu.$node||a("<div>");f.on("blur.tt",function(e){var n=document.activeElement;
var w=l.is(n);n=0<l.has(n).length;b.isMsie()&&(w||n)&&(e.preventDefault(),e.stopImmediatePropagation(),b.defer(function(){f.focus()}))});l.on("mousedown.tt",function(e){e.preventDefault()})},_onSelectableClicked:function(f,l){this.select(l)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(f,l,e,n){this._updateHint();this.eventBus.trigger("render",e,n,l)},_onAsyncRequested:function(f,l,e){this.eventBus.trigger("asyncrequest",e,l)},_onAsyncCanceled:function(f,l,e){this.eventBus.trigger("asynccancel",
e,l)},_onAsyncReceived:function(f,l,e){this.eventBus.trigger("asyncreceive",e,l)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(f,l){var e;(e=this.menu.getActiveSelectable())&&this.select(e)&&l.preventDefault()},_onTabKeyed:function(f,l){var e;(e=this.menu.getActiveSelectable())?this.select(e)&&l.preventDefault():(e=
this.menu.getTopSelectable())&&this.autocomplete(e)&&l.preventDefault()},_onEscKeyed:function(){this.input._setQuery(this.input.getInputValue());this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(f,
l){this._minLengthMet(l)?this.menu.update(l):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(f,l){this.dir!==l&&(this.dir=l,this.menu.setLanguageDirection(l))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(f){f=b.isString(f)?f:this.input.getQuery()||"";return f.length>=this.minLength},_updateHint:function(){var f=this.menu.getTopSelectable();var l=this.menu.getSelectableData(f);f=this.input.getInputValue();if(!l||b.isBlankString(f)||
this.input.hasOverflow())this.input.clearHint();else{var e=q.normalizeQuery(f);e=b.escapeRegExChars(e);e=new RegExp("^(?:"+e+")(.+$)","i");(l=e.exec(l.val))&&this.input.setHint(f+l[1])}},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){if(this.isActive())return!0;if(!this.isEnabled()||this.eventBus.before("active"))return!1;this.active=!0;this.eventBus.trigger("active");return!0},
deactivate:function(){if(this.isActive()){if(this.eventBus.before("idle"))return!1;this.active=!1;this.close();this.eventBus.trigger("idle")}return!0},isOpen:function(){return this.menu.isOpen()},open:function(){this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open"));return this.isOpen()},close:function(){this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close"));
return!this.isOpen()},setVal:function(f){this.input.setQuery(b.toStr(f))},getVal:function(){return this.input.getQuery()},select:function(f){return(f=this.menu.getSelectableData(f))&&!this.eventBus.before("select",f.obj)?(this.input.setQuery(f.val,!0),this.eventBus.trigger("select",f.obj),this.close(),!0):!1},autocomplete:function(f){var l=this.input.getQuery();return(f=this.menu.getSelectableData(f))&&l!==f.val&&!this.eventBus.before("autocomplete",f.obj)?(this.input.setQuery(f.val),this.eventBus.trigger("autocomplete",
f.obj),!0):!1},moveCursor:function(f){var l;var e=this.input.getQuery();f=this.menu.selectableRelativeToCursor(f);var n=(l=this.menu.getSelectableData(f))?l.obj:null;return this._minLengthMet()&&this.menu.update(e)||this.eventBus.before("cursorchange",n)?!1:(this.menu.setCursor(f),l?this.input.setInputValue(l.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",n),!0)},destroy:function(){this.input.destroy();this.menu.destroy()}});return u}();(function(){function u(z,
C){z.each(function(){var I=a(this),K;(K=I.data(w.typeahead))&&C(K,I)})}function h(z,C){C=z.clone().addClass(C.classes.hint).removeData().css(C.css.hint);var I=C.css;z={backgroundAttachment:z.css("background-attachment"),backgroundClip:z.css("background-clip"),backgroundColor:z.css("background-color"),backgroundImage:z.css("background-image"),backgroundOrigin:z.css("background-origin"),backgroundPosition:z.css("background-position"),backgroundRepeat:z.css("background-repeat"),backgroundSize:z.css("background-size")};
return I.call(C,z).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function f(z,C){z.data(w.attrs,{dir:z.attr("dir"),autocomplete:z.attr("autocomplete"),spellcheck:z.attr("spellcheck"),style:z.attr("style")});z.addClass(C.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!z.attr("dir")&&z.attr("dir","auto")}catch(I){}return z}function l(z){var C=z.data(w.www);var I=z.parent().filter(C.selectors.wrapper);b.each(z.data(w.attrs),
function(K,M){b.isUndefined(K)?z.removeAttr(M):z.attr(M,K)});z.removeData(w.typeahead).removeData(w.www).removeData(w.attr).removeClass(C.classes.input);I.length&&(z.detach().insertAfter(I),I.remove())}function e(z){z=b.isJQuery(z)||b.isElement(z)?a(z).first():[];return z.length?z:null}var n=a.fn.typeahead;var w={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"};var y={initialize:function(z,C){C=b.isArray(C)?C:[].slice.call(arguments,1);z=z||{};var I=c(z.classNames);return this.each(function(){b.each(C,
function(V){V.highlight=!!z.highlight});var K=a(this);var M=a(I.html.wrapper);var O=e(z.hint);var P=e(z.menu);var Q=!1!==z.hint&&!O;var R=!1!==z.menu&&!P;Q&&(O=h(K,I));R&&(P=a(I.html.menu).css(I.css.menu));O&&O.val("");K=f(K,I);if(Q||R)M.css(I.css.wrapper),K.css(Q?I.css.input:I.css.inputWithNoHint),K.wrap(M).parent().prepend(Q?O:null).append(R?P:null);Q=R?t:r;M=new d({el:K});O=new q({hint:O,input:K},I);P=new Q({node:P,datasets:C},I);P=new m({input:O,menu:P,eventBus:M,minLength:z.minLength},I);K.data(w.www,
I);K.data(w.typeahead,P)})},isEnabled:function(){var z;u(this.first(),function(C){z=C.isEnabled()});return z},enable:function(){u(this,function(z){z.enable()});return this},disable:function(){u(this,function(z){z.disable()});return this},isActive:function(){var z;u(this.first(),function(C){z=C.isActive()});return z},activate:function(){u(this,function(z){z.activate()});return this},deactivate:function(){u(this,function(z){z.deactivate()});return this},isOpen:function(){var z;u(this.first(),function(C){z=
C.isOpen()});return z},open:function(){u(this,function(z){z.open()});return this},close:function(){u(this,function(z){z.close()});return this},select:function(z){var C=!1,I=a(z);u(this.first(),function(K){C=K.select(I)});return C},autocomplete:function(z){var C=!1,I=a(z);u(this.first(),function(K){C=K.autocomplete(I)});return C},moveCursor:function(z){var C=!1;u(this.first(),function(I){C=I.moveCursor(z)});return C},val:function(z){var C;if(arguments.length)return u(this,function(I){I.setVal(z)}),
this;u(this.first(),function(I){C=I.getVal()});return C},destroy:function(){u(this,function(z,C){l(C);z.destroy()});return this}};a.fn.typeahead=function(z){return y[z]?y[z].apply(this,[].slice.call(arguments,1)):y.initialize.apply(this,arguments)};a.fn.typeahead.noConflict=function(){a.fn.typeahead=n;return this}})()});
(function(a,b,c){(function(d){"function"===typeof define&&define.amd?define(["jquery"],d):"object"===typeof exports?module.exports=d(require("jquery")):d(a.jQuery)})(function(d){function g(h,f){this.$element=d(h);!f||"string"!==d.type(f.delay)&&"number"!==d.type(f.delay)||(f.delay={show:f.delay,hide:f.delay});this.options=d.extend({},k,f);this._defaults=k;this._name="webuiPopover";this._targetclick=!1;this.init();q.push(this.$element)}var k={placement:"auto",width:"auto",height:"auto",trigger:"click",
style:"",delay:{show:null,hide:null},async:{type:"GET",before:null,success:null,error:null},cache:!0,multi:!1,arrow:!0,title:"",content:"",closeable:!1,padding:!0,url:"",type:"html",animation:null,template:'<div class="webui-popover"><div class="webui-arrow"></div><div class="webui-popover-inner"><a href="#" class="close"></a><h3 class="webui-popover-title"></h3><div class="webui-popover-content"><i class="icon-refresh"></i> <p>&nbsp;</p></div></div></div>',backdrop:!1,dismissible:!0,onShow:null,
onHide:null,abortXHR:!0,autoHide:!1,offsetTop:0,offsetLeft:0,iframeOptions:{frameborder:"0",allowtransparency:"true",id:"",name:"",scrolling:"",onload:"",height:"",width:""}},q=[],v=d('<div class="webui-popover-backdrop"></div>'),r=0,t=!1,m=d(b),u=function(){for(var h=0;h<q.length;h++)q[h].webuiPopover("hide");m.trigger("hiddenAll.webui.popover")};g.prototype={init:function(){if("click"===this.getTrigger())this.$element.off("click touchend").on("click touchend",d.proxy(this.toggle,this));else if("hover"===
this.getTrigger())this.$element.off("mouseenter mouseleave click").on("mouseenter",d.proxy(this.mouseenterHandler,this)).on("mouseleave",d.proxy(this.mouseleaveHandler,this));this._poped=!1;this._inited=!0;this._opened=!1;this._idSeed=r;this.options.backdrop&&v.appendTo(b.body).hide();r++;"sticky"===this.getTrigger()&&this.show()},destroy:function(){for(var h=-1,f=0;f<q.length;f++)if(q[f]===this.$element){h=f;break}q.splice(h,1);this.hide();this.$element.data("plugin_webuiPopover",null);"click"===
this.getTrigger()?this.$element.off("click"):"hover"===this.getTrigger()&&this.$element.off("mouseenter mouseleave");this.$target&&this.$target.remove()},hide:function(h,f){if((h||"sticky"!==this.getTrigger())&&this._opened){f&&(f.preventDefault(),f.stopPropagation());this.xhr&&!0===this.options.abortXHR&&(this.xhr.abort(),this.xhr=null);h=d.Event("hide.webui.popover");this.$element.trigger(h,[this.$target]);if(this.$target){this.$target.removeClass("in").addClass(this.getHideAnimation());var l=this;
setTimeout(function(){l.$target.hide()},300)}this.options.backdrop&&v.hide();this._opened=!1;this.$element.trigger("hidden.webui.popover",[this.$target]);if(this.options.onHide)this.options.onHide(this.$target)}},resetAutoHide:function(){var h=this,f=h.getAutoHide();f&&(h.autoHideHandler&&clearTimeout(h.autoHideHandler),h.autoHideHandler=setTimeout(function(){h.hide()},f))},toggle:function(h){h&&(h.preventDefault(),h.stopPropagation());this[this.getTarget().hasClass("in")?"hide":"show"]()},hideAll:function(){u()},
show:function(){var h=this.getTarget().removeClass().addClass("webui-popover").addClass(this._customTargetClass);this.options.multi||this.hideAll();if(!this._opened){this.getCache()&&this._poped&&""!==this.content||(this.content="",this.setTitle(this.getTitle()),this.options.closeable||h.find(".close").off("click").remove(),this.isAsync()?this.setContentASync(this.options.content):this.setContent(this.getContent()),h.show());this.displayContent();if(this.options.onShow)this.options.onShow(h);this.bindBodyEvents();
this.options.backdrop&&v.show();this._opened=!0;this.resetAutoHide()}},displayContent:function(){var h=this.getElementPosition(),f=this.getTarget().removeClass().addClass("webui-popover").addClass(this._customTargetClass),l=this.getContentElement();var e=d.Event("show.webui.popover");this.$element.trigger(e,[f]);e=this.$element.data("width")||this.options.width;""===e&&(e=this._defaults.width);"auto"!==e&&f.width(e);e=this.$element.data("height")||this.options.height;""===e&&(e=this._defaults.height);
"auto"!==e&&l.height(e);this.options.style&&this.$target.addClass("webui-popover-"+this.options.style);this.options.arrow||f.find(".webui-arrow").remove();f.detach().css({top:-2E3,left:-2E3,display:"block"});this.getAnimation()&&f.addClass(this.getAnimation());f.appendTo(b.body);e=this.getPlacement(h);this.$element.trigger("added.webui.popover");this.initTargetEvents();this.options.padding||("auto"!==this.options.height&&l.css("height",l.outerHeight()),this.$target.addClass("webui-no-padding"));h=
this.getTargetPositin(h,e,f[0].offsetWidth,f[0].offsetHeight);this.$target.css(h.position).addClass(e).addClass("in");if("iframe"===this.options.type){l=f.find("iframe");f=f.width();var n=l.parent().height();""!==this.options.iframeOptions.width&&"auto"!==this.options.iframeOptions.width&&(f=this.options.iframeOptions.width);""!==this.options.iframeOptions.height&&"auto"!==this.options.iframeOptions.height&&(n=this.options.iframeOptions.height);l.width(f).height(n)}this.options.arrow||this.$target.css({margin:0});
this.options.arrow&&(f=this.$target.find(".webui-arrow"),f.removeAttr("style"),"left"===e||"right"===e?f.css({top:this.$target.height()/2}):("top"===e||"bottom"===e)&&f.css({left:this.$target.width()/2}),h.arrowOffset&&(-1===h.arrowOffset.left||-1===h.arrowOffset.top?f.hide():f.css(h.arrowOffset)));this._poped=!0;this.$element.trigger("shown.webui.popover",[this.$target])},isTargetLoaded:function(){return 0===this.getTarget().find("i.glyphicon-refresh").length},getTriggerElement:function(){return this.$element},
getTarget:function(){if(!this.$target){var h="webuiPopover"+this._idSeed;this.$target=d(this.options.template).attr("id",h).data("trigger-element",this.getTriggerElement());this._customTargetClass="webui-popover"!==this.$target.attr("class")?this.$target.attr("class"):null;this.getTriggerElement().attr("data-target",h)}return this.$target},getTitleElement:function(){return this.getTarget().find(".webui-popover-title")},getContentElement:function(){this.$contentElement||(this.$contentElement=this.getTarget().find(".webui-popover-content"));
return this.$contentElement},getTitle:function(){return this.$element.attr("data-title")||this.options.title||this.$element.attr("title")},getUrl:function(){return this.$element.attr("data-url")||this.options.url},getAutoHide:function(){return this.$element.attr("data-auto-hide")||this.options.autoHide},getOffsetTop:function(){var h=this.$element.attr("data-offset-top");return(isNaN(h)?0:Number(h))||this.options.offsetTop},getOffsetLeft:function(){var h=this.$element.attr("data-offset-left");return(isNaN(h)?
0:Number(h))||this.options.offsetLeft},getCache:function(){var h=this.$element.attr("data-cache");if("undefined"!==typeof h)switch(h.toLowerCase()){case "true":case "yes":case "1":return!0;case "false":case "no":case "0":return!1}return this.options.cache},getTrigger:function(){return this.$element.attr("data-trigger")||this.options.trigger},getDelayShow:function(){var h=this.$element.attr("data-delay-show");return"undefined"!==typeof h?h:0===this.options.delay.show?0:this.options.delay.show||100},
getHideDelay:function(){var h=this.$element.attr("data-delay-hide");return"undefined"!==typeof h?h:0===this.options.delay.hide?0:this.options.delay.hide||100},getAnimation:function(){return this.$element.attr("data-animation")||this.options.animation},getHideAnimation:function(){var h=this.getAnimation();return h?h+"-out":"out"},setTitle:function(h){var f=this.getTitleElement();h?f.html(h):f.remove()},hasContent:function(){return this.getContent()},getIframe:function(){var h=d("<iframe></iframe>").attr("src",
this.getUrl()),f=this;d.each(this._defaults.iframeOptions,function(l){"undefined"!==typeof f.options.iframeOptions[l]&&h.attr(l,f.options.iframeOptions[l])});return h},getContent:function(){if(this.getUrl())switch(this.options.type){case "iframe":this.content=this.getIframe();break;case "html":try{this.content=d(this.getUrl()),this.content.is(":visible")||this.content.show()}catch(f){throw Error("Unable to get popover content. Invalid selector specified.");}}else if(!this.content){var h=d.isFunction(this.options.content)?
this.options.content.apply(this.$element[0],[this]):this.options.content;this.content=this.$element.attr("data-content")||h;this.content||(h=this.$element.next())&&h.hasClass("webui-popover-content")&&(this.content=h)}return this.content},setContent:function(h){var f=this.getTarget(),l=this.getContentElement();"string"===typeof h?l.html(h):h instanceof jQuery&&(l.html(""),this.options.cache?h.removeClass("webui-popover-content").appendTo(l):h.clone(!0,!0).removeClass("webui-popover-content").appendTo(l));
this.$target=f},isAsync:function(){return"async"===this.options.type},setContentASync:function(h){var f=this;this.xhr||(this.xhr=d.ajax({url:this.getUrl(),type:this.options.async.type,cache:this.getCache(),beforeSend:function(l){f.options.async.before&&f.options.async.before(f,l)},success:function(l){f.bindBodyEvents();h&&d.isFunction(h)?f.content=h.apply(f.$element[0],[l]):f.content=l;f.setContent(f.content);f.getContentElement().removeAttr("style");f.displayContent();f.options.async.success&&f.options.async.success(f,
l)},complete:function(){f.xhr=null},error:function(l,e){f.options.async.error&&f.options.async.error(f,l,e)}}))},bindBodyEvents:function(){this.options.dismissible&&"click"===this.getTrigger()&&!t&&(m.off("keyup.webui-popover").on("keyup.webui-popover",d.proxy(this.escapeHandler,this)),m.off("click.webui-popover touchend.webui-popover").on("click.webui-popover touchend.webui-popover",d.proxy(this.bodyClickHandler,this)))},mouseenterHandler:function(){var h=this;h._timeout&&clearTimeout(h._timeout);
h._enterTimeout=setTimeout(function(){h.getTarget().is(":visible")||h.show()},this.getDelayShow())},mouseleaveHandler:function(){var h=this;clearTimeout(h._enterTimeout);h._timeout=setTimeout(function(){h.hide()},this.getHideDelay())},escapeHandler:function(h){27===h.keyCode&&this.hideAll()},bodyClickHandler:function(h){for(var f=t=!0,l=0;l<q.length;l++){var e=q[l].data("plugin_webuiPopover");if(e&&e._opened){var n=e.getTarget().offset().left,w=e.getTarget().offset().top,y=e.getTarget().offset().left+
e.getTarget().width();e=e.getTarget().offset().top+e.getTarget().height();var z=h;var C={x:0,y:0};if("touchstart"===z.type||"touchmove"===z.type||"touchend"===z.type||"touchcancel"===z.type)z=z.originalEvent.touches[0]||z.originalEvent.changedTouches[0],C.x=z.pageX,C.y=z.pageY;else if("mousedown"===z.type||"mouseup"===z.type||"click"===z.type)C.x=z.pageX,C.y=z.pageY;if(C.x>=n&&C.x<=y&&C.y>=w&&C.y<=e){f=!1;break}}}f&&u()},initTargetEvents:function(){if("hover"===this.getTrigger())this.$target.off("mouseenter mouseleave").on("mouseenter",
d.proxy(this.mouseenterHandler,this)).on("mouseleave",d.proxy(this.mouseleaveHandler,this));this.$target.find(".close").off("click").on("click",d.proxy(this.hide,this,!0))},getPlacement:function(h){var f=b.documentElement,l=b.body,e=f.clientWidth,n=f.clientHeight,w=Math.max(0,h.left-Math.max(l.scrollLeft,f.scrollLeft));f=Math.max(0,h.top-Math.max(l.scrollTop,f.scrollTop));h="function"===typeof this.options.placement?this.options.placement.call(this,this.getTarget()[0],this.$element[0]):this.$element.data("placement")||
this.options.placement;l="horizontal"===h;var y="vertical"===h;"auto"===h||l||y?h=w<e/3?f<n/3?l?"right-bottom":"bottom-right":f<2*n/3?y?f<=n/2?"bottom-right":"top-right":"right":l?"right-top":"top-right":w<2*e/3?f<n/3?l?w<=e/2?"right-bottom":"left-bottom":"bottom":f<2*n/3?l?w<=e/2?"right":"left":f<=n/2?"bottom":"top":l?w<=e/2?"right-top":"left-top":"top":f<n/3?l?"left-bottom":"bottom-left":f<2*n/3?y?f<=n/2?"bottom-left":"top-left":"left":l?"left-top":"top-left":"auto-top"===h?h=w<e/3?"top-right":
w<2*e/3?"top":"top-left":"auto-bottom"===h?h=w<e/3?"bottom-right":w<2*e/3?"bottom":"bottom-left":"auto-left"===h?h=f<n/3?"left-top":f<2*n/3?"left":"left-bottom":"auto-right"===h&&(h=f<n/3?"right-top":f<2*n/3?"right":"right-bottom");return h},getElementPosition:function(){return d.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTargetPositin:function(h,f,l,e){var n=b.documentElement,w=b.body,y=n.clientWidth,z=n.clientHeight,C=this.$element.outerWidth(),
I=this.$element.outerHeight(),K={},M=null,O=this.options.arrow?20:0,P=C<O+10?O:0;O=I<O+10?O:0;var Q=0<h.left+h.width/2-P;y=h.left+h.width/2+P<y+Math.max(w.scrollLeft,n.scrollLeft);var R=0<h.top+h.height/2-O;n=h.top+h.height/2+O<z+Math.max(w.scrollTop,n.scrollTop);switch(f){case "bottom":K={top:h.top+h.height,left:h.left+h.width/2-l/2};break;case "top":K={top:h.top-e,left:h.left+h.width/2-l/2};break;case "left":K={top:h.top+h.height/2-e/2,left:h.left-l};break;case "right":K={top:h.top+h.height/2-e/
2,left:h.left+h.width};break;case "top-right":K={top:h.top-e,left:Q?h.left-P:10};M={left:Q?Math.min(C,l)/2+P:-2E3};break;case "top-left":K={top:h.top-e,left:h.left-l+h.width+(y?P:-10)};M={left:y?l-Math.min(C,l)/2-P:-2E3};break;case "bottom-right":K={top:h.top+h.height,left:Q?h.left-P:10};M={left:Q?Math.min(C,l)/2+P:-2E3};break;case "bottom-left":K={top:h.top+h.height,left:h.left-l+h.width+(y?P:-10)};M={left:y?l-Math.min(C,l)/2-P:-2E3};break;case "right-top":K={top:h.top-e+h.height+(n?O:-10),left:h.left+
h.width};M={top:n?e-Math.min(I,e)/2-O:-2E3};break;case "right-bottom":K={top:R?h.top-O:10,left:h.left+h.width};M={top:R?Math.min(I,e)/2+O:-2E3};break;case "left-top":K={top:h.top-e+h.height+(n?O:-10),left:h.left-l};M={top:n?e-Math.min(I,e)/2-O:-2E3};break;case "left-bottom":K={top:R?h.top-O:10,left:h.left-l},M={top:R?Math.min(I,e)/2+O:-2E3}}K.top+=this.getOffsetTop();K.left+=this.getOffsetLeft();return{position:K,arrowOffset:M}}};d.fn.webuiPopover=function(h,f){var l=[],e=this.each(function(){var n=
d.data(this,"plugin_webuiPopover");n?"destroy"===h?n.destroy():"string"===typeof h&&l.push(n[h]()):(h?"string"===typeof h?"destroy"===h||f||(n=new g(this,null),l.push(n[h]())):"object"===typeof h&&(n=new g(this,h)):n=new g(this,null),d.data(this,"plugin_webuiPopover",n))});return l.length?l:e}})})(window,document);
(function(){var a={}.hasOwnProperty,b=function(g,k){function q(){this.constructor=g}for(var v in k)a.call(k,v)&&(g[v]=k[v]);q.prototype=k.prototype;g.prototype=new q;g.__super__=k.prototype;return g};var c=jQuery;var d=function(g){function k(){return k.__super__.constructor.apply(this,arguments)}b(k,g);k.prototype.template=function(q){var v=k.__super__.template.apply(this,arguments);v.append(c('<div class="messenger-spinner">\n    <span class="messenger-spinner-side messenger-spinner-side-left">\n        <span class="messenger-spinner-fill"></span>\n    </span>\n    <span class="messenger-spinner-side messenger-spinner-side-right">\n        <span class="messenger-spinner-fill"></span>\n    </span>\n</div>'));
return v};return k}(window.Messenger.Message);window.Messenger.themes.future={Message:d}}).call(this);
(function(a){function b(B,E,H){var x=this;return this.on("click.pjax",B,function(A){var D=a.extend({},f(E,H));D.container||(D.container=a(this).attr("data-pjax")||x);c(A,D)})}function c(B,E,H){H=f(E,H);E=B.currentTarget;if("A"!==E.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(1<B.which||B.metaKey||B.ctrlKey||B.shiftKey||B.altKey||location.protocol!==E.protocol||location.hostname!==E.hostname||-1<E.href.indexOf("#")&&E.href.replace(/#.*/,"")==location.href.replace(/#.*/,
"")||B.isDefaultPrevented())){var x={url:E.href,container:a(E).attr("data-pjax"),target:E};H=a.extend({},x,H);x=a.Event("pjax:click");a(E).trigger(x,[H]);x.isDefaultPrevented()||(g(H),B.preventDefault(),a(E).trigger("pjax:clicked",[H]))}}function d(B,E,H){H=f(E,H);E=B.currentTarget;var x=a(E);if("FORM"!==E.tagName.toUpperCase())throw"$.pjax.submit requires a form element";x={type:(x.attr("method")||"GET").toUpperCase(),url:x.attr("action"),container:x.attr("data-pjax"),target:E};if("GET"!==x.type&&
void 0!==window.FormData)x.data=new FormData(E),x.processData=!1,x.contentType=!1;else{if(a(E).find(":file").length)return;x.data=a(E).serializeArray()}g(a.extend({},x,H));B.preventDefault()}function g(B){function E(G,J,L){L||(L={});L.relatedTarget=H;G=a.Event(G,L);A.trigger(G,J);return!G.isDefaultPrevented()}B=a.extend(!0,{},a.ajaxSettings,g.defaults,B);a.isFunction(B.url)&&(B.url=B.url());var H=B.target,x=h(B.url).hash,A=B.context=l(B.container);B.data||(B.data={});a.isArray(B.data)?B.data.push({name:"_pjax",
value:A.selector}):B.data._pjax=A.selector;var D;B.beforeSend=function(G,J){"GET"!==J.type&&(J.timeout=0);G.setRequestHeader("X-PJAX","true");G.setRequestHeader("X-PJAX-Container",A.selector);if(!E("pjax:beforeSend",[G,J]))return!1;0<J.timeout&&(D=setTimeout(function(){E("pjax:timeout",[G,B])&&G.abort("timeout")},J.timeout),J.timeout=0);J=h(J.url);x&&(J.hash=x);B.requestUrl=u(J)};B.complete=function(G,J){D&&clearTimeout(D);E("pjax:complete",[G,J,B]);E("pjax:end",[G,B])};B.error=function(G,J,L){var N=
n("",G,B);G=E("pjax:error",[G,J,L,B]);"GET"==B.type&&"abort"!==J&&G&&q(N.url)};B.success=function(G,J,L){var N=g.state,T="function"===typeof a.pjax.defaults.version?a.pjax.defaults.version():a.pjax.defaults.version,U=L.getResponseHeader("X-PJAX-Version"),S=n(G,L,B),W=h(S.url);x&&(W.hash=x,S.url=W.href);if(T&&U&&T!==U)q(S.url);else if(S.contents){g.state={id:B.id||(new Date).getTime(),url:S.url,title:S.title,container:A.selector,fragment:B.fragment,timeout:B.timeout};(B.push||B.replace)&&window.history.replaceState(g.state,
S.title,S.url);if(a.contains(B.container,document.activeElement))try{document.activeElement.blur()}catch(X){}S.title&&(document.title=S.title);E("pjax:beforeReplace",[S.contents,B],{state:g.state,previousState:N});A.html(S.contents);(N=A.find("input[autofocus], textarea[autofocus]").last()[0])&&document.activeElement!==N&&N.focus();w(S.scripts);S=B.scrollTo;x&&(N=decodeURIComponent(x.slice(1)),N=document.getElementById(N)||document.getElementsByName(N)[0])&&(S=a(N).offset().top);"number"==typeof S&&
a(window).scrollTop(S);E("pjax:success",[G,J,L,B])}else q(S.url)};g.state||(g.state={id:(new Date).getTime(),url:window.location.href,title:document.title,container:A.selector,fragment:B.fragment,timeout:B.timeout},window.history.replaceState(g.state,document.title));t(g.xhr);g.options=B;var F=g.xhr=a.ajax(B);0<F.readyState&&(B.push&&!B.replace&&(y(g.state.id,m(A)),window.history.pushState(null,"",B.requestUrl)),E("pjax:start",[F,B]),E("pjax:send",[F,B]));return g.xhr}function k(B,E){return g(a.extend({url:window.location.href,
push:!1,replace:!0,scrollTo:!1},f(B,E)))}function q(B){window.history.replaceState(null,"",g.state.url);window.location.replace(B)}function v(B){M||t(g.xhr);var E=g.state,H=B.state;if(H&&H.container){if(M&&O==H.url)return;if(E){if(E.id===H.id)return;var x=E.id<H.id?"forward":"back"}var A=Q[H.id]||[];B=a(A[0]||H.container);A=A[1];if(B.length){if(E){var D=x,F=E.id,G=m(B);Q[F]=G;"forward"===D?(D=V,G=R):(D=R,G=V);D.push(F);(F=G.pop())&&delete Q[F];z(D,g.defaults.maxCacheLength)}x=a.Event("pjax:popstate",
{state:H,direction:x});B.trigger(x);x={id:H.id,url:H.url,container:B,push:!1,fragment:H.fragment,timeout:H.timeout,scrollTo:!1};A?(B.trigger("pjax:start",[null,x]),g.state=H,H.title&&(document.title=H.title),E=a.Event("pjax:beforeReplace",{state:H,previousState:E}),B.trigger(E,[A,x]),B.html(A),B.trigger("pjax:end",[null,x])):g(x);B[0].offsetHeight}else q(location.href)}M=!1}function r(B){var E=a.isFunction(B.url)?B.url():B.url,H=B.type?B.type.toUpperCase():"GET",x=a("<form>",{method:"GET"===H?"GET":
"POST",action:E,style:"display:none"});"GET"!==H&&"POST"!==H&&x.append(a("<input>",{type:"hidden",name:"_method",value:H.toLowerCase()}));B=B.data;if("string"===typeof B)a.each(B.split("&"),function(D,F){D=F.split("=");x.append(a("<input>",{type:"hidden",name:D[0],value:D[1]}))});else if(a.isArray(B))a.each(B,function(D,F){x.append(a("<input>",{type:"hidden",name:F.name,value:F.value}))});else if("object"===typeof B)for(var A in B)x.append(a("<input>",{type:"hidden",name:A,value:B[A]}));a(document.body).append(x);
x.submit()}function t(B){B&&4>B.readyState&&(B.onreadystatechange=a.noop,B.abort())}function m(B){if(/iphone|ipad|ipod/gi.test(navigator.appVersion))return[];var E=B.clone();E.find("script").each(function(){this.src||jQuery._data(this,"globalEval",!1)});return[B.selector,E.contents()]}function u(B){B.search=B.search.replace(/([?&])(_pjax|_)=[^&]*/g,"");return B.href.replace(/\?($|#)/,"$1")}function h(B){var E=document.createElement("a");E.href=B;return E}function f(B,E){B&&E?E.container=B:E=a.isPlainObject(B)?
B:{container:B};E.container&&(E.container=l(E.container));return E}function l(B){B=a(B);if(B.length){if(""!==B.selector&&B.context===document)return B;if(B.attr("id"))return a("#"+B.attr("id"));throw"cant get selector for pjax container!";}throw"no pjax container for "+B.selector;}function e(B,E){return B.filter(E).add(B.find(E))}function n(B,E,H){var x={},A=/<html/i.test(B);E=E.getResponseHeader("X-PJAX-URL");x.url=E?u(h(E)):H.requestUrl;A?(E=a(a.parseHTML(B.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0],
document,!0)),B=a(a.parseHTML(B.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0],document,!0))):E=B=a(a.parseHTML(B,document,!0));if(0===B.length)return x;x.title=e(E,"title").last().text();H.fragment?(A="body"===H.fragment?B:e(B,H.fragment).first(),A.length&&(x.contents="body"===H.fragment?A:A.contents(),x.title||(x.title=A.attr("title")||A.data("title")))):A||(x.contents=B);x.contents&&(x.contents=x.contents.not(function(){return a(this).is("title")}),x.contents.find("title").remove(),x.scripts=e(x.contents,
"script[src]").remove(),x.contents=x.contents.not(x.scripts));x.title&&(x.title=a.trim(x.title));return x}function w(B){if(B){var E=a("script[src]");B.each(function(){var H=this.src;if(!E.filter(function(){return this.src===H}).length){var x=document.createElement("script"),A=a(this).attr("type");A&&(x.type=A);x.src=a(this).attr("src");document.head.appendChild(x)}})}}function y(B,E){Q[B]=E;V.push(B);z(R,0);z(V,g.defaults.maxCacheLength)}function z(B,E){for(;B.length>E;)delete Q[B.shift()]}function C(){return a("meta").filter(function(){var B=
a(this).attr("http-equiv");return B&&"X-PJAX-VERSION"===B.toUpperCase()}).attr("content")}function I(){a.fn.pjax=b;a.pjax=g;a.pjax.enable=a.noop;a.pjax.disable=K;a.pjax.click=c;a.pjax.submit=d;a.pjax.reload=k;a.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:C};a(window).on("popstate.pjax",v)}function K(){a.fn.pjax=function(){return this};a.pjax=r;a.pjax.enable=I;a.pjax.disable=a.noop;a.pjax.click=a.noop;a.pjax.submit=a.noop;a.pjax.reload=
function(){window.location.reload()};a(window).off("popstate.pjax",v)}var M=!0,O=window.location.href,P=window.history.state;P&&P.container&&(g.state=P);"state"in window.history&&(M=!1);var Q={},R=[],V=[];0>a.inArray("state",a.event.props)&&a.event.props.push("state");a.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/);a.support.pjax?I():K()})(jQuery);
(function(a){a.extend(a.fn,{validate:function(b){if(this.length){var c=a.data(this[0],"validator");if(c)return c;this.attr("novalidate","novalidate");c=new a.validator(b,this[0]);a.data(this[0],"validator",c);c.settings.onsubmit&&(this.validateDelegate(":submit","click",function(d){c.settings.submitHandler&&(c.submitButton=d.target);a(d.target).hasClass("cancel")&&(c.cancelSubmit=!0);void 0!==a(d.target).attr("formnovalidate")&&(c.cancelSubmit=!0)}),this.submit(function(d){function g(){var k;return c.settings.submitHandler?
(c.submitButton&&(k=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(a(c.submitButton).val()).appendTo(c.currentForm)),c.settings.submitHandler.call(c,c.currentForm,d),c.submitButton&&k.remove(),!1):!0}c.settings.debug&&d.preventDefault();if(c.cancelSubmit)return c.cancelSubmit=!1,g();if(c.form())return c.pendingRequest?(c.formSubmitted=!0,!1):g();c.focusInvalid();return!1}));return c}b&&b.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},
valid:function(){if(a(this[0]).is("form"))return this.validate().form();var b=!0,c=a(this[0].form).validate();this.each(function(){b=b&&c.element(this)});return b},removeAttrs:function(b){var c={},d=this;a.each(b.split(/\s/),function(g,k){c[k]=d.attr(k);d.removeAttr(k)});return c},rules:function(b,c){var d=this[0];if(b){var g=a.data(d.form,"validator").settings,k=g.rules,q=a.validator.staticRules(d);switch(b){case "add":a.extend(q,a.validator.normalizeRule(c));delete q.messages;k[d.name]=q;c.messages&&
(g.messages[d.name]=a.extend(g.messages[d.name],c.messages));break;case "remove":if(!c)return delete k[d.name],q;var v={};a.each(c.split(/\s/),function(r,t){v[t]=q[t];delete q[t]});return v}}b=a.validator.normalizeRules(a.extend({},a.validator.classRules(d),a.validator.attributeRules(d),a.validator.dataRules(d),a.validator.staticRules(d)),d);b.required&&(c=b.required,delete b.required,b=a.extend({required:c},b));return b}});a.extend(a.expr[":"],{blank:function(b){return!a.trim(""+a(b).val())},filled:function(b){return!!a.trim(""+
a(b).val())},unchecked:function(b){return!a(b).prop("checked")}});a.validator=function(b,c){this.settings=a.extend(!0,{},a.validator.defaults,b);this.currentForm=c;this.init()};a.validator.format=function(b,c){if(1===arguments.length)return function(){var d=a.makeArray(arguments);d.unshift(b);return a.validator.format.apply(this,d)};2<arguments.length&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1));c.constructor!==Array&&(c=[c]);a.each(c,function(d,g){b=b.replace(new RegExp("\\{"+d+"\\}",
"g"),function(){return g})});return b};a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(b,c){this.lastActive=b;this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,b,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(b)).hide())},
onfocusout:function(b,c){this.checkable(b)||!(b.name in this.submitted)&&this.optional(b)||this.element(b)},onkeyup:function(b,c){(9!==c.which||""!==this.elementValue(b))&&(b.name in this.submitted||b===this.lastElement)&&this.element(b)},onclick:function(b,c){b.name in this.submitted?this.element(b):b.parentNode.name in this.submitted&&this.element(b.parentNode)},highlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d)},unhighlight:function(b,
c,d){"radio"===b.type?this.findByName(b.name).removeClass(c).addClass(d):a(b).removeClass(c).addClass(d)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",
equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},
autoCreateRanges:!1,prototype:{init:function(){function b(g){var k=a.data(this[0].form,"validator"),q="on"+g.type.replace(/^validate/,"");k.settings[q]&&k.settings[q].call(k,this[0],g)}this.labelContainer=a(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm);this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid=
{};this.reset();var c=this.groups={};a.each(this.settings.groups,function(g,k){"string"===typeof k&&(k=k.split(/\s/));a.each(k,function(q,v){c[v]=g})});var d=this.settings.rules;a.each(d,function(g,k){d[g]=a.validator.normalizeRule(k)});a(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ",
"focusin focusout keyup",b).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",b);this.settings.invalidHandler&&a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){this.checkForm();a.extend(this.submitted,this.errorMap);this.invalid=a.extend({},this.errorMap);this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]);this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var b=0,c=this.currentElements=
this.elements();c[b];b++)this.check(c[b]);return this.valid()},element:function(b){this.lastElement=b=this.validationTargetFor(this.clean(b));this.prepareElement(b);this.currentElements=a(b);var c=!1!==this.check(b);c?delete this.invalid[b.name]:this.invalid[b.name]=!0;this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers));this.showErrors();return c},showErrors:function(b){if(b){a.extend(this.errorMap,b);this.errorList=[];for(var c in b)this.errorList.push({message:b[c],element:this.findByName(c)[0]});
this.successList=a.grep(this.successList,function(d){return!(d.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm();this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(b){var c=
0,d;for(d in b)c++;return c},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}},findLastActive:function(){var b=this.lastActive;return b&&1===a.grep(this.errorList,function(c){return c.element.name===b.name}).length&&
b},elements:function(){var b=this,c={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&b.settings.debug&&window.console&&console.error("%o has no name assigned",this);return this.name in c||!b.objectLength(a(this).rules())?!1:c[this.name]=!0})},clean:function(b){return a(b)[0]},errors:function(){var b=this.settings.errorClass.replace(" ",".");return a(this.settings.errorElement+"."+b,this.errorContext)},
reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=a([]);this.toHide=a([]);this.currentElements=a([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(b){this.reset();this.toHide=this.errorsFor(b)},elementValue:function(b){var c=a(b).attr("type"),d=a(b).val();return"radio"===c||"checkbox"===c?a("input[name='"+a(b).attr("name")+"']:checked").val():"string"===typeof d?d.replace(/\r/g,""):d},check:function(b){b=
this.validationTargetFor(this.clean(b));var c=a(b).rules(),d=!1,g=this.elementValue(b),k;for(k in c){var q={method:k,parameters:c[k]};try{var v=a.validator.methods[k].call(this,g,b,q.parameters);if("dependency-mismatch"===v)d=!0;else{d=!1;if("pending"===v){this.toHide=this.toHide.not(this.errorsFor(b));return}if(!v)return this.formatAndAdd(b,q),!1}}catch(r){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+b.id+", check the '"+q.method+"' method.",
r),r;}}if(!d)return this.objectLength(c)&&this.successList.push(b),!0},customDataMessage:function(b,c){return a(b).data("msg-"+c.toLowerCase())||b.attributes&&a(b).attr("data-msg-"+c.toLowerCase())},customMessage:function(b,c){return(b=this.settings.messages[b])&&(b.constructor===String?b:b[c])},findDefined:function(){for(var b=0;b<arguments.length;b++)if(void 0!==arguments[b])return arguments[b]},defaultMessage:function(b,c){return this.findDefined(this.customMessage(b.name,c),this.customDataMessage(b,
c),!this.settings.ignoreTitle&&b.title||void 0,a.validator.messages[c],"<strong>Warning: No message defined for "+b.name+"</strong>")},formatAndAdd:function(b,c){var d=this.defaultMessage(b,c.method),g=/\$?\{(\d+)\}/g;"function"===typeof d?d=d.call(this,c.parameters,b):g.test(d)&&(d=a.validator.format(d.replace(g,"{$1}"),c.parameters));this.errorList.push({message:d,element:b});this.errorMap[b.name]=d;this.submitted[b.name]=d},addWrapper:function(b){this.settings.wrapper&&(b=b.add(b.parent(this.settings.wrapper)));
return b},defaultShowErrors:function(){var b;for(b=0;this.errorList[b];b++){var c=this.errorList[b];this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass);this.showLabel(c.element,c.message)}this.errorList.length&&(this.toShow=this.toShow.add(this.containers));if(this.settings.success)for(b=0;this.successList[b];b++)this.showLabel(this.successList[b]);if(this.settings.unhighlight)for(b=0,c=this.validElements();c[b];b++)this.settings.unhighlight.call(this,
c[b],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,c){var d=this.errorsFor(b);d.length?(d.removeClass(this.settings.validClass).addClass(this.settings.errorClass),d.html(c)):(d=a("<"+this.settings.errorElement+
">").attr("for",this.idOrName(b)).addClass(this.settings.errorClass).html(c||""),this.settings.wrapper&&(d=d.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(d).length||(this.settings.errorPlacement?this.settings.errorPlacement(d,a(b)):d.insertAfter(b)));!c&&this.settings.success&&(d.text(""),"string"===typeof this.settings.success?d.addClass(this.settings.success):this.settings.success(d,b));this.toShow=this.toShow.add(d)},errorsFor:function(b){var c=this.idOrName(b);
return this.errors().filter(function(){return a(this).attr("for")===c})},idOrName:function(b){return this.groups[b.name]||(this.checkable(b)?b.name:b.id||b.name)},validationTargetFor:function(b){this.checkable(b)&&(b=this.findByName(b.name).not(this.settings.ignore)[0]);return b},checkable:function(b){return/radio|checkbox/i.test(b.type)},findByName:function(b){return a(this.currentForm).find("[name='"+b+"']")},getLength:function(b,c){switch(c.nodeName.toLowerCase()){case "select":return a("option:selected",
c).length;case "input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return b.length},depend:function(b,c){return this.dependTypes[typeof b]?this.dependTypes[typeof b](b,c):!0},dependTypes:{"boolean":function(b,c){return b},string:function(b,c){return!!a(b,c.form).length},"function":function(b,c){return b(c)}},optional:function(b){var c=this.elementValue(b);return!a.validator.methods.required.call(this,c,b)&&"dependency-mismatch"},startRequest:function(b){this.pending[b.name]||
(this.pendingRequest++,this.pending[b.name]=!0)},stopRequest:function(b,c){this.pendingRequest--;0>this.pendingRequest&&(this.pendingRequest=0);delete this.pending[b.name];c&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(b){return a.data(b,"previousValue")||a.data(b,"previousValue",
{old:null,valid:!0,message:this.defaultMessage(b,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,c){b.constructor===String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(b){var c={};(b=a(b).attr("class"))&&a.each(b.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])});
return c},attributeRules:function(b){var c={};b=a(b);var d=b[0].getAttribute("type"),g;for(g in a.validator.methods){if("required"===g){var k=b.get(0).getAttribute(g);""===k&&(k=!0);k=!!k}else k=b.attr(g);/min|max/.test(g)&&(null===d||/number|range|text/.test(d))&&(k=Number(k));k?c[g]=k:d===g&&"range"!==d&&(c[g]=!0)}c.maxlength&&/-1|2147483647|524288/.test(c.maxlength)&&delete c.maxlength;return c},dataRules:function(b){var c,d={},g=a(b);for(c in a.validator.methods)b=g.data("rule-"+c.toLowerCase()),
void 0!==b&&(d[c]=b);return d},staticRules:function(b){var c={},d=a.data(b.form,"validator");d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[b.name])||{});return c},normalizeRules:function(b,c){a.each(b,function(d,g){if(!1===g)delete b[d];else if(g.param||g.depends){var k=!0;switch(typeof g.depends){case "string":k=!!a(g.depends,c.form).length;break;case "function":k=g.depends.call(c,c)}k?b[d]=void 0!==g.param?g.param:!0:delete b[d]}});a.each(b,function(d,g){b[d]=a.isFunction(g)?g(c):
g});a.each(["minlength","maxlength"],function(){b[this]&&(b[this]=Number(b[this]))});a.each(["rangelength","range"],function(){if(b[this])if(a.isArray(b[this]))b[this]=[Number(b[this][0]),Number(b[this][1])];else if("string"===typeof b[this]){var d=b[this].split(/[\s,]+/);b[this]=[Number(d[0]),Number(d[1])]}});a.validator.autoCreateRanges&&(b.min&&b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),b.minlength&&b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength));
return b},normalizeRule:function(b){if("string"===typeof b){var c={};a.each(b.split(/\s/),function(){c[this]=!0});b=c}return b},addMethod:function(b,c,d){a.validator.methods[b]=c;a.validator.messages[b]=void 0!==d?d:a.validator.messages[b];3>c.length&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(b,c,d){return this.depend(d,c)?"select"===c.nodeName.toLowerCase()?(b=a(c).val())&&0<b.length:this.checkable(c)?0<this.getLength(b,c):0<a.trim(b).length:"dependency-mismatch"},
email:function(b,c){return this.optional(c)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(b)},
url:function(b,c){return this.optional(c)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(b)},
date:function(b,c){return this.optional(c)||!/Invalid|NaN/.test((new Date(b)).toString())},dateISO:function(b,c){return this.optional(c)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(b)},number:function(b,c){return this.optional(c)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(b)},digits:function(b,c){return this.optional(c)||/^\d+$/.test(b)},creditcard:function(b,c){if(this.optional(c))return"dependency-mismatch";if(/[^0-9 \-]+/.test(b))return!1;c=0;var d=!1;b=b.replace(/\D/g,"");for(var g=b.length-
1;0<=g;g--){var k=b.charAt(g);k=parseInt(k,10);d&&9<(k*=2)&&(k-=9);c+=k;d=!d}return 0===c%10},minlength:function(b,c,d){b=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||b>=d},maxlength:function(b,c,d){b=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||b<=d},rangelength:function(b,c,d){b=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||b>=d[0]&&b<=d[1]},min:function(b,c,d){return this.optional(c)||b>=d},max:function(b,
c,d){return this.optional(c)||b<=d},range:function(b,c,d){return this.optional(c)||b>=d[0]&&b<=d[1]},equalTo:function(b,c,d){d=a(d);this.settings.onfocusout&&d.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(c).valid()});return b===d.val()},remote:function(b,c,d){if(this.optional(c))return"dependency-mismatch";var g=this.previousValue(c);this.settings.messages[c.name]||(this.settings.messages[c.name]={});g.originalMessage=this.settings.messages[c.name].remote;this.settings.messages[c.name].remote=
g.message;d="string"===typeof d&&{url:d}||d;if(g.old===b)return g.valid;g.old=b;var k=this;this.startRequest(c);var q={};q[c.name]=b;a.ajax(a.extend(!0,{url:d,mode:"abort",port:"validate"+c.name,dataType:"json",data:q,success:function(v){k.settings.messages[c.name].remote=g.originalMessage;var r=!0===v||"true"===v;if(r){var t=k.formSubmitted;k.prepareElement(c);k.formSubmitted=t;k.successList.push(c);delete k.invalid[c.name];k.showErrors()}else t={},v=v||k.defaultMessage(c,"remote"),t[c.name]=g.message=
a.isFunction(v)?v(b):v,k.invalid[c.name]=!0,k.showErrors(t);g.valid=r;k.stopRequest(c,r)}},d));return"pending"}}});a.format=a.validator.format})(jQuery);(function(a){var b={};if(a.ajaxPrefilter)a.ajaxPrefilter(function(d,g,k){g=d.port;"abort"===d.mode&&(b[g]&&b[g].abort(),b[g]=k)});else{var c=a.ajax;a.ajax=function(d){var g=("port"in d?d:a.ajaxSettings).port;return"abort"===("mode"in d?d:a.ajaxSettings).mode?(b[g]&&b[g].abort(),b[g]=c.apply(this,arguments),b[g]):c.apply(this,arguments)}}})(jQuery);
(function(a){a.extend(a.fn,{validateDelegate:function(b,c,d){return this.bind(c,function(g){var k=a(g.target);if(k.is(b))return d.apply(k,arguments)})}})})(jQuery);
jQuery.validator&&jQuery.extend(jQuery.validator.methods,{remote:function(a,b,c){if(this.optional(b))return"dependency-mismatch";var d=this.previousValue(b);this.settings.messages[b.name]||(this.settings.messages[b.name]={});d.originalMessage=this.settings.messages[b.name].remote;this.settings.messages[b.name].remote=d.message;c="string"===typeof c&&{url:c}||c;if(d.old===a)return d.valid;d.old=a;var g=this;this.startRequest(b);var k={};k[b.name]=a;$.ajax($.extend(!0,{mode:"abort",port:"validate"+
b.name,dataType:"json",data:k,context:g.currentForm,success:function(q){var v=!0===q||"true"===q||"success"===q.status;g.settings.messages[b.name].remote=d.originalMessage;if(v){var r=g.formSubmitted;g.prepareElement(b);g.formSubmitted=r;g.successList.push(b);delete g.invalid[b.name];g.showErrors()}else r={},q="object"==typeof q?q.message||g.defaultMessage(b,"remote"):q||g.defaultMessage(b,"remote"),r[b.name]=d.message=$.isFunction(q)?q(a):q,g.invalid[b.name]=!0,g.showErrors(r);d.valid=v;g.stopRequest(b,
v)}},c));return"pending"}});
jQuery.validator&&jQuery.extend(jQuery.validator.messages,{required:"\u8bf7\u8f93\u5165\u5185\u5bb9",remote:"\u8bf7\u4fee\u6b63\u8be5\u5b57\u6bb5",email:"\u8bf7\u8f93\u5165\u6b63\u786e\u683c\u5f0f\u7684\u7535\u5b50\u90ae\u4ef6",url:"\u8bf7\u8f93\u5165\u5408\u6cd5\u7684\u7f51\u5740",date:"\u8bf7\u8f93\u5165\u5408\u6cd5\u7684\u65e5\u671f",dateISO:"\u8bf7\u8f93\u5165\u5408\u6cd5\u7684\u65e5\u671f (ISO).",number:"\u8bf7\u8f93\u5165\u5408\u6cd5\u7684\u6570\u5b57",digits:"\u53ea\u80fd\u8f93\u5165\u6574\u6570",creditcard:"\u8bf7\u8f93\u5165\u5408\u6cd5\u7684\u4fe1\u7528\u5361\u53f7",
equalTo:"\u8bf7\u518d\u6b21\u8f93\u5165\u76f8\u540c\u7684\u503c",accept:"\u8bf7\u8f93\u5165\u62e5\u6709\u5408\u6cd5\u540e\u7f00\u540d\u7684\u5b57\u7b26\u4e32",maxlength:jQuery.validator.format("\u8bf7\u8f93\u5165\u4e00\u4e2a \u957f\u5ea6\u6700\u591a\u662f {0} \u7684\u5b57\u7b26\u4e32"),minlength:jQuery.validator.format("\u8bf7\u8f93\u5165\u4e00\u4e2a \u957f\u5ea6\u6700\u5c11\u662f {0} \u7684\u5b57\u7b26\u4e32"),rangelength:jQuery.validator.format("\u8bf7\u8f93\u5165 \u4e00\u4e2a\u957f\u5ea6\u4ecb\u4e8e {0} \u548c {1} \u4e4b\u95f4\u7684\u5b57\u7b26\u4e32"),
range:jQuery.validator.format("\u8bf7\u8f93\u5165\u4e00\u4e2a\u4ecb\u4e8e {0} \u548c {1} \u4e4b\u95f4\u7684\u503c"),max:jQuery.validator.format("\u8bf7\u8f93\u5165\u4e00\u4e2a\u6700\u5927\u4e3a{0} \u7684\u503c"),min:jQuery.validator.format("\u8bf7\u8f93\u5165\u4e00\u4e2a\u6700\u5c0f\u4e3a{0} \u7684\u503c")});jQuery.validator&&jQuery.validator.addMethod("isZipCode",function(a,b){var c=/^[0-9]{6}$/;return this.optional(b)||c.test(a)},"\u8bf7\u6b63\u786e\u586b\u5199\u60a8\u7684\u90ae\u653f\u7f16\u7801");
jQuery.validator&&jQuery.validator.addMethod("isMobile",function(a,b){var c=a.length,d=/^(13[0-9]{9})|(18[0-9]{9})|(14[0-9]{9})|(17[0-9]{9})|(15[0-9]{9})$/;return this.optional(b)||11==c&&d.test(a)},"\u8bf7\u6b63\u786e\u586b\u5199\u60a8\u7684\u624b\u673a\u53f7\u7801");jQuery.validator&&jQuery.validator.addMethod("notEmoji",function(a,b){return this.optional(b)||!gei.util.isEmojiCharacter(a)},"\u4e0d\u652f\u6301\u8868\u60c5\u7b26\u53f7\u54e6~");
(function(a){var b=[],c=[];a.fn.doAutosize=function(g){var k=a(this).data("minwidth"),q=a(this).data("maxwidth"),v="",r=a(this),t=a("#"+a(this).data("tester_id"));v!==(v=r.val())&&(v=v.replace(/&/g,"&amp;").replace(/\s/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;"),t.html(v),t=t.width(),g=t+g.comfortZone>=k?t+g.comfortZone:k,t=r.width(),(g<t&&g>=k||g>k&&g<q)&&r.width(g))};a.fn.resetAutosize=function(g){var k=a(this).data("minwidth")||g.minInputWidth||a(this).width();g=a(this).data("maxwidth")||
g.maxInputWidth||a(this).closest(".tagsinput").width()-g.inputPadding;var q=a(this),v=a("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:q.css("fontSize"),fontFamily:q.css("fontFamily"),fontWeight:q.css("fontWeight"),letterSpacing:q.css("letterSpacing"),whiteSpace:"nowrap"}),r=a(this).attr("id")+"_autosize_tester";0< !a("#"+r).length&&(v.attr("id",r),v.appendTo("body"));q.data("minwidth",k);q.data("maxwidth",g);q.data("tester_id",r);q.css("width",k)};a.fn.addTag=function(g,
k){k=jQuery.extend({focus:!1,callback:!0},k);this.each(function(){var q=a(this).attr("id"),v=a(this).val().split(b[q]);""==v[0]&&(v=[]);g=jQuery.trim(g);if(k.unique){var r=a(this).tagExist(g);1==r&&a("#"+q+"_tag").addClass("not_valid")}else r=!1;if(""!=g&&1!=r&&(a("<span>").addClass("tag").append(a("<span>").text(g).append("&nbsp;&nbsp;"),a("<a>",{href:"#",title:"Removing tag",text:"x"}).click(function(){return a("#"+q).removeTag(escape(g))})).insertBefore("#"+q+"_addTag"),v.push(g),a("#"+q+"_tag").val(""),
k.focus?a("#"+q+"_tag").focus():a("#"+q+"_tag").blur(),a.fn.tagsInput.updateTagsField(this,v),k.callback&&c[q]&&c[q].onAddTag&&(r=c[q].onAddTag,r.call(this,g)),c[q]&&c[q].onChange)){var t=v.length;r=c[q].onChange;r.call(this,a(this),v[t-1])}});return!1};a.fn.removeTag=function(g){g=unescape(g);this.each(function(){var k=a(this).attr("id"),q=a(this).val().split(b[k]);a("#"+k+"_tagsinput .tag").remove();str="";for(i=0;i<q.length;i++)q[i]!=g&&(str=str+b[k]+q[i]);a.fn.tagsInput.importTags(this,str);c[k]&&
c[k].onRemoveTag&&c[k].onRemoveTag.call(this,g)});return!1};a.fn.tagExist=function(g){var k=a(this).attr("id");k=a(this).val().split(b[k]);return 0<=jQuery.inArray(g,k)};a.fn.importTags=function(g){var k=a(this).attr("id");a("#"+k+"_tagsinput .tag").remove();a.fn.tagsInput.importTags(this,g)};a.fn.tagsInput=function(g){var k=jQuery.extend({interactive:!0,defaultText:"add a tag",minChars:0,width:"300px",height:"100px",autocomplete:{selectFirst:!1},hide:!0,delimiter:",",unique:!0,removeWithBackspace:!0,
placeholderColor:"#666666",autosize:!0,comfortZone:20,inputPadding:12},g),q=0;this.each(function(){if("undefined"===typeof a(this).attr("data-tagsinput-init")){a(this).attr("data-tagsinput-init",!0);k.hide&&a(this).hide();var v=a(this).attr("id");if(!v||b[a(this).attr("id")])v=a(this).attr("id","tags"+(new Date).getTime()+q++).attr("id");var r=jQuery.extend({pid:v,real_input:"#"+v,holder:"#"+v+"_tagsinput",input_wrapper:"#"+v+"_addTag",fake_input:"#"+v+"_tag"},k);b[v]=r.delimiter;if(k.onAddTag||k.onRemoveTag||
k.onChange)c[v]=[],c[v].onAddTag=k.onAddTag,c[v].onRemoveTag=k.onRemoveTag,c[v].onChange=k.onChange;var t='<div id="'+v+'_tagsinput" class="tagsinput"><div id="'+v+'_addTag">';k.interactive&&(t=t+'<input id="'+v+'_tag" value="" data-default="'+k.defaultText+'" />');a(t+'</div><div class="tags_clear"></div></div>').insertAfter(this);a(r.holder).css("width",k.width);a(r.holder).css("min-height",k.height);a(r.holder).css("height",k.height);""!=a(r.real_input).val()&&a.fn.tagsInput.importTags(a(r.real_input),
a(r.real_input).val());if(k.interactive){a(r.fake_input).val(a(r.fake_input).attr("data-default"));a(r.fake_input).css("color",k.placeholderColor);a(r.fake_input).resetAutosize(k);a(r.holder).bind("click",r,function(m){a(m.data.fake_input).focus()});a(r.fake_input).bind("focus",r,function(m){a(m.data.fake_input).val()==a(m.data.fake_input).attr("data-default")&&a(m.data.fake_input).val("");a(m.data.fake_input).css("color","#000000")});if(void 0!=k.autocomplete_url){autocomplete_options={source:k.autocomplete_url};
for(attrname in k.autocomplete)autocomplete_options[attrname]=k.autocomplete[attrname];void 0!==jQuery.Autocompleter?(a(r.fake_input).autocomplete(k.autocomplete_url,k.autocomplete),a(r.fake_input).bind("result",r,function(m,u,h){u&&a("#"+v).addTag(u[0]+"",{focus:!0,unique:k.unique})})):void 0!==jQuery.ui.autocomplete&&(a(r.fake_input).autocomplete(autocomplete_options),a(r.fake_input).bind("autocompleteselect",r,function(m,u){a(m.data.real_input).addTag(u.item.value,{focus:!0,unique:k.unique});return!1}))}else a(r.fake_input).bind("blur",
r,function(m){var u=a(this).attr("data-default");""!=a(m.data.fake_input).val()&&a(m.data.fake_input).val()!=u?m.data.minChars<=a(m.data.fake_input).val().length&&(!m.data.maxChars||m.data.maxChars>=a(m.data.fake_input).val().length)&&a(m.data.real_input).addTag(a(m.data.fake_input).val(),{focus:!0,unique:k.unique}):(a(m.data.fake_input).val(a(m.data.fake_input).attr("data-default")),a(m.data.fake_input).css("color",k.placeholderColor));return!1});a(r.fake_input).bind("keypress",r,function(m){if(d(m))return m.preventDefault(),
m.data.minChars<=a(m.data.fake_input).val().length&&(!m.data.maxChars||m.data.maxChars>=a(m.data.fake_input).val().length)&&a(m.data.real_input).addTag(a(m.data.fake_input).val(),{focus:!0,unique:k.unique}),a(m.data.fake_input).resetAutosize(k),!1;m.data.autosize&&a(m.data.fake_input).doAutosize(k)});r.removeWithBackspace&&a(r.fake_input).bind("keydown",function(m){if(8==m.keyCode&&""==a(this).val()){m.preventDefault();m=a(this).closest(".tagsinput").find(".tag:last").text();var u=a(this).attr("id").replace(/_tag$/,
"");m=m.replace(/[\s]+x$/,"");a("#"+u).removeTag(escape(m));a(this).trigger("focus")}});a(r.fake_input).blur();r.unique&&a(r.fake_input).keydown(function(m){(8==m.keyCode||String.fromCharCode(m.which).match(/\w+|[\u00e1\u00e9\u00ed\u00f3\u00fa\u00c1\u00c9\u00cd\u00d3\u00da\u00f1\u00d1,/]+/))&&a(this).removeClass("not_valid")})}}});return this};a.fn.tagsInput.updateTagsField=function(g,k){var q=a(g).attr("id");a(g).val(k.join(b[q]))};a.fn.tagsInput.importTags=function(g,k){a(g).val("");var q=a(g).attr("id");
k=k.split(b[q]);for(i=0;i<k.length;i++)a(g).addTag(k[i],{focus:!1,callback:!1});c[q]&&c[q].onChange&&c[q].onChange.call(g,g,k[i])};var d=function(g){var k=!1;if(13==g.which)return!0;"string"===typeof g.data.delimiter?g.which==g.data.delimiter.charCodeAt(0)&&(k=!0):a.each(g.data.delimiter,function(q,v){g.which==v.charCodeAt(0)&&(k=!0)});return k}})(jQuery);
(function(a,b){var c=a(b);a.fn.lazyload=function(d){function g(){var v=0;k.each(function(){var r=a(this);if(!(q.skip_invisible&&!r.is(":visible")||a.abovethetop(this,q)||a.leftofbegin(this,q)))if(!a.belowthefold(this,q)&&!a.rightoffold(this,q))r.trigger("appear"),v=0;else if(++v>q.failure_limit)return!1})}var k=this,q={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:b,data_attribute:"original",skip_invisible:!0,appear:null,load:null};d&&(void 0!==d.failurelimit&&(d.failure_limit=
d.failurelimit,delete d.failurelimit),void 0!==d.effectspeed&&(d.effect_speed=d.effectspeed,delete d.effectspeed),a.extend(q,d));d=void 0===q.container||q.container===b?c:a(q.container);0===q.event.indexOf("scroll")&&d.bind(q.event,function(v){return g()});this.each(function(){var v=this,r=a(v);v.loaded=!1;r.one("appear",function(){this.loaded||(q.appear&&q.appear.call(v,k.length,q),a("<img />").bind("load",function(){r.hide().attr("src",_convertData(r.data(q.data_attribute),r.data("is-original-base64")))[q.effect](q.effect_speed);
v.loaded=!0;var t=a.grep(k,function(m){return!m.loaded});k=a(t);q.load&&q.load.call(v,k.length,q)}).bind("error",function(){_imageErrorTry(r)}).attr("src",_convertData(r.data(q.data_attribute),r.data("is-original-base64"))))});0!==q.event.indexOf("scroll")&&r.bind(q.event,function(t){v.loaded||r.trigger("appear")})});c.bind("resize",function(v){g()});a(document).ready(function(){g()});return this};a.belowthefold=function(d,g){return(void 0===g.container||g.container===b?c.height()+c.scrollTop():a(g.container).offset().top+
a(g.container).height())<=a(d).offset().top-g.threshold};a.rightoffold=function(d,g){return(void 0===g.container||g.container===b?c.width()+c.scrollLeft():a(g.container).offset().left+a(g.container).width())<=a(d).offset().left-g.threshold};a.abovethetop=function(d,g){return(void 0===g.container||g.container===b?c.scrollTop():a(g.container).offset().top)>=a(d).offset().top+g.threshold+a(d).height()};a.leftofbegin=function(d,g){return(void 0===g.container||g.container===b?c.scrollLeft():a(g.container).offset().left)>=
a(d).offset().left+g.threshold+a(d).width()};a.inviewport=function(d,g){return!a.rightoffold(d,g)&&!a.leftofbegin(d,g)&&!a.belowthefold(d,g)&&!a.abovethetop(d,g)};a.extend(a.expr[":"],{"below-the-fold":function(d){return a.belowthefold(d,{threshold:0})},"above-the-top":function(d){return!a.belowthefold(d,{threshold:0})},"right-of-screen":function(d){return a.rightoffold(d,{threshold:0})},"left-of-screen":function(d){return!a.rightoffold(d,{threshold:0})},"in-viewport":function(d){return a.inviewport(d,
{threshold:0})},"above-the-fold":function(d){return!a.belowthefold(d,{threshold:0})},"right-of-fold":function(d){return a.rightoffold(d,{threshold:0})},"left-of-fold":function(d){return!a.rightoffold(d,{threshold:0})}})})(jQuery,window);
(function(a){function b(t,m,u,h,f,l){t=String(t);for(var e=0,n=0,w=t.length,y="",z=0;n<w;){var C=t.charCodeAt(n);C=256>C?u[C]:-1;e=(e<<f)+C;for(z+=f;z>=l;)z-=l,C=e>>z,y+=h.charAt(C),e^=C<<z;++n}!m&&0<z&&(y+=h.charAt(e<<l-z));return y}for(var c="",d=[256],g=[256],k=0,q={encode:function(t){return t.replace(/[\u0080-\u07ff]/g,function(m){m=m.charCodeAt(0);return String.fromCharCode(192|m>>6,128|m&63)}).replace(/[\u0800-\uffff]/g,function(m){m=m.charCodeAt(0);return String.fromCharCode(224|m>>12,128|
m>>6&63,128|m&63)})},decode:function(t){return t.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,function(m){m=(m.charCodeAt(0)&15)<<12|(m.charCodeAt(1)&63)<<6|m.charCodeAt(2)&63;return String.fromCharCode(m)}).replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,function(m){m=(m.charCodeAt(0)&31)<<6|m.charCodeAt(1)&63;return String.fromCharCode(m)})}};256>k;){var v=String.fromCharCode(k);c+=v;g[k]=k;d[k]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(v);++k}var r=a.base64=
function(t,m,u){return m?r[t](m,u):t?null:this};r.btoa=r.encode=function(t,m){t=!1===r.raw||r.utf8encode||m?q.encode(t):t;t=b(t,!1,g,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",8,6);return t+"====".slice(t.length%4||4)};r.atob=r.decode=function(t,m){t=t.replace(/[^A-Za-z0-9\+\/=]/g,"");t=String(t).split("=");var u=t.length;do--u,t[u]=b(t[u],!0,d,c,6,8);while(0<u);t=t.join("");return!1===r.raw||r.utf8decode||m?q.decode(t):t}})(jQuery);
eval(function(a,b,c,d,g,k){g=function(q){return(q<b?"":g(parseInt(q/b)))+(35<(q%=b)?String.fromCharCode(q+29):q.toString(36))};if(!"".replace(/^/,String)){for(;c--;)k[g(c)]=d[c]||g(c);d=[function(q){return k[q]}];g=function(){return"\\w+"};c=1}for(;c--;)d[c]&&(a=a.replace(new RegExp("\\b"+g(c)+"\\b","g"),d[c]));return a}("6(3w.b&&!3w.b.3x){(7(b){9 j=7(s,H,m){5.1g=[];5.1D={};5.2M=u;5.1W={};5.1h={};5.m=b.1i({1X:1c,3y:1x,2N:1c,2O:1c,3z:1x,3A:1x},m);5.1E=(5.m.1E!==D)?(5.m.1E):(R.2g);5.13=(5.m.13!==D)?(5.m.13):(R.3B);5.2h=(5.m.2h!==D)?(5.m.2h):((5.m.1X)?(b.2P):(R.2P));6(s==u){c}5.3C(s,H);6(s){5.1F(5.1h['2i'],H,5.m)}5.1h=u};j.4k='0.8.4';j.J=1c;j.3D=4l;j.1y=0;j.z.3C=7(s,H){9 2Q=/\\{#1d *(\\w+) *(.*?) *\\}/g,2j,1G,U,1H=u,2R=[],i;2k((2j=2Q.4m(s))!==u){1H=2Q.1H;1G=2j[1];U=s.1Y('{#/1d '+1G+'}',1H);6(U===-1){E p V('14: j \"'+1G+'\" 2S 2l 4n.');}5.1h[1G]=s.1Z(1H,U);2R[1G]=R.2T(2j[2])}6(1H===u){5.1h['2i']=s;c}K(i 2m 5.1h){6(i!=='2i'){5.1W[i]=p j()}}K(i 2m 5.1h){6(i!=='2i'){5.1W[i].1F(5.1h[i],b.1i({},H||{},5.1W||{}),b.1i({},5.m,2R[i]));5.1h[i]=u}}};j.z.1F=7(s,H,m){6(s==D){5.1g.x(p 1p('',1,5));c}s=s.15(/[\\n\\r]/g,'');s=s.15(/\\{\\*.*?\\*\\}/g,'');5.2M=b.1i({},5.1W||{},H||{});5.m=p 2n(m);9 A=5.1g,20=s.1j(/\\{#.*?\\}/g),16=0,U=0,e,1q=0,i,l;K(i=0,l=(20)?(20.X):(0);i<l;++i){9 10=20[i];6(1q){U=s.1Y('{#/1I}',16);6(U===-1){E p V(\"14: 4o 21 3E 1I.\");}6(U>16){A.x(p 1p(s.1Z(16,U),1,5))}16=U+11;1q=0;2k(i<l&&20[i]!=='{#/1I}'){i++}22}U=s.1Y(10,16);6(U>16){A.x(p 1p(s.1Z(16,U),1q,5))}10.1j(/\\{#([\\w\\/]+).*?\\}/);9 2o=L.$1;2U(2o){B'4p':A.2V(10);F;B'6':e=p 1z(A,5);e.2V(10);A.x(e);A=e;F;B'W':A.2W();F;B'/6':B'/K':B'/2X':A=A.2Y();F;B'2X':e=p 1A(10,A,5);A.x(e);A=e;F;B'K':e=3F(10,A,5);A.x(e);A=e;F;B'22':B'F':A.x(p 17(2o));F;B'2Z':A.x(p 30(10,5.2M,5));F;B'h':A.x(p 31(10,5));F;B'9':A.x(p 32(10,5));F;B'33':A.x(p 34(10));F;B'4q':A.x(p 1p('{',1,5));F;B'4r':A.x(p 1p('}',1,5));F;B'1I':1q=1;F;B'/1I':6(j.J){E p V(\"14: 4s 35 3E 1I.\");}F;3G:6(j.J){E p V('14: 4t 4u: '+2o+'.');}}16=U+10.X}6(s.X>16){A.x(p 1p(s.3H(16),1q,5))}};j.z.M=7(d,h,q,I){++I;6(I==1&&q!=D){b.36(q,\"2p\")}9 $T=d,$P,18='';6(5.m.3z){$T=5.1E(d,{2q:(5.m.3y&&I==1),23:5.m.1X},5.13)}6(!5.m.3A){$P=b.1i({},5.1D,h)}W{$P=b.1i({},5.1E(5.1D,{2q:(5.m.2N),23:1c},5.13),5.1E(h,{2q:(5.m.2N&&I==1),23:1c},5.13))}K(9 i=0,l=5.1g.X;i<l;++i){18+=5.1g[i].M($T,$P,q,I)}5.2r=u;--I;c 18};j.z.12=7(){6(5.2r==u){5.2r=p 2s(5)}c 5.2r};j.z.37=7(24,1B){5.1D[24]=1B};R=7(){};R.3B=7(3I){c 3I.15(/&/g,'&4v;').15(/>/g,'&3J;').15(/</g,'&3K;').15(/\"/g,'&4w;').15(/'/g,'&#39;')};R.2g=7(d,1J,13){6(d==u){c d}2U(d.38){B 2n:9 o={};K(9 i 2m d){o[i]=R.2g(d[i],1J,13)}6(!1J.23){6(d.4x(\"3a\")){o.3a=d.3a}}c o;B 4y:9 a=[];K(9 i=0,l=d.X;i<l;++i){a[i]=R.2g(d[i],1J,13)}c a;B 3b:c(1J.2q)?(13(d)):(d);B 3L:6(1J.23){6(j.J){E p V(\"14: 4z 4A 2l 4B.\");}W{c D}}}c d};R.2T=7(2t){6(2t===u||2t===D){c{}}9 o=2t.4C(/[= ]/);6(o[0]===''){o.4D()}9 25={};K(9 i=0,l=o.X;i<l;i+=2){25[o[i]]=o[i+1]}c 25};R.2P=7(G){6(1K G!==\"4E\"||!G){c u}1k{c(p 3L(\"c \"+b.3M(G)))()}1l(e){6(j.J){E p V(\"14: 4F 4G\");}c{}}};R.3N=7(26,1y,3c){2k(26!=u){9 d=b.G(26,'2p');6(d!=D&&d.1y==1y&&d.d[3c]!=D){c d.d[3c]}26=26.4H}c u};9 1p=7(3d,1q,1d){5.27=3d;5.3O=1q;5.O=1d};1p.z.M=7(d,h,q,I){6(5.3O){c 5.27}9 s=5.27;9 19=\"\";9 i=-1;9 28=0;9 29=-1;9 1L=0;2k(1x){9 1M=s.1Y(\"{\",i+1);9 1N=s.1Y(\"}\",i+1);6(1M<0&&1N<0){F}6((1M!=-1&&1M<1N)||(1N==-1)){i=1M;6(++28==1){29=1M;19+=s.1Z(1L,i);1L=-1}}W{i=1N;6(--28===0){6(29>=0){19+=5.O.12().3P(d,h,q,s.1Z(29,1N+1));29=-1;1L=i+1}}W 6(28<0){28=0}}}6(1L>-1){19+=s.3H(1L)}c 19};2s=7(t){5.3e=t};2s.z.3P=7($T,$P,$Q,2u){1k{9 19=3f(2u);6(b.4I(19)){6(5.3e.m.1X||!5.3e.m.2O){c''}19=19($T,$P,$Q)}c(19===D)?(\"\"):(3b(19))}1l(e){6(j.J){6(e 1C 17){e.1m=\"4J\"}E e;}c\"\"}};2s.z.1a=7($T,$P,$Q,2u){c 3f(2u)};9 1z=7(1O,1r){5.2v=1O;5.1P=1r;5.2a=[];5.1g=[];5.1Q=u};1z.z.x=7(e){5.1Q.x(e)};1z.z.2Y=7(){c 5.2v};1z.z.2V=7(N){N.1j(/\\{#(?:W)*6 (.*?)\\}/);5.2a.x(L.$1);5.1Q=[];5.1g.x(5.1Q)};1z.z.2W=7(){5.2a.x(1x);5.1Q=[];5.1g.x(5.1Q)};1z.z.M=7(d,h,q,I){9 18='';1k{K(9 2b=0,3Q=5.2a.X;2b<3Q;++2b){6(5.1P.12().1a(d,h,q,5.2a[2b])){9 t=5.1g[2b];K(9 i=0,l=t.X;i<l;++i){18+=t[i].M(d,h,q,I)}c 18}}}1l(e){6(j.J||(e 1C 17)){E e;}}c 18};3F=7(N,1O,1d){6(N.1j(/\\{#K (\\w+?) *= *(\\S+?) +4K +(\\S+?) *(?:1b=(\\S+?))*\\}/)){9 f=p 1A(u,1O,1d);f.C=L.$1;f.Y={'35':(L.$2||0),'21':(L.$3||-1),'1b':(L.$4||1),'y':'$T'};f.3g=(7(i){c i});c f}W{E p V('14: 4L 4M \"3R\": '+N);}};9 1A=7(N,1O,1d){5.2v=1O;5.O=1d;6(N!=u){N.1j(/\\{#2X +(.+?) +3S +(\\w+?)( .+)*\\}/);5.3T=L.$1;5.C=L.$2;5.Y=L.$3||u;5.Y=R.2T(5.Y)}5.2w=[];5.2x=[];5.3h=5.2w};1A.z.x=7(e){5.3h.x(e)};1A.z.2Y=7(){c 5.2v};1A.z.2W=7(){5.3h=5.2x};1A.z.M=7(d,h,q,I){1k{9 1s=(5.3g===D)?(5.O.12().1a(d,h,q,5.3T)):(5.3g);6(1s===$){E p V(\"2c: 4N '$' 4O 4P 4Q 3S 3U-7\");}9 2d=[];9 1R=1K 1s;6(1R=='3V'){9 3i=[];b.1t(1s,7(k,v){2d.x(k);3i.x(v)});1s=3i}9 y=(5.Y.y!==D)?(5.O.12().1a(d,h,q,5.Y.y)):((d!=u)?(d):({}));6(y==u){y={}}9 s=2e(5.O.12().1a(d,h,q,5.Y.35)||0),e;9 1b=2e(5.O.12().1a(d,h,q,5.Y.1b)||1);6(1R!='7'){e=1s.X}W{6(5.Y.21===D||5.Y.21===u){e=2e.4R}W{e=2e(5.O.12().1a(d,h,q,5.Y.21))+((1b>0)?(1):(-1))}}9 18='';9 i,l;6(5.Y.2f){9 3j=s+2e(5.O.12().1a(d,h,q,5.Y.2f));e=(3j>e)?(e):(3j)}6((e>s&&1b>0)||(e<s&&1b<0)){9 1S=0;9 3W=(1R!='7')?(4S.4T((e-s)/1b)):D;9 1u,1n;9 3k=0;K(;((1b>0)?(s<e):(s>e));s+=1b,++1S,++3k){6(j.J&&3k>j.3D){E p V(\"2c: 4U 3U 4V 4W 4X\");}1u=2d[s];6(1R!='7'){1n=1s[s]}W{1n=1s(s);6(1n===D||1n===u){F}}6((1K 1n=='7')&&(5.O.m.1X||!5.O.m.2O)){22}6((1R=='3V')&&(1u 2m 2n)&&(1n===2n[1u])){22}9 3X=y[5.C];y[5.C]=1n;y[5.C+'$3Y']=s;y[5.C+'$1S']=1S;y[5.C+'$3Z']=(1S===0);y[5.C+'$40']=(s+1b>=e);y[5.C+'$41']=3W;y[5.C+'$2d']=(1u!==D&&1u.38==3b)?(5.O.13(1u)):(1u);y[5.C+'$1K']=1K 1n;K(i=0,l=5.2w.X;i<l;++i){1k{18+=5.2w[i].M(y,h,q,I)}1l(1T){6(1T 1C 17){2U(1T.1m){B'22':i=l;F;B'F':i=l;s=e;F;3G:E 1T;}}W{E 1T;}}}1v y[5.C+'$3Y'];1v y[5.C+'$1S'];1v y[5.C+'$3Z'];1v y[5.C+'$40'];1v y[5.C+'$41'];1v y[5.C+'$2d'];1v y[5.C+'$1K'];1v y[5.C];y[5.C]=3X}}W{K(i=0,l=5.2x.X;i<l;++i){18+=5.2x[i].M(d,h,q,I)}}c 18}1l(e){6(j.J||(e 1C 17)){E e;}c\"\"}};9 17=7(1m){5.1m=1m};17.z=V;17.z.M=7(d){E 5;};9 30=7(N,H,1r){N.1j(/\\{#2Z (.*?)(?: 4Y=(.*?))?\\}/);5.O=H[L.$1];6(5.O==D){6(j.J){E p V('14: 4Z 3R 2Z: '+L.$1);}}5.42=L.$2;5.43=1r};30.z.M=7(d,h,q,I){1k{c 5.O.M(5.43.12().1a(d,h,q,5.42),h,q,I)}1l(e){6(j.J||(e 1C 17)){E e;}}c''};9 31=7(N,1r){N.1j(/\\{#h 24=(\\w*?) 1B=(.*?)\\}/);5.C=L.$1;5.27=L.$2;5.1P=1r};31.z.M=7(d,h,q,I){1k{h[5.C]=5.1P.12().1a(d,h,q,5.27)}1l(e){6(j.J||(e 1C 17)){E e;}h[5.C]=D}c''};9 32=7(N,1r){N.1j(/\\{#9 (.*?)\\}/);5.44=L.$1;5.1P=1r};32.z.M=7(d,h,q,I){1k{6(q==D){c\"\"}9 25=5.1P.12().1a(d,h,q,5.44);9 1U=b.G(q,\"2p\");6(1U==D){1U={1y:(++j.1y),d:[]}}9 i=1U.d.x(25);b.G(q,\"2p\",1U);c\"(R.3N(5,\"+1U.1y+\",\"+(i-1)+\"))\"}1l(e){6(j.J||(e 1C 17)){E e;}c''}};9 34=7(N){N.1j(/\\{#33 50=(.*?)\\}/);5.3l=3f(L.$1);5.3m=5.3l.X;6(5.3m<=0){E p V('14: 51 52 K 33');}5.3n=0;5.3o=-1};34.z.M=7(d,h,q,I){9 3p=b.G(q,'2y');6(3p!=5.3o){5.3o=3p;5.3n=0}9 i=5.3n++%5.3m;c 5.3l[i]};b.1e.1F=7(s,H,m){c b(5).1t(7(){9 t=(s&&s.38==j)?s:p j(s,H,m);b.G(5,'2c',t);b.G(5,'2y',0)})};b.1e.53=7(1V,H,m){9 s=b.2z({1w:1V,2A:'2B',2C:1c,1m:'45'}).46;c b(5).1F(s,H,m)};b.1e.54=7(3q,H,m){9 s=b('#'+3q).3d();6(s==u){s=b('#'+3q).47();s=s.15(/&3K;/g,\"<\").15(/&3J;/g,\">\")}s=b.3M(s);s=s.15(/^<\\!\\[55\\[([\\s\\S]*)\\]\\]>$/48,'$1');s=s.15(/^<\\!--([\\s\\S]*)--\x3e$/48,'$1');c b(5).1F(s,H,m)};b.1e.56=7(){9 2f=0;b(5).1t(7(){6(b.2D(5)){++2f}});c 2f};b.1e.57=7(){b(5).49();c b(5).1t(7(){b.36(5,'2c')})};b.1e.37=7(24,1B){c b(5).1t(7(){9 t=b.2D(5);6(t!=u){t.37(24,1B)}W 6(j.J){E p V('14: j 2S 2l 4a.');}})};b.1e.3r=7(d,h,1o){c b(5).1t(7(){9 t=b.2D(5);6(t!=u){6(1o!=D&&1o.3s){d=t.2h(d)}b.G(5,'2y',b.G(5,'2y')+1);b(5).47(t.M(d,h,5,0))}W 6(j.J){E p V('14: j 2S 2l 4a.');}})};b.1e.58=7(1V,h,1o){9 Z=5;9 o=b.1i({2E:1c},b.59);o=b.1i(o,1o);b.2z({1w:1V,1m:o.1m,G:o.G,4b:o.4b,2C:o.2C,2F:o.2F,2E:o.2E,4c:o.4c,2A:'2B',4d:7(d){9 r=b(Z).3r(d,h,{3s:1x});6(o.2G){o.2G(r)}},5a:o.5b,5c:o.5d});c 5};9 3t=7(1w,h,2H,2I,1f,1o){5.4e=1w;5.1D=h;5.4f=2H;5.4g=2I;5.1f=1f;5.4h=u;5.2J=1o||{};9 Z=5;b(1f).1t(7(){b.G(5,'3u',Z)});5.3v()};3t.z.3v=7(){5.1f=b.4i(5.1f,7(2K){c(b.5e(5f.5g,2K.5h?2K[0]:2K))});6(5.1f.X===0){c}9 Z=5;b.2z({1w:5.4e,2A:'2B',G:5.4g,2E:1c,2F:Z.2J.2F,4d:7(d){1k{9 r=b(Z.1f).3r(d,Z.1D,{3s:1x});6(Z.2J.2G){Z.2J.2G(r)}}1l(1T){}}});5.4h=5i(7(){Z.3v()},5.4f)};b.1e.5j=7(1w,h,2H,2I,1o){c p 3t(1w,h,2H,2I,5,1o)};b.1e.49=7(){c b(5).1t(7(){9 2L=b.G(5,'3u');6(2L==u){c}9 Z=5;2L.1f=b.4i(2L.1f,7(o){c o!=Z});b.36(5,'3u')})};b.1i({3x:7(s,H,m){c p j(s,H,m)},5k:7(1V,H,m){9 s=b.2z({1w:1V,2A:'2B',2C:1c,1m:'45'}).46;c p j(s,H,m)},2D:7(q){c b.G(q,'2c')},5l:7(1d,G,4j){c 1d.M(G,4j,D,0)},5m:7(1B){j.J=1B}})})(b)};",
62,333,"     this if function  var  jQuery return     param  Template   settings   new element    null   push extData prototype node case _name undefined throw break data includes deep DEBUG_MODE for RegExp get oper _template   TemplateUtils   se Error else length _option that this_op  getBin f_escapeString jTemplates replace ss JTException ret result evaluate step false template fn objs _tree _templates_code extend match try catch type cval options TextNode literalMode templ fcount each ckey delete url true guid opIF opFOREACH value instanceof _param f_cloneData setTemplate tname lastIndex literal filter typeof sExpr lm rm par _templ _curr mode iteration ex refobj url_ _templates disallow_functions indexOf substring op end continue noFunc name obj el _value nested sText _cond ci jTemplate key Number count cloneData f_parseJSON MAIN iter while not in Object op_ jTemplatesRef escapeData EvalObj EvalClass optionText __value _parent _onTrue _onFalse jTemplateSID ajax dataType text async getTemplate cache headers on_success interval args _options elem updater _includes filter_params runnable_functions parseJSON reg _template_settings is optionToObject switch addCond switchToElse foreach getParent include Include UserParam UserVariable cycle Cycle begin removeData setParam constructor  toString String id val __templ eval _runFunc _currentState arr tmp loopCounter _values _length _index _lastSessionID sid elementName processTemplate StrToJSON Updater jTemplateUpdater run window createTemplate filter_data clone_data clone_params escapeHTML splitTemplates FOREACH_LOOP_LIMIT of opFORFactory default substr txt gt lt Function trim ReturnRefValue _literalMode evaluateContent cl find as _arg loop object _total prevValue index first last total _root _mainTempl _id GET responseText html im processTemplateStop defined dataFilter timeout success _url _interval _args timer grep parameter version 10000 exec closed No elseif ldelim rdelim Missing unknown tag amp quot hasOwnProperty Array Functions are allowed split shift string Invalid JSON parentNode isFunction subtemplate to Operator failed Variable cannot be used MAX_VALUE Math ceil Foreach limit was exceed root Cannot values no elements setTemplateURL setTemplateElement CDATA hasTemplate removeTemplate processTemplateURL ajaxSettings error on_error complete on_complete contains document body jquery setTimeout processTemplateStart createTemplateURL processTemplateToText jTemplatesDebugMode".split(" "),
0,{}));
!function(a){a.fly=function(b,c){var d={version:"1.0.0",autoPlay:!0,vertex_Rtop:20,speed:1.2,start:{},end:{},onEnd:a.noop},g=a(b);this.init=function(k){this.setOptions(k);this.settings.autoPlay&&this.play()};this.setOptions=function(k){k=this.settings=a.extend(!0,{},d,k);var q=k.start,v=k.end;g.css({marginTop:"0px",marginLeft:"0px",position:"fixed"}).appendTo("body");null!=v.width&&null!=v.height&&a.extend(!0,q,{width:g.width(),height:g.height()});var r=Math.min(q.top,v.top)-Math.abs(q.left-v.left)/
3;r<k.vertex_Rtop&&(r=Math.min(k.vertex_Rtop,Math.min(q.top,v.top)));var t=q.top==r?0:-Math.sqrt((v.top-r)/(q.top-r));t=(t*q.left-v.left)/(t-1);a.extend(!0,k,{count:-1,steps:Math.ceil(Math.min(Math.max(Math.log(Math.sqrt(Math.pow(q.top-v.top,2)+Math.pow(q.left-v.left,2)))/.05-75,30),100)/k.speed),vertex_left:t,vertex_top:r,curvature:v.left==t?0:(v.top-r)/Math.pow(v.left-t,2)})};this.play=function(){this.move()};this.move=function(){var k=this.settings,q=k.start,v=k.count,r=k.steps,t=k.end,m=q.left+
(t.left-q.left)*v/r,u=0==k.curvature?q.top+(t.top-q.top)*v/r:k.curvature*Math.pow(m-k.vertex_left,2)+k.vertex_top;if(null!=t.width&&null!=t.height){var h=r/2,f=t.width-(t.width-q.width)*Math.cos(h>v?0:(v-h)/(r-h)*Math.PI/2);q=t.height-(t.height-q.height)*Math.cos(h>v?0:(v-h)/(r-h)*Math.PI/2);g.css({width:f+"px",height:q+"px","font-size":Math.min(f,q)+"px"})}g.css({left:m+"px",top:u+"px"});k.count++;m=window.requestAnimationFrame(a.proxy(this.move,this));v==r&&(window.cancelAnimationFrame(m),k.onEnd.apply(this))};
this.destroy=function(){g.remove()};this.init(c)};a.fn.fly=function(b){return this.each(function(){void 0==a(this).data("fly")&&a(this).data("fly",new a.fly(this,b))})}}(jQuery);
(function(a){a.fly=function(b,c){var d={version:"1.0.0",autoPlay:!0,vertex_Rtop:20,speed:1.2,start:{},end:{},onEnd:a.noop},g=a(b);this.init=function(k){this.setOptions(k);this.settings.autoPlay&&this.play()};this.setOptions=function(k){k=this.settings=a.extend(!0,{},d,k);var q=k.start,v=k.end;g.css({marginTop:"0px",marginLeft:"0px",position:"fixed"}).appendTo("body");null!=v.width&&null!=v.height&&a.extend(!0,q,{width:g.width(),height:g.height()});var r=Math.min(q.top,v.top)-Math.abs(q.left-v.left)/
3;r<k.vertex_Rtop&&(r=Math.min(k.vertex_Rtop,Math.min(q.top,v.top)));var t=q.top==r?0:-Math.sqrt((v.top-r)/(q.top-r));t=(t*q.left-v.left)/(t-1);a.extend(!0,k,{count:-1,steps:Math.ceil(Math.min(Math.max(Math.log(Math.sqrt(Math.pow(q.top-v.top,2)+Math.pow(q.left-v.left,2)))/.05-75,30),100)/k.speed),vertex_left:t,vertex_top:r,curvature:v.left==t?0:(v.top-r)/Math.pow(v.left-t,2)})};this.play=function(){this.move()};this.move=function(){var k=this.settings,q=k.start,v=k.count,r=k.steps,t=k.end,m=q.left+
(t.left-q.left)*v/r,u=0==k.curvature?q.top+(t.top-q.top)*v/r:k.curvature*Math.pow(m-k.vertex_left,2)+k.vertex_top;if(null!=t.width&&null!=t.height){var h=r/2,f=t.width-(t.width-q.width)*Math.cos(v<h?0:(v-h)/(r-h)*Math.PI/2);q=t.height-(t.height-q.height)*Math.cos(v<h?0:(v-h)/(r-h)*Math.PI/2);g.css({width:f+"px",height:q+"px","font-size":Math.min(f,q)+"px"})}g.css({left:m+"px",top:u+"px"});k.count++;m=window.requestAnimationFrame(a.proxy(this.move,this));v==r&&(window.cancelAnimationFrame(m),k.onEnd.apply(this))};
this.destroy=function(){g.remove()};this.init(c)};a.fn.fly=function(b){return this.each(function(){void 0==a(this).data("fly")&&a(this).data("fly",new a.fly(this,b))})}})(jQuery);
gei.util.storage={init:function(a){this._loadJs(function(){try{Storages.alwaysUseJsonInStorage(),gei.util.storage._storageCanUse=!0}catch(b){gei.util.storage._storageCanUse=!1,alert("\u6d4f\u89c8\u5668\u4e0d\u652f\u6301storage!"+b)}a()})},_loadJs:function(a){$.when.apply($,$.map([assetsUrl+"/lib/js-storage/Jasmine/lib/js.cookie.js",assetsUrl+"/lib/js-storage/"+(debugModel?"js.storage.js":"js.storage.min.js")],function(b){return gei.ajax({url:b,dataType:"script",cache:!0})})).done(function(){a()}).fail(function(){gei.util.alertWarn("\u7cfb\u7edf\u672a\u77e5\u9519\u8bef\uff0c\u8bf7\u5237\u65b0\u9875\u9762\u91cd\u8bd5\u6216\u8005"+
applicationTipsMsgFaqChat+"\uff0c\u8fdb\u884c\u89e3\u51b3\u3002")})},ns:function(a){return Storages.initNamespaceStorage(a)},nsStorages:function(){return Storages.namespaceStorages},localStorage:function(a){var b=Storages.localStorage;a&&a.localStorage&&(b=a.localStorage);return b},sessionStorage:function(a){var b=Storages.sessionStorage;a&&a.sessionStorage&&(b=a.sessionStorage);return b},cookieStorage:function(a,b){var c=Storages.cookieStorage;a&&a.cookieStorage&&(c=a.cookieStorage);a=$.extend(!0,
{},b);c.setConf(a);return c},keys:function(a){return a.keys()},get:function(a,b){return a.get(b)},set:function(a,b,c){return a.set(b,c)},exist:function(a,b){return a.isSet(b)},remove:function(a,b){a.remove(b)},removeAll:function(a,b){a?a.removeAll(b):Storages.removeAllStorages()}};gei.select={};
gei.select.selectComp={name:null,chkName:null,selectedDataNs:null,selectedDataStorage:null,isEdit:!1,itemFocusClass:null,selector:".audio-item-box[itemid], .unit-content-box[itemid], .resc-info[resc-id] ,.unit-content-main[unit-key*='resc']",lastSelectInput:null,isSelect:!1,init:function(a,b,c){var d=this;this.name=a;this.chkName="chk_"+a;this.itemFocusClass=b;gei.util.storage.init(function(){d.selectedDataNs=gei.util.storage.ns(a+"_selectedData");d.selectedDataStorage=gei.util.storage.localStorage(d.selectedDataNs);
c()})},_addData:function(a,b){gei.util.storage.set(this.selectedDataStorage,a,b)},_hasData:function(a){return gei.util.storage.exist(this.selectedDataStorage,a)},_removeData:function(a){gei.util.storage.remove(this.selectedDataStorage,a)},_removeAllData:function(){gei.util.storage.removeAll(this.selectedDataStorage)},getSelectedData:function(){var a=this.selectedDataStorage,b=[],c=gei.util.storage.keys(a);$.each(c,function(d,g){b.push(gei.util.storage.get(a,g))});return b},getSelectedKeys:function(){return gei.util.storage.keys(this.selectedDataStorage)},
_getItems:function(){return $(this.selector)},_getCheckBoxs:function(){return $('input[type="checkbox"][name="'+this.chkName+'"]')},_doCheck:function(a){var b=a.val(),c=a.attr("data-type");a=a.prop("checked");c=c+"-"+b;a?this._addData(c,b):this._removeData(c)},_bindCheckEvent:function(){var a=this;this._getCheckBoxs().click(function(b){a._doCheck($(this));a._handleShiftKeyCheck($(this),b);b.stopPropagation()})},_appendCheckBoxs:function(){var a=this;this._getItems().each(function(b,c){b="item";c=
$(this).attr("itemid");var d=b+"-"+c;c||(b="resc",d=$(this).attr("unit-key"),c=d.replace("resc-",""));var g="";a._hasData(d)&&(g="checked");b='<input type="checkbox" style="width:30px;height: 30px;float: left;position: absolute; right: 4px; z-index: 1000; " name="'+a.chkName+'" value="'+c+'" data-type="'+b+'" '+g+"/>";$(this).addClass(a.itemFocusClass);$(this).prepend(b)})},initSelect:function(){this._removeAllData();this.mutiSelect()},unfocus:function(){var a=this;this._getCheckBoxs().remove();this._getItems().each(function(b,
c){$(this).removeClass(a.itemFocusClass)});this.isEdit=!1;this._removeAllData()},selectAll:function(){var a=this;this.mutiSelect();this._getCheckBoxs().attr("checked",!0).each(function(b,c){a._doCheck($(this))})},getAllData:function(){return this._getCheckBoxs()},getUnSelectData:function(){var a=[];$('input[type="checkbox"][checked="false"][name="'+this.chkName+'"]');this._getCheckBoxs().each(function(b,c){b=$(this).val();a.push(b)});return a},selectReverse:function(){var a=this;this.mutiSelect();
this._getCheckBoxs().each(function(b,c){b=$(this).prop("checked");$(this).attr("checked",!b);a._doCheck($(this))})},mutiSelect:function(){this._getCheckBoxs().remove();this._appendCheckBoxs();this._bindCheckEvent();this.isEdit=!0},_handleShiftKeyCheck:function(a,b){var c=this;this.lastSelectInput||(this.lastSelectInput=a);this.isSelect=this.lastSelectInput.prop("checked");if(b.shiftKey){b=this.getAllData();var d=b.index(a),g=b.index(this.lastSelectInput);$.each(b.slice(Math.min(d,g),Math.max(d,g)+
1),function(){this.checked=c.isSelect;c._doCheck($(this))})}this.lastSelectInput=a}};gei.mark={};
gei.mark.edit={selectName:"mark_select",init:function(){gei.util.clickFn($("#markEdit"),gei.mark.edit.edit);gei.util.clickFn($("#markUnEdit"),gei.mark.edit.unEdit);gei.util.clickFn($("#markSelectAll"),gei.mark.edit.selectAll);gei.util.clickFn($("#markDelete"),gei.mark.edit.del);$("#markEdit").show();gei.core.eventBus.on("Event_pageContentLoadEnd",function(){var a=gei.select.selectComp;a.isEdit&&a.initSelect()})},edit:function(){$("#markEdit").hide();$("#markUnEdit").show();$("#markSelectAll").show();
$("#markDelete").show();gei.select.selectComp.init(this.selectName,"",function(){gei.select.selectComp.initSelect()})},unEdit:function(){$("#markUnEdit").hide();$("#markSelectAll").hide();$("#markDelete").hide();$("#markEdit").show();gei.select.selectComp.unfocus()},selectAll:function(){gei.select.selectComp.selectAll()},del:function(){var a=gei.select.selectComp,b=a.getSelectedKeys();0===b.length?gei.util.alertWarn("\u8bf7\u9009\u62e9\u9700\u8981\u5220\u9664\u7684\u6570\u636e!"):gei.util.confirm("\u603b\u5171\u8981\u5220\u9664"+
b.length+"\u6761\u5386\u53f2\u8bb0\u5f55, \u6570\u636e\u5220\u9664\u540e\u5c06\u4e0d\u80fd\u6062\u590d!",function(){var c={markType:$('[name="markType"]:checked').val(),unitKeys:b};gei.ajaxWithError({type:"post",url:"/gei-list/jsonComp/sns/mark/delete.json",dataType:"json",data:c},function(d){gei.util.alertSuccess(d.message);$.each(b,function(g,k){gei.util.eachById("unitBox_"+k,function(q){$(q).remove()})});gei.ui.adjustUnitRowHeightSameUtil.execSameHeight();a.initSelect()})})}};gei.plugin={};
gei.plugin._plugins={};gei.plugin.init=function(){for(i in gei.plugin._plugins){var a=gei.plugin._plugins[i];if($.isFunction(a.init))a.init();else throw"please add init function for plugin ["+i+"]";}};gei.plugin.get=function(a){if(gei.plugin._plugins[a])return gei.plugin._plugins[a];throw"no plugin ["+a+"] found!";};gei.plugin.regist=function(a,b){gei.plugin._plugins[a]=b};gei.plugin.toolbox={};
gei.plugin.toolbox.init=function(a){a=$.extend(!0,{tpl:"<h1>\u8bf7\u8bbe\u7f6e\u83dc\u5355\u6a21\u677f</h1>",container:"body",pluginName:""},a);$(a.container).prepend(a.tpl);this.bindEvent(a)};
gei.plugin.toolbox.bindEvent=function(a){var b=this,c='[web-plugin="'+a.pluginName+'"]',d=function(){$(".menu>span",c).each(function(g,k){$(this).attr("data-selected",!1);$(this).removeClass("selected")})};d();$(".menu>span",c).unbind("click").click(function(){d();$(this).attr("data-selected",!0);$(this).addClass("selected");var g=$(this).attr("data-event"),k=gei.plugin.get(a.pluginName);b.fireEvent(k,g,$(this))})};
gei.plugin.toolbox.fireEvent=function(a,b,c){(a=a["on"+b])&&$.isFunction(a)&&a({target:c,event:b})};gei.plugin.popover={};
gei.plugin.popover.init=function(a){var b=$.extend(!0,{title:"popover\u83dc\u5355",tpl:"<h1>\u8bf7\u8bbe\u7f6e\u83dc\u5355\u6a21\u677f</h1>",itemSelector:"body",pluginName:"",popOpts:{},style:""},a);$(b.itemSelector).each(function(c,d){if(0===$(".plugin-popover",this).length){d=$(this);var g=d.prepend,k=$(this),q='<div class="plugin-popover plugin_popover_container_'+c+'" style="'+b.style+'">';q+='<div class="showPopover" data-selector="#plugin_popover_'+c+'" data-placement="auto">'+b.title+"</div>";
q+='<div id="plugin_popover_'+c+'" style="display: none;">';q=$.isFunction(b.tpl)?q+b.tpl(k):q+b.tpl;g.call(d,q+"</div></div>")}});gei.util.uiPopover(".showPopover",b.popOpts)};
(function(a,b){"object"===typeof module&&"object"===typeof module.exports?module.exports=a.document?b(a,!0):function(c){if(!c.document)throw Error("Geetest requires a window with a document");return b(c)}:b(a)})("undefined"!==typeof window?window:this,function(a,b){function c(n){this._obj=n}function d(n){var w=this;(new c(n))._each(function(y,z){w[y]=z})}if("undefined"===typeof a)throw Error("Geetest requires browser environment");var g=a.document,k=a.Math,q=g.getElementsByTagName("head")[0];c.prototype=
{_each:function(n){var w=this._obj,y;for(y in w)w.hasOwnProperty(y)&&n(y,w[y]);return this}};d.prototype={api_server:"api.geetest.com",protocol:"http://",type_path:"/gettype.php",fallback_config:{slide:{static_servers:["static.geetest.com","dn-staticdown.qbox.me"],type:"slide",slide:"/static/js/geetest.0.0.0.js"},fullpage:{static_servers:["static.geetest.com","dn-staticdown.qbox.me"],type:"fullpage",fullpage:"/static/js/fullpage.0.0.0.js"}},_get_fallback_config:function(){return"string"===typeof this.type?
this.fallback_config[this.type]:this.new_captcha?this.fallback_config.fullpage:this.fallback_config.slide},_extend:function(n){var w=this;(new c(n))._each(function(y,z){w[y]=z})}};var v=function(n){return"object"===typeof n&&null!==n},r={},t={},m=function(n,w){var y=g.createElement("script");y.charset="UTF-8";y.async=!0;y.onerror=function(){w(!0)};var z=!1;y.onload=y.onreadystatechange=function(){z||y.readyState&&"loaded"!==y.readyState&&"complete"!==y.readyState||(z=!0,setTimeout(function(){w(!1)},
0))};y.src=n;q.appendChild(y)},u=function(n){if(!n)return"";var w="?";(new c(n))._each(function(y,z){if("string"===typeof z||"number"===typeof z||"boolean"===typeof z)w=w+encodeURIComponent(y)+"="+encodeURIComponent(z)+"&"});"?"===w&&(w="");return w.replace(/&$/,"")},h=function(n,w,y,z){w=w.replace(/^https?:\/\/|\/$/g,"");y=y.replace(/\/+/g,"/");0!==y.indexOf("/")&&(y="/"+y);z=y+u(z);w&&(z=n+w+z);return z},f=function(n,w,y,z,C){var I=function(K){var M=h(n,w[K],y,z);m(M,function(O){O?K>=w.length-1?
C(!0):I(K+1):C(!1)})};I(0)},l=function(n,w,y,z){if(v(y.getLib))y._extend(y.getLib),z(y);else if(y.offline)z(y._get_fallback_config());else{var C="geetest_"+(parseInt(1E4*k.random())+(new Date).valueOf());a[C]=function(I){"success"===I.status?z(I.data):I.status?z(y._get_fallback_config()):z(I);a[C]=void 0;try{delete a[C]}catch(K){}};f(y.protocol,n,w,{gt:y.gt,callback:C},function(I){I&&z(y._get_fallback_config())})}},e=function(n,w){var y={networkError:"\u7f51\u7edc\u9519\u8bef"};if("function"===typeof w.onError)w.onError(y[n]);
else throw Error(y[n]);};a.Geetest&&(t.slide="loaded");b=function(n,w){var y=new d(n);n.https?y.protocol="https://":n.protocol||(y.protocol=a.location.protocol+"//");l([y.api_server||y.apiserver],y.type_path,y,function(z){var C=z.type,I=function(){y._extend(z);w(new a.Geetest(y))};r[C]=r[C]||[];var K=t[C]||"init";"init"===K?(t[C]="loading",r[C].push(I),f(y.protocol,z.static_servers||z.domains,z[C]||z.path,null,function(M){if(M)t[C]="fail",e("networkError",y);else{t[C]="loaded";M=r[C];for(var O=0,
P=M.length;O<P;O+=1){var Q=M[O];"function"===typeof Q&&Q()}r[C]=[]}})):"loaded"===K?I():"fail"===K?e("networkError",y):"loading"===K&&r[C].push(I)})};return a.initGeetest=b});
(function(a,b,c){function d(r,t){this.wrapper="string"==typeof r?b.querySelector(r):r;this.scroller=this.wrapper.children[0];this.scrollerStyle=this.scroller.style;this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,disablePointer:!v.hasPointer,disableTouch:v.hasPointer||!v.hasTouch,disableMouse:v.hasPointer||v.hasTouch,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},
HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:"undefined"===typeof a.onmousedown};for(var m in t)this.options[m]=t[m];this.translateZ=this.options.HWCompositing&&v.hasPerspective?" translateZ(0)":"";this.options.useTransition=v.hasTransition&&this.options.useTransition;this.options.useTransform=v.hasTransform&&this.options.useTransform;this.options.eventPassthrough=!0===this.options.eventPassthrough?"vertical":this.options.eventPassthrough;this.options.preventDefault=!this.options.eventPassthrough&&
this.options.preventDefault;this.options.scrollY="vertical"==this.options.eventPassthrough?!1:this.options.scrollY;this.options.scrollX="horizontal"==this.options.eventPassthrough?!1:this.options.scrollX;this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough;this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold;this.options.bounceEasing="string"==typeof this.options.bounceEasing?v.ease[this.options.bounceEasing]||v.ease.circular:
this.options.bounceEasing;this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling;!0===this.options.tap&&(this.options.tap="tap");this.options.useTransition||this.options.useTransform||/relative|absolute/i.test(this.scrollerStyle.position)||(this.scrollerStyle.position="relative");"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1);this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1;this.directionY=this.directionX=this.y=
this.x=0;this._events={};this._init();this.refresh();this.scrollTo(this.options.startX,this.options.startY);this.enable()}function g(r,t,m){var u=b.createElement("div"),h=b.createElement("div");!0===m&&(u.style.cssText="position:absolute;z-index:9999",h.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px");h.className="iScrollIndicator";"h"==r?(!0===m&&(u.style.cssText+=
";height:7px;left:2px;right:2px;bottom:0",h.style.height="100%"),u.className="iScrollHorizontalScrollbar"):(!0===m&&(u.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",h.style.width="100%"),u.className="iScrollVerticalScrollbar");u.style.cssText+=";overflow:hidden";t||(u.style.pointerEvents="none");u.appendChild(h);return u}function k(r,t){this.wrapper="string"==typeof t.el?b.querySelector(t.el):t.el;this.wrapperStyle=this.wrapper.style;this.indicator=this.wrapper.children[0];this.indicatorStyle=
this.indicator.style;this.scroller=r;this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var m in t)this.options[m]=t[m];this.sizeRatioY=this.sizeRatioX=1;this.maxPosY=this.maxPosX=0;this.options.interactive&&(this.options.disableTouch||(v.addEvent(this.indicator,"touchstart",this),v.addEvent(a,"touchend",this)),this.options.disablePointer||(v.addEvent(this.indicator,v.prefixPointerEvent("pointerdown"),this),v.addEvent(a,
v.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(v.addEvent(this.indicator,"mousedown",this),v.addEvent(a,"mouseup",this)));if(this.options.fade){this.wrapperStyle[v.style.transform]=this.scroller.translateZ;var u=v.style.transitionDuration;if(u){this.wrapperStyle[u]=v.isBadAndroid?"0.0001ms":"0ms";var h=this;v.isBadAndroid&&q(function(){"0.0001ms"===h.wrapperStyle[u]&&(h.wrapperStyle[u]="0s")});this.wrapperStyle.opacity="0"}}}var q=a.requestAnimationFrame||a.webkitRequestAnimationFrame||
a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(r){a.setTimeout(r,1E3/60)},v=function(){function r(f){return!1===u?!1:""===u?f:u+f.charAt(0).toUpperCase()+f.substr(1)}var t={},m=b.createElement("div").style,u=function(){for(var f=["t","webkitT","MozT","msT","OT"],l,e=0,n=f.length;e<n;e++)if(l=f[e]+"ransform",l in m)return f[e].substr(0,f[e].length-1);return!1}();t.getTime=Date.now||function(){return(new Date).getTime()};t.extend=function(f,l){for(var e in l)f[e]=
l[e]};t.addEvent=function(f,l,e,n){f.addEventListener(l,e,!!n)};t.removeEvent=function(f,l,e,n){f.removeEventListener(l,e,!!n)};t.prefixPointerEvent=function(f){return a.MSPointerEvent?"MSPointer"+f.charAt(7).toUpperCase()+f.substr(8):f};t.momentum=function(f,l,e,n,w,y){l=f-l;e=c.abs(l)/e;y=void 0===y?6E-4:y;var z=f+e*e/(2*y)*(0>l?-1:1);y=e/y;z<n?(z=w?n-w/2.5*(e/8):n,l=c.abs(z-f),y=l/e):0<z&&(z=w?w/2.5*(e/8):0,l=c.abs(f)+z,y=l/e);return{destination:c.round(z),duration:y}};var h=r("transform");t.extend(t,
{hasTransform:!1!==h,hasPerspective:r("perspective")in m,hasTouch:"ontouchstart"in a,hasPointer:!(!a.PointerEvent&&!a.MSPointerEvent),hasTransition:r("transition")in m});t.isBadAndroid=function(){var f=a.navigator.appVersion;return/Android/.test(f)&&!/Chrome\/\d/.test(f)?(f=f.match(/Safari\/(\d+.\d)/))&&"object"===typeof f&&2<=f.length?535.19>parseFloat(f[1]):!0:!1}();t.extend(t.style={},{transform:h,transitionTimingFunction:r("transitionTimingFunction"),transitionDuration:r("transitionDuration"),
transitionDelay:r("transitionDelay"),transformOrigin:r("transformOrigin"),touchAction:r("touchAction")});t.hasClass=function(f,l){return(new RegExp("(^|\\s)"+l+"(\\s|$)")).test(f.className)};t.addClass=function(f,l){if(!t.hasClass(f,l)){var e=f.className.split(" ");e.push(l);f.className=e.join(" ")}};t.removeClass=function(f,l){t.hasClass(f,l)&&(f.className=f.className.replace(new RegExp("(^|\\s)"+l+"(\\s|$)","g")," "))};t.offset=function(f){for(var l=-f.offsetLeft,e=-f.offsetTop;f=f.offsetParent;)l-=
f.offsetLeft,e-=f.offsetTop;return{left:l,top:e}};t.preventDefaultException=function(f,l){for(var e in l)if(l[e].test(f[e]))return!0;return!1};t.extend(t.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3});t.extend(t.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(f){return f*(2-f)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(f){return c.sqrt(1-
--f*f)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(f){return--f*f*(5*f+4)+1}},bounce:{style:"",fn:function(f){return(f/=1)<1/2.75?7.5625*f*f:f<2/2.75?7.5625*(f-=1.5/2.75)*f+.75:f<2.5/2.75?7.5625*(f-=2.25/2.75)*f+.9375:7.5625*(f-=2.625/2.75)*f+.984375}},elastic:{style:"",fn:function(f){return 0===f?0:1==f?1:.4*c.pow(2,-10*f)*c.sin(2*(f-.055)*c.PI/.22)+1}}});t.tap=function(f,l){var e=b.createEvent("Event");e.initEvent(l,!0,!0);e.pageX=f.pageX;e.pageY=f.pageY;f.target.dispatchEvent(e)};
t.click=function(f){var l=f.target;if(!/(SELECT|INPUT|TEXTAREA)/i.test(l.tagName)){var e=b.createEvent(a.MouseEvent?"MouseEvents":"Event");e.initEvent("click",!0,!0);e.view=f.view||a;e.detail=1;e.screenX=l.screenX||0;e.screenY=l.screenY||0;e.clientX=l.clientX||0;e.clientY=l.clientY||0;e.ctrlKey=!!f.ctrlKey;e.altKey=!!f.altKey;e.shiftKey=!!f.shiftKey;e.metaKey=!!f.metaKey;e.button=0;e.relatedTarget=null;e._constructed=!0;l.dispatchEvent(e)}};t.getTouchAction=function(f,l){var e="none";"vertical"===
f?e="pan-y":"horizontal"===f&&(e="pan-x");l&&"none"!=e&&(e+=" pinch-zoom");return e};t.getRect=function(f){return f instanceof SVGElement?(f=f.getBoundingClientRect(),{top:f.top,left:f.left,width:f.width,height:f.height}):{top:f.offsetTop,left:f.offsetLeft,width:f.offsetWidth,height:f.offsetHeight}};return t}();d.prototype={version:"5.2.0-snapshot",_init:function(){this._initEvents();(this.options.scrollbars||this.options.indicators)&&this._initIndicators();this.options.mouseWheel&&this._initWheel();
this.options.snap&&this._initSnap();this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0);clearTimeout(this.resizeTimeout);this.resizeTimeout=null;this._execEvent("destroy")},_transitionEnd:function(r){r.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(r){if(!(1!=v.eventType[r.type]&&0!==(r.which?r.button:2>r.button?0:4==r.button?1:2)||
!this.enabled||this.initiated&&v.eventType[r.type]!==this.initiated)){!this.options.preventDefault||v.isBadAndroid||v.preventDefaultException(r.target,this.options.preventDefaultException)||r.preventDefault();var t=r.touches?r.touches[0]:r;this.initiated=v.eventType[r.type];this.moved=!1;this.directionLocked=this.directionY=this.directionX=this.distY=this.distX=0;this.startTime=v.getTime();this.options.useTransition&&this.isInTransition?(this._transitionTime(),this.isInTransition=!1,r=this.getComputedPosition(),
this._translate(c.round(r.x),c.round(r.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd"));this.startX=this.x;this.startY=this.y;this.absStartX=this.x;this.absStartY=this.y;this.pointX=t.pageX;this.pointY=t.pageY;this._execEvent("beforeScrollStart")}},_move:function(r){if(this.enabled&&v.eventType[r.type]===this.initiated){this.options.preventDefault&&r.preventDefault();var t=r.touches?r.touches[0]:r,m=t.pageX-this.pointX,
u=t.pageY-this.pointY,h=v.getTime();this.pointX=t.pageX;this.pointY=t.pageY;this.distX+=m;this.distY+=u;t=c.abs(this.distX);var f=c.abs(this.distY);if(!(300<h-this.endTime&&10>t&&10>f)){this.directionLocked||this.options.freeScroll||(this.directionLocked=t>f+this.options.directionLockThreshold?"h":f>=t+this.options.directionLockThreshold?"v":"n");if("h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)r.preventDefault();else if("horizontal"==this.options.eventPassthrough){this.initiated=
!1;return}u=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)r.preventDefault();else if("vertical"==this.options.eventPassthrough){this.initiated=!1;return}m=0}m=this.hasHorizontalScroll?m:0;u=this.hasVerticalScroll?u:0;r=this.x+m;t=this.y+u;if(0<r||r<this.maxScrollX)r=this.options.bounce?this.x+m/3:0<r?0:this.maxScrollX;if(0<t||t<this.maxScrollY)t=this.options.bounce?this.y+u/3:0<t?0:this.maxScrollY;this.directionX=0<m?-1:0>m?1:0;this.directionY=0<u?-1:0>u?1:0;
this.moved||this._execEvent("scrollStart");this.moved=!0;this._translate(r,t);300<h-this.startTime&&(this.startTime=h,this.startX=this.x,this.startY=this.y)}}},_end:function(r){if(this.enabled&&v.eventType[r.type]===this.initiated){this.options.preventDefault&&!v.preventDefaultException(r.target,this.options.preventDefaultException)&&r.preventDefault();var t=v.getTime()-this.startTime;var m=c.round(this.x),u=c.round(this.y),h=c.abs(m-this.startX),f=c.abs(u-this.startY);var l=0;var e="";this.initiated=
this.isInTransition=0;this.endTime=v.getTime();if(!this.resetPosition(this.options.bounceTime))if(this.scrollTo(m,u),this.moved)if(this._events.flick&&200>t&&100>h&&100>f)this._execEvent("flick");else if(this.options.momentum&&300>t&&(l=this.hasHorizontalScroll?v.momentum(this.x,this.startX,t,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:m,duration:0},t=this.hasVerticalScroll?v.momentum(this.y,this.startY,t,this.maxScrollY,this.options.bounce?this.wrapperHeight:
0,this.options.deceleration):{destination:u,duration:0},m=l.destination,u=t.destination,l=c.max(l.duration,t.duration),this.isInTransition=1),this.options.snap&&(this.currentPage=e=this._nearestSnap(m,u),l=this.options.snapSpeed||c.max(c.max(c.min(c.abs(m-e.x),1E3),c.min(c.abs(u-e.y),1E3)),300),m=e.x,u=e.y,this.directionY=this.directionX=0,e=this.options.bounceEasing),m!=this.x||u!=this.y){if(0<m||m<this.maxScrollX||0<u||u<this.maxScrollY)e=v.ease.quadratic;this.scrollTo(m,u,l,e)}else this._execEvent("scrollEnd");
else this.options.tap&&v.tap(r,this.options.tap),this.options.click&&v.click(r),this._execEvent("scrollCancel")}},_resize:function(){var r=this;clearTimeout(this.resizeTimeout);this.resizeTimeout=setTimeout(function(){r.refresh()},this.options.resizePolling)},resetPosition:function(r){var t=this.x,m=this.y;!this.hasHorizontalScroll||0<this.x?t=0:this.x<this.maxScrollX&&(t=this.maxScrollX);!this.hasVerticalScroll||0<this.y?m=0:this.y<this.maxScrollY&&(m=this.maxScrollY);if(t==this.x&&m==this.y)return!1;
this.scrollTo(t,m,r||0,this.options.bounceEasing);return!0},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){v.getRect(this.wrapper);this.wrapperWidth=this.wrapper.clientWidth;this.wrapperHeight=this.wrapper.clientHeight;var r=v.getRect(this.scroller);this.scrollerWidth=r.width;this.scrollerHeight=r.height;this.maxScrollX=this.wrapperWidth-this.scrollerWidth;this.maxScrollY=this.wrapperHeight-this.scrollerHeight;this.hasHorizontalScroll=this.options.scrollX&&
0>this.maxScrollX;this.hasVerticalScroll=this.options.scrollY&&0>this.maxScrollY;this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth);this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight);this.directionY=this.directionX=this.endTime=0;v.hasPointer&&!this.options.disablePointer&&(this.wrapper.style[v.style.touchAction]=v.getTouchAction(this.options.eventPassthrough,!0),this.wrapper.style[v.style.touchAction]||(this.wrapper.style[v.style.touchAction]=
v.getTouchAction(this.options.eventPassthrough,!1)));this.wrapperOffset=v.offset(this.wrapper);this._execEvent("refresh");this.resetPosition()},on:function(r,t){this._events[r]||(this._events[r]=[]);this._events[r].push(t)},off:function(r,t){this._events[r]&&(t=this._events[r].indexOf(t),-1<t&&this._events[r].splice(t,1))},_execEvent:function(r){if(this._events[r]){var t=0,m=this._events[r].length;if(m)for(;t<m;t++)this._events[r][t].apply(this,[].slice.call(arguments,1))}},scrollBy:function(r,t,
m,u){r=this.x+r;t=this.y+t;this.scrollTo(r,t,m||0,u)},scrollTo:function(r,t,m,u){u=u||v.ease.circular;this.isInTransition=this.options.useTransition&&0<m;var h=this.options.useTransition&&u.style;!m||h?(h&&(this._transitionTimingFunction(u.style),this._transitionTime(m)),this._translate(r,t)):this._animate(r,t,m,u.fn)},scrollToElement:function(r,t,m,u,h){if(r=r.nodeType?r:this.scroller.querySelector(r)){var f=v.offset(r);f.left-=this.wrapperOffset.left;f.top-=this.wrapperOffset.top;r=v.getRect(r);
var l=v.getRect(this.wrapper);!0===m&&(m=c.round(r.width/2-l.width/2));!0===u&&(u=c.round(r.height/2-l.height/2));f.left-=m||0;f.top-=u||0;f.left=0<f.left?0:f.left<this.maxScrollX?this.maxScrollX:f.left;f.top=0<f.top?0:f.top<this.maxScrollY?this.maxScrollY:f.top;t=void 0===t||null===t||"auto"===t?c.max(c.abs(this.x-f.left),c.abs(this.y-f.top)):t;this.scrollTo(f.left,f.top,t,h)}},_transitionTime:function(r){if(this.options.useTransition){r=r||0;var t=v.style.transitionDuration;if(t){this.scrollerStyle[t]=
r+"ms";if(!r&&v.isBadAndroid){this.scrollerStyle[t]="0.0001ms";var m=this;q(function(){"0.0001ms"===m.scrollerStyle[t]&&(m.scrollerStyle[t]="0s")})}if(this.indicators)for(var u=this.indicators.length;u--;)this.indicators[u].transitionTime(r)}}},_transitionTimingFunction:function(r){this.scrollerStyle[v.style.transitionTimingFunction]=r;if(this.indicators)for(var t=this.indicators.length;t--;)this.indicators[t].transitionTimingFunction(r)},_translate:function(r,t){this.options.useTransform?this.scrollerStyle[v.style.transform]=
"translate("+r+"px,"+t+"px)"+this.translateZ:(r=c.round(r),t=c.round(t),this.scrollerStyle.left=r+"px",this.scrollerStyle.top=t+"px");this.x=r;this.y=t;if(this.indicators)for(r=this.indicators.length;r--;)this.indicators[r].updatePosition()},_initEvents:function(r){r=r?v.removeEvent:v.addEvent;var t=this.options.bindToWrapper?this.wrapper:a;r(a,"orientationchange",this);r(a,"resize",this);this.options.click&&r(this.wrapper,"click",this,!0);this.options.disableMouse||(r(this.wrapper,"mousedown",this),
r(t,"mousemove",this),r(t,"mousecancel",this),r(t,"mouseup",this));v.hasPointer&&!this.options.disablePointer&&(r(this.wrapper,v.prefixPointerEvent("pointerdown"),this),r(t,v.prefixPointerEvent("pointermove"),this),r(t,v.prefixPointerEvent("pointercancel"),this),r(t,v.prefixPointerEvent("pointerup"),this));v.hasTouch&&!this.options.disableTouch&&(r(this.wrapper,"touchstart",this),r(t,"touchmove",this),r(t,"touchcancel",this),r(t,"touchend",this));r(this.scroller,"transitionend",this);r(this.scroller,
"webkitTransitionEnd",this);r(this.scroller,"oTransitionEnd",this);r(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var r=a.getComputedStyle(this.scroller,null);if(this.options.useTransform){r=r[v.style.transform].split(")")[0].split(", ");var t=+(r[12]||r[4]);r=+(r[13]||r[5])}else t=+r.left.replace(/[^-\d.]/g,""),r=+r.top.replace(/[^-\d.]/g,"");return{x:t,y:r}},_initIndicators:function(){function r(l){if(h.indicators)for(var e=h.indicators.length;e--;)l.call(h.indicators[e])}
var t=this.options.interactiveScrollbars,m="string"!=typeof this.options.scrollbars,u=[],h=this;this.indicators=[];if(this.options.scrollbars){if(this.options.scrollY){var f={el:g("v",t,this.options.scrollbars),interactive:t,defaultScrollbars:!0,customStyle:m,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1};this.wrapper.appendChild(f.el);u.push(f)}this.options.scrollX&&(f={el:g("h",t,this.options.scrollbars),interactive:t,defaultScrollbars:!0,
customStyle:m,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(f.el),u.push(f))}this.options.indicators&&(u=u.concat(this.options.indicators));for(t=u.length;t--;)this.indicators.push(new k(this,u[t]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){r(function(){this.fade()})}),this.on("scrollCancel",function(){r(function(){this.fade()})}),this.on("scrollStart",function(){r(function(){this.fade(1)})}),
this.on("beforeScrollStart",function(){r(function(){this.fade(1,!0)})}));this.on("refresh",function(){r(function(){this.refresh()})});this.on("destroy",function(){r(function(){this.destroy()});delete this.indicators})},_initWheel:function(){v.addEvent(this.wrapper,"wheel",this);v.addEvent(this.wrapper,"mousewheel",this);v.addEvent(this.wrapper,"DOMMouseScroll",this);this.on("destroy",function(){clearTimeout(this.wheelTimeout);this.wheelTimeout=null;v.removeEvent(this.wrapper,"wheel",this);v.removeEvent(this.wrapper,
"mousewheel",this);v.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(r){if(this.enabled){r.preventDefault();var t=this;void 0===this.wheelTimeout&&t._execEvent("scrollStart");clearTimeout(this.wheelTimeout);this.wheelTimeout=setTimeout(function(){t.options.snap||t._execEvent("scrollEnd");t.wheelTimeout=void 0},400);if("deltaX"in r)if(1===r.deltaMode){var m=-r.deltaX*this.options.mouseWheelSpeed;r=-r.deltaY*this.options.mouseWheelSpeed}else m=-r.deltaX,r=-r.deltaY;else if("wheelDeltaX"in
r)m=r.wheelDeltaX/120*this.options.mouseWheelSpeed,r=r.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in r)m=r=r.wheelDelta/120*this.options.mouseWheelSpeed;else if("detail"in r)m=r=-r.detail/3*this.options.mouseWheelSpeed;else return;m*=this.options.invertWheelDirection;r*=this.options.invertWheelDirection;this.hasVerticalScroll||(m=r,r=0);if(this.options.snap){var u=this.currentPage.pageX;var h=this.currentPage.pageY;0<m?u--:0>m&&u++;0<r?h--:0>r&&h++;this.goToPage(u,h)}else u=
this.x+c.round(this.hasHorizontalScroll?m:0),h=this.y+c.round(this.hasVerticalScroll?r:0),this.directionX=0<m?-1:0>m?1:0,this.directionY=0<r?-1:0>r?1:0,0<u?u=0:u<this.maxScrollX&&(u=this.maxScrollX),0<h?h=0:h<this.maxScrollY&&(h=this.maxScrollY),this.scrollTo(u,h,0)}},_initSnap:function(){this.currentPage={};"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap));this.on("refresh",function(){var r=0,t,m=0,u,h=0,f;var l=this.options.snapStepX||this.wrapperWidth;
var e=this.options.snapStepY||this.wrapperHeight;this.pages=[];if(this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(!0===this.options.snap){var n=c.round(l/2);for(u=c.round(e/2);h>-this.scrollerWidth;){this.pages[r]=[];for(f=t=0;f>-this.scrollerHeight;)this.pages[r][t]={x:c.max(h,this.maxScrollX),y:c.max(f,this.maxScrollY),width:l,height:e,cx:h-n,cy:f-u},f-=e,t++;h-=l;r++}}else for(e=this.options.snap,t=e.length,l=-1;r<t;r++){var w=v.getRect(e[r]);if(0===r||w.left<=
v.getRect(e[r-1]).left)m=0,l++;this.pages[m]||(this.pages[m]=[]);h=c.max(-w.left,this.maxScrollX);f=c.max(-w.top,this.maxScrollY);n=h-c.round(w.width/2);u=f-c.round(w.height/2);this.pages[m][l]={x:h,y:f,width:w.width,height:w.height,cx:n,cy:u};h>this.maxScrollX&&m++}this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0);0===this.options.snapThreshold%1?this.snapThresholdY=this.snapThresholdX=this.options.snapThreshold:(this.snapThresholdX=c.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*
this.options.snapThreshold),this.snapThresholdY=c.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}});this.on("flick",function(){var r=this.options.snapSpeed||c.max(c.max(c.min(c.abs(this.x-this.startX),1E3),c.min(c.abs(this.y-this.startY),1E3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,r)})},_nearestSnap:function(r,t){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var m=0,u=this.pages.length,
h=0;if(c.abs(r-this.absStartX)<this.snapThresholdX&&c.abs(t-this.absStartY)<this.snapThresholdY)return this.currentPage;0<r?r=0:r<this.maxScrollX&&(r=this.maxScrollX);0<t?t=0:t<this.maxScrollY&&(t=this.maxScrollY);for(;m<u;m++)if(r>=this.pages[m][0].cx){r=this.pages[m][0].x;break}for(u=this.pages[m].length;h<u;h++)if(t>=this.pages[0][h].cy){t=this.pages[0][h].y;break}m==this.currentPage.pageX&&(m+=this.directionX,0>m?m=0:m>=this.pages.length&&(m=this.pages.length-1),r=this.pages[m][0].x);h==this.currentPage.pageY&&
(h+=this.directionY,0>h?h=0:h>=this.pages[0].length&&(h=this.pages[0].length-1),t=this.pages[0][h].y);return{x:r,y:t,pageX:m,pageY:h}},goToPage:function(r,t,m,u){u=u||this.options.bounceEasing;r>=this.pages.length?r=this.pages.length-1:0>r&&(r=0);t>=this.pages[r].length?t=this.pages[r].length-1:0>t&&(t=0);var h=this.pages[r][t].x,f=this.pages[r][t].y;m=void 0===m?this.options.snapSpeed||c.max(c.max(c.min(c.abs(h-this.x),1E3),c.min(c.abs(f-this.y),1E3)),300):m;this.currentPage={x:h,y:f,pageX:r,pageY:t};
this.scrollTo(h,f,m,u)},next:function(r,t){var m=this.currentPage.pageX,u=this.currentPage.pageY;m++;m>=this.pages.length&&this.hasVerticalScroll&&(m=0,u++);this.goToPage(m,u,r,t)},prev:function(r,t){var m=this.currentPage.pageX,u=this.currentPage.pageY;m--;0>m&&this.hasVerticalScroll&&(m=0,u--);this.goToPage(m,u,r,t)},_initKeys:function(r){r={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};var t;if("object"==typeof this.options.keyBindings)for(t in this.options.keyBindings)"string"==
typeof this.options.keyBindings[t]&&(this.options.keyBindings[t]=this.options.keyBindings[t].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(t in r)this.options.keyBindings[t]=this.options.keyBindings[t]||r[t];v.addEvent(a,"keydown",this);this.on("destroy",function(){v.removeEvent(a,"keydown",this)})},_key:function(r){if(this.enabled){var t=this.options.snap,m=t?this.currentPage.pageX:this.x,u=t?this.currentPage.pageY:this.y,h=v.getTime(),f=this.keyTime||0;if(this.options.useTransition&&
this.isInTransition){var l=this.getComputedPosition();this._translate(c.round(l.x),c.round(l.y));this.isInTransition=!1}this.keyAcceleration=200>h-f?c.min(this.keyAcceleration+.25,50):0;switch(r.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?m+=t?1:this.wrapperWidth:u+=t?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?m-=t?1:this.wrapperWidth:u-=t?1:this.wrapperHeight;break;case this.options.keyBindings.end:m=
t?this.pages.length-1:this.maxScrollX;u=t?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:u=m=0;break;case this.options.keyBindings.left:m+=t?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:u+=t?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:m-=t?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:u-=t?1:5+this.keyAcceleration>>0;break;default:return}t?this.goToPage(m,u):(0<m?this.keyAcceleration=m=0:m<this.maxScrollX&&
(m=this.maxScrollX,this.keyAcceleration=0),0<u?this.keyAcceleration=u=0:u<this.maxScrollY&&(u=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(m,u,0),this.keyTime=h)}},_animate:function(r,t,m,u){function h(){var y=v.getTime();if(y>=w)f.isAnimating=!1,f._translate(r,t),f.resetPosition(f.options.bounceTime)||f._execEvent("scrollEnd");else{y=(y-n)/m;var z=u(y);y=(r-l)*z+l;f._translate(y,(t-e)*z+e);f.isAnimating&&q(h)}}var f=this,l=this.x,e=this.y,n=v.getTime(),w=n+m;this.isAnimating=!0;h()},handleEvent:function(r){switch(r.type){case "touchstart":case "pointerdown":case "MSPointerDown":case "mousedown":this._start(r);
break;case "touchmove":case "pointermove":case "MSPointerMove":case "mousemove":this._move(r);break;case "touchend":case "pointerup":case "MSPointerUp":case "mouseup":case "touchcancel":case "pointercancel":case "MSPointerCancel":case "mousecancel":this._end(r);break;case "orientationchange":case "resize":this._resize();break;case "transitionend":case "webkitTransitionEnd":case "oTransitionEnd":case "MSTransitionEnd":this._transitionEnd(r);break;case "wheel":case "DOMMouseScroll":case "mousewheel":this._wheel(r);
break;case "keydown":this._key(r);break;case "click":this.enabled&&!r._constructed&&(r.preventDefault(),r.stopPropagation())}}};k.prototype={handleEvent:function(r){switch(r.type){case "touchstart":case "pointerdown":case "MSPointerDown":case "mousedown":this._start(r);break;case "touchmove":case "pointermove":case "MSPointerMove":case "mousemove":this._move(r);break;case "touchend":case "pointerup":case "MSPointerUp":case "mouseup":case "touchcancel":case "pointercancel":case "MSPointerCancel":case "mousecancel":this._end(r)}},
destroy:function(){this.options.fadeScrollbars&&(clearTimeout(this.fadeTimeout),this.fadeTimeout=null);this.options.interactive&&(v.removeEvent(this.indicator,"touchstart",this),v.removeEvent(this.indicator,v.prefixPointerEvent("pointerdown"),this),v.removeEvent(this.indicator,"mousedown",this),v.removeEvent(a,"touchmove",this),v.removeEvent(a,v.prefixPointerEvent("pointermove"),this),v.removeEvent(a,"mousemove",this),v.removeEvent(a,"touchend",this),v.removeEvent(a,v.prefixPointerEvent("pointerup"),
this),v.removeEvent(a,"mouseup",this));this.options.defaultScrollbars&&this.wrapper.parentNode&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(r){var t=r.touches?r.touches[0]:r;r.preventDefault();r.stopPropagation();this.transitionTime();this.initiated=!0;this.moved=!1;this.lastPointX=t.pageX;this.lastPointY=t.pageY;this.startTime=v.getTime();this.options.disableTouch||v.addEvent(a,"touchmove",this);this.options.disablePointer||v.addEvent(a,v.prefixPointerEvent("pointermove"),
this);this.options.disableMouse||v.addEvent(a,"mousemove",this);this.scroller._execEvent("beforeScrollStart")},_move:function(r){var t=r.touches?r.touches[0]:r;v.getTime();this.moved||this.scroller._execEvent("scrollStart");this.moved=!0;var m=t.pageX-this.lastPointX;this.lastPointX=t.pageX;var u=t.pageY-this.lastPointY;this.lastPointY=t.pageY;this._pos(this.x+m,this.y+u);r.preventDefault();r.stopPropagation()},_end:function(r){if(this.initiated){this.initiated=!1;r.preventDefault();r.stopPropagation();
v.removeEvent(a,"touchmove",this);v.removeEvent(a,v.prefixPointerEvent("pointermove"),this);v.removeEvent(a,"mousemove",this);if(this.scroller.options.snap){r=this.scroller._nearestSnap(this.scroller.x,this.scroller.y);var t=this.options.snapSpeed||c.max(c.max(c.min(c.abs(this.scroller.x-r.x),1E3),c.min(c.abs(this.scroller.y-r.y),1E3)),300);if(this.scroller.x!=r.x||this.scroller.y!=r.y)this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=r,this.scroller.scrollTo(r.x,r.y,
t,this.scroller.options.bounceEasing)}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(r){r=r||0;var t=v.style.transitionDuration;if(t&&(this.indicatorStyle[t]=r+"ms",!r&&v.isBadAndroid)){this.indicatorStyle[t]="0.0001ms";var m=this;q(function(){"0.0001ms"===m.indicatorStyle[t]&&(m.indicatorStyle[t]="0s")})}},transitionTimingFunction:function(r){this.indicatorStyle[v.style.transitionTimingFunction]=r},refresh:function(){this.transitionTime();this.indicatorStyle.display=
this.options.listenX&&!this.options.listenY?this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.scroller.hasVerticalScroll?"block":"none":this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none";this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(v.addClass(this.wrapper,"iScrollBothScrollbars"),v.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?
this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(v.removeClass(this.wrapper,"iScrollBothScrollbars"),v.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));v.getRect(this.wrapper);this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=c.max(c.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||
this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX);this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,
this.options.resize?(this.indicatorHeight=c.max(c.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-
this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY);this.updatePosition()},updatePosition:function(){var r=this.options.listenX&&c.round(this.sizeRatioX*this.scroller.x)||0,t=this.options.listenY&&c.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(r<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=c.max(this.indicatorWidth+r,8),this.indicatorStyle.width=this.width+"px"),r=this.minBoundaryX):
r>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=c.max(this.indicatorWidth-(r-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",r=this.maxPosX+this.indicatorWidth-this.width):r=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),t<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=c.max(this.indicatorHeight+3*t,8),this.indicatorStyle.height=this.height+"px"),t=this.minBoundaryY):
t>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=c.max(this.indicatorHeight-3*(t-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",t=this.maxPosY+this.indicatorHeight-this.height):t=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px"));this.x=r;this.y=t;this.scroller.options.useTransform?this.indicatorStyle[v.style.transform]="translate("+r+"px,"+t+"px)"+this.scroller.translateZ:
(this.indicatorStyle.left=r+"px",this.indicatorStyle.top=t+"px")},_pos:function(r,t){0>r?r=0:r>this.maxPosX&&(r=this.maxPosX);0>t?t=0:t>this.maxPosY&&(t=this.maxPosY);r=this.options.listenX?c.round(r/this.sizeRatioX):this.scroller.x;t=this.options.listenY?c.round(t/this.sizeRatioY):this.scroller.y;this.scroller.scrollTo(r,t)},fade:function(r,t){if(!t||this.visible)clearTimeout(this.fadeTimeout),this.fadeTimeout=null,t=r?0:300,this.wrapperStyle[v.style.transitionDuration]=(r?250:500)+"ms",this.fadeTimeout=
setTimeout(function(m){this.wrapperStyle.opacity=m;this.visible=+m}.bind(this,r?"1":"0"),t)}};d.utils=v;"undefined"!=typeof module&&module.exports?module.exports=d:"function"==typeof define&&define.amd?define(function(){return d}):a.IScroll=d})(window,document,Math);gei.cntStat={};gei.cntStat.isNull=function(a){return""===a||void 0===a||null===a||"null"===a};gei.cntStat._commitData=function(a,b){gei.ajaxWithError({type:"post",url:a,dataType:"json",data:b},function(c){},function(c){console.log(c)})};
gei.cntStat._getParent=function(a){return a.parent()};gei.core.eventBus.on("Event_pageContentLoadEnd",function(){var a=$("[cnt_stat_target_type]"),b=$("[cnt_stat_input_id]");gei.cntStat.bindTargetTypeEvents(a);gei.cntStat.bindInputIdElements(b)});
gei.cntStat.bindTargetTypeEvents=function(a){function b(){var c=$(this).attr("cnt_stat_target_type");var d=$(this).attr("cnt_stat_target_id"),g=$(this).attr("cnt_stat_target_key"),k=$(this).attr("cnt_stat_target_pkey");if(!gei.cntStat.isNull(c)&&!gei.cntStat.isNull(d))c={targetType:c,targetId:d},gei.cntStat._commitData("/gei-common/jsonComp/cntStat/save.json",c);else if(!gei.cntStat.isNull(c)&&!gei.cntStat.isNull(g))c={targetType:c,eleKey:g},gei.cntStat._commitData("/gei-common/jsonComp/cntStat/saveByKey.json",
c);else if(!gei.cntStat.isNull(c)&&!gei.cntStat.isNull(k)){for(d=gei.cntStat._getParent($(this));0!==d.length;)g=$(d).attr("cnt_stat_target_pkey"),gei.cntStat.isNull(g)||(k=g+"-"+k),d=gei.cntStat._getParent(d);c={targetType:c,eleKey:k};gei.cntStat._commitData("/gei-common/jsonComp/cntStat/saveByKey.json",c)}}$.each(a,function(c,d){gei.util.clickFn(d,b)})};
gei.cntStat.bindInputIdElements=function(a){function b(){var c=$(this).attr("cnt_stat_input_id");gei.cntStat.isNull(c)||(c=c.split(","),$.each(c,function(d,g){g=$("input[id="+g+"]");0!==g.length&&(d=$(g[0]).attr("cnt_stat_target_type"),g=$(g[0]).attr("cnt_stat_target_id"),gei.cntStat._commitData("/gei-common/jsonComp/cntStat/save.json",{targetType:d,targetId:g}))}))}$.each(a,function(c,d){gei.util.clickFn(d,b)})};gei.unitLicense={};
gei.unitLicense.showLicenseInfoWin=function(a){gei.util.confirm(function(){var b=$('<div class="container-fluid"></div>');b.load("/gei-common/pageComp/licenseConf/info",{code:a},function(){});return b},function(){},{title:"\u534f\u8bae\u8bf4\u660e",width:700,onshown:function(b){},buttons:[{label:"\u5173\u95ed",action:function(b){b.close()}}]})};
gei.unitLicense.bindClickAndShowLicenseInfoWin=function(a){gei.util.isNullOrUndefined(a)||gei.util.click(a.find("*[unitlicenseWin]"),function(b){b.stopPropagation();b=$(this).attr("unitlicenseWin");gei.unitLicense.showLicenseInfoWin(b)})};gei.core.eventBus.on("Event_pageContentLoadEnd",function(a){gei.util.isNullOrUndefined(a)&&(a=$(document.body));gei.unitLicense.bindClickAndShowLicenseInfoWin(a)});gei.work={};
gei.work.manager={loadWorkSetList:function(){var a={pageNum:$("#work-cat-page").val()};NProgress.start();$("#work-container").load("/gei-space/pageComp/workSet/list",a,function(){NProgress.done();gei.work.manager.bindOptBtnEvent()})},bindOptBtnEvent:function(){$(".unit-content-main").each(function(){var a=$(this),b=a.attr("unit-key").split("-")[1];a=a.find(".unit-content-box .resc-info-href-block");a.removeAttr("href");a.removeAttr("onclick");$(".resc-info-bottom-info-name",$(this)).click(function(){gei.work.manager.clickButton(1,
b)});$(".unit-content-box",$(this)).click(function(){gei.work.manager.clickButton(1,b)})})},changePageNum:function(a){$("#work-cat-page").val(a);gei.work.manager.loadWorkSetList()},changeDetailPageNum:function(a){$("#work-detail-page").val(a);var b=$("#work-res-id").val();AudioPlayerManager.destroy();gei.work.manager.clickButton(a,b)},clickButton:function(a,b){a={pageNum:a,workResId:b};NProgress.start();$("#work-container").load("/gei-space/pageComp/workSet/detail",a,function(){gei.core.eventBus.fire("Event_pageContentLoadEnd");
NProgress.done()})},loadWorkSetInfo:function(){$(".work-content .unit-content-main").each(function(){var a=$(this).attr("unit-key"),b=$('.work-key[unit-key="'+a+'"]'),c=b.attr("data-work-createTime"),d=b.attr("data-work-lastUpdateTime");b=b.attr("data-work-count");a=$('.album-create-time[unit-key="'+a+'"]');a.html(c+"\u521b\u5efa");""!=$.trim(d)&&a.append(" &nbsp; "+d+"\u66f4\u65b0");$(this).find(".detail-count").html(b)})}};
gei.work.audit={changeProcPageNum:function(a){var b=$("#proc-view-type").val();a={pageNum:a?a:1,workStatusListStr:b};NProgress.start();$("#ajax_work_audit_container").load("/gei-space/pageComp/work/audit/list",a,function(){gei.core.eventBus.fire("Event_pageContentLoadEnd");NProgress.done()})},changeManualPageNum:function(a){var b=$("#manuel-audit-type").val();AudioPlayerManager&&AudioPlayerManager.destroy();a={pageNum:a?a:1,workStatus:b};NProgress.start();$("#ajax_work_audit_container").load("/gei-space/pageComp/work/wait/manual/list",
a,function(){"manual_reject"===b&&gei.work.audit.loadRejectReason();gei.core.eventBus.fire("Event_pageContentLoadEnd");NProgress.done()})},loadRejectReason:function(){$(".unit-container-list").each(function(){var a=$(this);a.find(".unit-container-box,.unit-container-row").each(function(){var b=$(this),c=b.attr("itemid");c=a.find("input[data-reason-itemid="+c+"]").attr("data-reason-reject");""!==c&&b.find(".unit-box-from-row2").append('            <li class="unit-info-row work-reject-reason-row">\n            <span class="desc" title="\u4e0d\u901a\u8fc7\u539f\u56e0\uff1a'+
c+'">\n                <i class="icon-exclamation-sign"></i>\n                <span class="desc-text">'+c+"</span>\n            </span>\n            </li>")})})}};gei.space={};
gei.space.work={bindPjaxEvent:function(){$("#pjax_work_container").off("pjax:start").on("pjax:start",function(){NProgress.start();gei.core.eventBus.fire("Event_pageContentLoadStart")}).off("pjax:end").on("pjax:end",function(){gei.core.eventBus.fire("Event_pageContentLoadEnd");gei.space.favorite.updateSeoTitle();NProgress.done()})},gotoSpaceSearchPage:function(a){var b=$("#spaceUserCode").val();window.location.href="/space/"+b+"?q="+a}};
gei.space.favorite={listInit:function(){$(".fav-content .unit-content-main").each(function(){var a=$(this).attr("unit-key"),b=$('.favorite-key[unit-key="'+a+'"]'),c=b.attr("data-fav-createTime"),d=b.attr("data-fav-lastUpdateTime");b=b.attr("data-fav-count");a=$('.album-create-time[unit-key="'+a+'"]');a.append(c+"\u521b\u5efa");""!=$.trim(d)&&a.append(" &nbsp; "+d+"\u66f4\u65b0");$(this).find(".detail-count").append(b)});gei.space.favorite.bindOptBtnEvent();gei.space.favorite.updateSeoTitle()},updateSeoTitle:function(){$("title").html($("#space-seo-title").val());
$('meta[name="description"]').attr("content","");$('meta[name="keywords"]').attr("content","")},bindOptBtnEvent:function(){$(".card-edit-block").hover(function(){$(".filter-list-box",$(this)).show()},function(){$(".filter-list-box",$(this)).hide()});$(".unit-content-main").each(function(){var a=$(this);$(".resc-info-bottom-info-name",$(this)).click(function(){var b=$(".card-edit-block",a).attr("data-fav-code");gei.space.favorite.clickButton(b)});$(".unit-content-box",$(this)).click(function(){var b=
$(".card-edit-block",a).attr("data-fav-code");gei.space.favorite.clickButton(b)})})},clickButton:function(a){window.open("/fav/"+a+".html")},changeFavPageNum:function(a){gei.space.favorite.changeFavPageNumScroll(a,!0)},changeFavPageNumScroll:function(a,b){var c={};""!==a&&1!==a&&(c.page=a);a="/space/"+$("#spaceUserCode").val()+"/fav";b&&(a+="#container");$.pjax({container:"#favContentPjax",timeout:1E7,url:a,data:c,scrollTo:!1});gei.space.work.bindPjaxEvent()},changeFavDetailPageNum:function(a,b,c){_.isUndefined(c)||
($(".search-order-group>a").removeClass("active"),$(c).addClass("active"));c={};""!==a&&1!==a&&(c.page=a);a=$(".search-order-group>a.active");0<a.size()&&(a=a.attr("data-order"))&&(c=$.extend(c,{queryOrderType:a}));null==b?(b=window.location.pathname,b+="#container"):b="/fav/"+b+".html";$.pjax({container:"#pjax_work_container",timeout:1E7,url:b,data:c,scrollTo:!1});gei.space.work.bindPjaxEvent()}};$(function(){gei.core.eventBus.fire("Event_pageContentLoadEnd")});
$(function(){$(document).off("pjax:start").on("pjax:start",function(a,b,c){gei.ui.tabMount.showPageLoadingbar&&NProgress.start();gei.ui.uiUtil.maskAdd(c.container);gei.core.eventBus.fire("Event_pageContentLoadStart")}).off("pjax:end").on("pjax:end",function(){gei.core.eventBus.fire("Event_pageContentLoadEnd");gei.ui.tabMount.updateCntToGrey();NProgress.done()}).off("pjax:beforeSend").on("pjax:beforeSend",function(a,b,c){if(!gei.ui.tabMount._isNullOrUndefined(c.requestHeaderParams))for(var d in c.requestHeaderParams)b.setRequestHeader(d,
c.requestHeaderParams[d])});gei.ui.tabMount.updateCntToGrey()});gei.core.eventBus.on("Event_pageContentLoadEnd",function(){gei.util.click($("a[js-click-tab-func]"),function(){var a=$(this).attr("tab-code");gei.ui.tabMount.clickTabMount(a)});gei.ui.tabMount.initTabRightBlock()});
gei.ui.tabMount={showPageLoadingbar:!0,greyFontClass:"greyFontClass",clickTabMount:function(a){var b=this.findTabBean(a);this.setActiveTabCode(a);gei.core.eventBus.fire("Event_tabMountTabChange",b);this.updateTabContentAndCnt()},updateTabContentAndCnt:function(){this.updateActiveTabContent();this.updateAllTabCnt()},updateActiveTabContent:function(){var a=this.findActiveTabCode(),b=this._findBaseUrl(a);a=this._findUpdateContentParams(a);$.pjax({container:"#tab-mount-content",timeout:1E7,url:b,data:a,
scrollTo:!1})},updateAllTabCnt:function(){var a=this.queryTabList();if(null!=a){var b=this;_.each(a,function(c){if(!b._isNullOrUndefined(c.cntAjaxUrl)){var d;b._isNullOrUndefined(c.jsDyncUpdateCntParamsFunc)||(d=eval(c.jsDyncUpdateCntParamsFunc+"()"));b._ajaxUpdateCnt(c.cntAjaxUrl,d,".tab-mount-cnt-"+c.tabTypeCode+"-"+c.tabCode)}})}},updateCntToGrey:function(){var a=this.queryTabList();if(null!=a){var b=this;_.each(a,function(c){var d=b._findTabEl(c.tabCode);b._isNullOrUndefined(c.cntAjaxUrl)||""!=
c.cntText&&"(0)"!=c.cntText?$(d).removeClass(b.greyFontClass):$(d).addClass(b.greyFontClass)})}},_ajaxUpdateCnt:function(a,b,c){gei.ajax({url:a,data:b,dataType:"html",async:!1,beforeSend:function(d){d.setRequestHeader("pjax-cache","yes")}},function(d){$(c).html(d)})},setActiveTabCodeByType:function(a){a=gei.ui.tabMount.findFirstTabCodeByTabType(a);this.setActiveTabCode(a);return a},setActiveTabCode:function(a){var b=this.queryTabList();if(null!=b){var c=this;_.each(b,function(d){var g=c._findTabEl(d.tabCode);
$(g).removeClass("active");a==d.tabCode&&$(g).addClass("active")})}},clearTabMount:function(){var a=$(".tab-mount-nav-container");a=$(".tab-mount.active",a);this._isNullOrUndefined(a)||a.removeClass("active")},TabBean:function(){this.cntText=this.jsDyncUpdateCntParamsFunc=this.jsDyncUpdateContentParamsFunc=this.jsDyncUrlFunc=this.cntAjaxUrl=this.tabTypeCode=this.tabCode=null},getTabParams:function(a){a=this.findTabBean(a);if(null!=a)return a.tabParams},getTabType:function(a){a=this.findTabBean(a);
if(null!=a)return a.tabTypeCode},queryTabList:function(){var a=this.getTabMountNavContainer();a=$(".tab-mount",a);if(null==a)return null;var b=[],c=this;_.each(a,function(d){d=$(d).attr("tab-code");b.push(c.findTabBean(d))});return b},findActiveTabCode:function(){var a=this.getTabMountNavContainer();a=$(".tab-mount.active",a);return this._isNullOrUndefined(a)?null:$(a).attr("tab-code")},findFirstTabCodeByTabType:function(a){var b=this.findActiveTabCode();b=this.findTabBean(b);if(!this._isNullOrUndefined(b)&&
b.tabTypeCode==a)return b.tabCode;b=this.queryTabList();if(null==b)return null;b=_.find(b,function(c){return c.tabTypeCode==a});return gei.util.isNullOrUndefined(b)?null:b.tabCode},getFirstTabCode:function(){var a=this.queryTabList();if(null==a)return null;a=a[0];return gei.util.isNullOrUndefined(a)?null:a.tabCode},getFirstTabCodeByType:function(a){var b=this.queryTabList();if(null==b)return null;b=_.find(b,function(c){return c.tabTypeCode==a});return gei.util.isNullOrUndefined(b)?null:b.tabCode},
_findBaseUrl:function(a){a=this.findTabBean(a);if(!this._isNullOrUndefined(a.jsDyncUrlFunc)&&(a=eval(a.jsDyncUrlFunc+"()"),!this._isNullOrUndefined(a)))return a;a=$("#tab-mount-base-url").val();return this._isNullOrUndefined(a)?window.location.pathname:a},_findUpdateContentParams:function(a){var b=this.findTabBean(a);a={};this._isNullOrUndefined(b.jsDyncUpdateContentParamsFunc)?a=this.genUpdateBaseTabContentParams():(b=eval(b.jsDyncUpdateContentParamsFunc+"()"),this._isNullOrUndefined(b)||(a=b));
gei.util.isNullOrUndefined(a.tab)||a.tab!=this.getFirstTabCode()||delete a.tab;return a},genUpdateBaseTabContentParams:function(){return{tab:this.findActiveTabCode()}},getTabMountNavContainer:function(){return $(".tab-mount-nav-container")},findTabBean:function(a){var b=new this.TabBean;a=this._findTabEl(a);if(this._isNullOrUndefined(a))return null;b.tabMountPosCode=$(a).attr("mount-pos-code");b.tabCode=$(a).attr("tab-code");b.tabTypeCode=$(a).attr("tab-type-code");b.cntAjaxUrl=$(a).attr("cnt-ajax-url");
b.jsDyncUrlFunc=$(a).attr("js-dync-url");b.jsDyncUpdateContentParamsFunc=$(a).attr("get-js-dync-update-content-params");b.jsDyncUpdateCntParamsFunc=$(a).attr("get-js-dync-update-cnt-params");b.cntText=$(a).find(".tab-mount-cnt").text();b.tabParams=$(a).attr("tab-params");return b},_findTabEl:function(a){a=$("[tab-code="+a+"]",$(".tab-mount-nav-container"));return this._isNullOrUndefined(a)?null:a},_isNullOrUndefined:function(a){return _.isEmpty(a)||_.isNull(a)||_.isUndefined(a)?!0:!1},initTabRightBlock:function(){var a=
$(".tab-mount-nav-right-block"),b=this.findTabBean(this.findActiveTabCode());null!=b&&(a=$.extend({tabMountNavRightBlockEl:a},b),this.hideTabMountNavRightBlock(),gei.core.eventBus.fire("Event_tabMountRightBlock",a))},hideTabMountNavRightBlock:function(){$(".tab-mount-nav-right-block").hide()}};gei.core.eventBus.on("Event_pageContentLoadEnd",function(a){_.isUndefined(a)&&(a=$(document.body));a=$("[mkt-container='true']",a);0<a.size()&&gei.mkt.versionLog(a)});
gei.core.eventBus.on("Event_itemDownClick",function(a,b){var c=b.parents("[mkt-container='true']").attr("mkt-intent-uuid");b.parents("[mkt-unit-key]").each(function(){if(0===$(this).parents("[mkt-unit-key]").size()){var d=$(this).attr("mkt-unit-key");gei.ajax({url:"/gei-common/jsonComp/mkt/down/log",data:{downUuid:a,intentLogUuid:c,mktUnitKey:d}},function(){},function(){})}})});
gei.mkt={versionLog:function(a){var b=a.attr("mkt-intent-uuid"),c=a.attr("mkt-pageNum"),d=a.attr("mkt-pageSize");if(!((c-1)*d+1>mktPosMaxLimit)){var g=[];$("[mkt-unit-key]",a).each(function(){if(0===$(this).parents("[mkt-unit-key]").size()){var k=$(this).attr("mkt-unit-key");g.push(k)}});0<g.length&&gei.ajax({url:"/gei-common/jsonComp/mkt/version/log",data:{intentLogUuid:b,pageNum:c,pageSize:d,mktUnitKeyList:g},type:"POST"},function(){},function(){})}}};var QRCode;
!function(){function a(f){this.mode=q.MODE_8BIT_BYTE;this.data=f;this.parsedData=[];f=[];for(var l=0,e=this.data.length;e>l;l++){var n=this.data.charCodeAt(l);65536<n?(f[0]=240|(1835008&n)>>>18,f[1]=128|(258048&n)>>>12,f[2]=128|(4032&n)>>>6,f[3]=128|63&n):2048<n?(f[0]=224|(61440&n)>>>12,f[1]=128|(4032&n)>>>6,f[2]=128|63&n):128<n?(f[0]=192|(1984&n)>>>6,f[1]=128|63&n):f[0]=n;this.parsedData=this.parsedData.concat(f)}this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),
this.parsedData.unshift(239))}function b(f,l){this.typeNumber=f;this.errorCorrectLevel=l;this.modules=null;this.moduleCount=0;this.dataCache=null;this.dataList=[]}function c(f,l){if(void 0==f.length)throw Error(f.length+"/"+l);for(var e=0;e<f.length&&0==f[e];)e++;this.num=Array(f.length-e+l);for(l=0;l<f.length-e;l++)this.num[l]=f[l+e]}function d(f,l){this.totalCount=f;this.dataCount=l}function g(){this.buffer=[];this.length=0}function k(){var f=!1,l=navigator.userAgent;return/android/i.test(l)&&(f=
!0,aMat=l.toString().match(/android ([0-9]\.[0-9])/i),aMat&&aMat[1]&&(f=parseFloat(aMat[1]))),f}a.prototype={getLength:function(){return this.parsedData.length},write:function(f){for(var l=0,e=this.parsedData.length;e>l;l++)f.put(this.parsedData[l],8)}};b.prototype={addData:function(f){f=new a(f);this.dataList.push(f);this.dataCache=null},isDark:function(f,l){if(0>f||this.moduleCount<=f||0>l||this.moduleCount<=l)throw Error(f+","+l);return this.modules[f][l]},getModuleCount:function(){return this.moduleCount},
make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(f,l){this.moduleCount=4*this.typeNumber+17;this.modules=Array(this.moduleCount);for(var e=0;e<this.moduleCount;e++){this.modules[e]=Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[e][n]=null}this.setupPositionProbePattern(0,0);this.setupPositionProbePattern(this.moduleCount-7,0);this.setupPositionProbePattern(0,this.moduleCount-7);this.setupPositionAdjustPattern();this.setupTimingPattern();this.setupTypeInfo(f,
l);7<=this.typeNumber&&this.setupTypeNumber(f);null==this.dataCache&&(this.dataCache=b.createData(this.typeNumber,this.errorCorrectLevel,this.dataList));this.mapData(this.dataCache,l)},setupPositionProbePattern:function(f,l){for(var e=-1;7>=e;e++)if(!(-1>=f+e||this.moduleCount<=f+e))for(var n=-1;7>=n;n++)-1>=l+n||this.moduleCount<=l+n||(this.modules[f+e][l+n]=0<=e&&6>=e&&(0==n||6==n)||0<=n&&6>=n&&(0==e||6==e)||2<=e&&4>=e&&2<=n&&4>=n?!0:!1)},getBestMaskPattern:function(){for(var f=0,l=0,e=0;8>e;e++){this.makeImpl(!0,
e);var n=r.getLostPoint(this);(0==e||f>n)&&(f=n,l=e)}return l},createMovieClip:function(f,l,e){f=f.createEmptyMovieClip(l,e);this.make();for(l=0;l<this.modules.length;l++){e=1*l;for(var n=0;n<this.modules[l].length;n++){var w=1*n;this.modules[l][n]&&(f.beginFill(0,100),f.moveTo(w,e),f.lineTo(w+1,e),f.lineTo(w+1,e+1),f.lineTo(w,e+1),f.endFill())}}return f},setupTimingPattern:function(){for(var f=8;f<this.moduleCount-8;f++)null==this.modules[f][6]&&(this.modules[f][6]=0==f%2);for(f=8;f<this.moduleCount-
8;f++)null==this.modules[6][f]&&(this.modules[6][f]=0==f%2)},setupPositionAdjustPattern:function(){for(var f=r.getPatternPosition(this.typeNumber),l=0;l<f.length;l++)for(var e=0;e<f.length;e++){var n=f[l],w=f[e];if(null==this.modules[n][w])for(var y=-2;2>=y;y++)for(var z=-2;2>=z;z++)this.modules[n+y][w+z]=-2==y||2==y||-2==z||2==z||0==y&&0==z?!0:!1}},setupTypeNumber:function(f){for(var l=r.getBCHTypeNumber(this.typeNumber),e=0;18>e;e++){var n=!f&&1==(1&l>>e);this.modules[Math.floor(e/3)][e%3+this.moduleCount-
8-3]=n}for(e=0;18>e;e++)n=!f&&1==(1&l>>e),this.modules[e%3+this.moduleCount-8-3][Math.floor(e/3)]=n},setupTypeInfo:function(f,l){l=r.getBCHTypeInfo(this.errorCorrectLevel<<3|l);for(var e=0;15>e;e++){var n=!f&&1==(1&l>>e);6>e?this.modules[e][8]=n:8>e?this.modules[e+1][8]=n:this.modules[this.moduleCount-15+e][8]=n}for(e=0;15>e;e++)n=!f&&1==(1&l>>e),8>e?this.modules[8][this.moduleCount-e-1]=n:9>e?this.modules[8][15-e-1+1]=n:this.modules[8][15-e-1]=n;this.modules[this.moduleCount-8][8]=!f},mapData:function(f,
l){for(var e=-1,n=this.moduleCount-1,w=7,y=0,z=this.moduleCount-1;0<z;z-=2)for(6==z&&z--;;){for(var C=0;2>C;C++)if(null==this.modules[n][z-C]){var I=!1;y<f.length&&(I=1==(1&f[y]>>>w));r.getMask(l,n,z-C)&&(I=!I);this.modules[n][z-C]=I;w--;-1==w&&(y++,w=7)}if(n+=e,0>n||this.moduleCount<=n){n-=e;e=-e;break}}}};b.PAD0=236;b.PAD1=17;b.createData=function(f,l,e){l=d.getRSBlocks(f,l);for(var n=new g,w=0;w<e.length;w++){var y=e[w];n.put(y.mode,4);n.put(y.getLength(),r.getLengthInBits(y.mode,f));y.write(n)}for(w=
f=0;w<l.length;w++)f+=l[w].dataCount;if(n.getLengthInBits()>8*f)throw Error("code length overflow. ("+n.getLengthInBits()+">"+8*f+")");for(n.getLengthInBits()+4<=8*f&&n.put(0,4);0!=n.getLengthInBits()%8;)n.putBit(!1);for(;!(n.getLengthInBits()>=8*f||(n.put(b.PAD0,8),n.getLengthInBits()>=8*f));)n.put(b.PAD1,8);return b.createBytes(n,l)};b.createBytes=function(f,l){for(var e=0,n=0,w=0,y=Array(l.length),z=Array(l.length),C=0;C<l.length;C++){var I=l[C].dataCount,K=l[C].totalCount-I;n=Math.max(n,I);w=
Math.max(w,K);y[C]=Array(I);for(var M=0;M<y[C].length;M++)y[C][M]=255&f.buffer[M+e];e+=I;M=r.getErrorCorrectPolynomial(K);I=(new c(y[C],M.getLength()-1)).mod(M);z[C]=Array(M.getLength()-1);for(M=0;M<z[C].length;M++)K=M+I.getLength()-z[C].length,z[C][M]=0<=K?I.get(K):0}for(M=C=0;M<l.length;M++)C+=l[M].totalCount;f=Array(C);for(M=e=0;n>M;M++)for(C=0;C<l.length;C++)M<y[C].length&&(f[e++]=y[C][M]);for(M=0;w>M;M++)for(C=0;C<l.length;C++)M<z[C].length&&(f[e++]=z[C][M]);return f};for(var q={MODE_NUMBER:1,
MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},v={L:1,M:0,Q:3,H:2},r={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,
86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(f){for(var l=f<<10;0<=r.getBCHDigit(l)-r.getBCHDigit(r.G15);)l^=r.G15<<r.getBCHDigit(l)-r.getBCHDigit(r.G15);return(f<<10|l)^r.G15_MASK},getBCHTypeNumber:function(f){for(var l=f<<12;0<=r.getBCHDigit(l)-r.getBCHDigit(r.G18);)l^=r.G18<<r.getBCHDigit(l)-
r.getBCHDigit(r.G18);return f<<12|l},getBCHDigit:function(f){for(var l=0;0!=f;)l++,f>>>=1;return l},getPatternPosition:function(f){return r.PATTERN_POSITION_TABLE[f-1]},getMask:function(f,l,e){switch(f){case 0:return 0==(l+e)%2;case 1:return 0==l%2;case 2:return 0==e%3;case 3:return 0==(l+e)%3;case 4:return 0==(Math.floor(l/2)+Math.floor(e/3))%2;case 5:return 0==l*e%2+l*e%3;case 6:return 0==(l*e%2+l*e%3)%2;case 7:return 0==(l*e%3+(l+e)%2)%2;default:throw Error("bad maskPattern:"+f);}},getErrorCorrectPolynomial:function(f){for(var l=
new c([1],0),e=0;f>e;e++)l=l.multiply(new c([1,t.gexp(e)],0));return l},getLengthInBits:function(f,l){if(1<=l&&10>l)switch(f){case q.MODE_NUMBER:return 10;case q.MODE_ALPHA_NUM:return 9;case q.MODE_8BIT_BYTE:return 8;case q.MODE_KANJI:return 8;default:throw Error("mode:"+f);}else if(27>l)switch(f){case q.MODE_NUMBER:return 12;case q.MODE_ALPHA_NUM:return 11;case q.MODE_8BIT_BYTE:return 16;case q.MODE_KANJI:return 10;default:throw Error("mode:"+f);}else{if(!(41>l))throw Error("type:"+l);switch(f){case q.MODE_NUMBER:return 14;
case q.MODE_ALPHA_NUM:return 13;case q.MODE_8BIT_BYTE:return 16;case q.MODE_KANJI:return 12;default:throw Error("mode:"+f);}}},getLostPoint:function(f){for(var l=f.getModuleCount(),e=0,n=0;l>n;n++)for(var w=0;l>w;w++){for(var y=0,z=f.isDark(n,w),C=-1;1>=C;C++)if(!(0>n+C||n+C>=l))for(var I=-1;1>=I;I++)0>w+I||w+I>=l||(0!=C||0!=I)&&z==f.isDark(n+C,w+I)&&y++;5<y&&(e+=3+y-5)}for(n=0;l-1>n;n++)for(w=0;l-1>w;w++)y=0,f.isDark(n,w)&&y++,f.isDark(n+1,w)&&y++,f.isDark(n,w+1)&&y++,f.isDark(n+1,w+1)&&y++,0!=y&&
4!=y||(e+=3);for(n=0;l>n;n++)for(w=0;l-6>w;w++)f.isDark(n,w)&&!f.isDark(n,w+1)&&f.isDark(n,w+2)&&f.isDark(n,w+3)&&f.isDark(n,w+4)&&!f.isDark(n,w+5)&&f.isDark(n,w+6)&&(e+=40);for(w=0;l>w;w++)for(n=0;l-6>n;n++)f.isDark(n,w)&&!f.isDark(n+1,w)&&f.isDark(n+2,w)&&f.isDark(n+3,w)&&f.isDark(n+4,w)&&!f.isDark(n+5,w)&&f.isDark(n+6,w)&&(e+=40);for(w=y=0;l>w;w++)for(n=0;l>n;n++)f.isDark(n,w)&&y++;return e+Math.abs(100*y/l/l-50)/5*10}},t={glog:function(f){if(1>f)throw Error("glog("+f+")");return t.LOG_TABLE[f]},
gexp:function(f){for(;0>f;)f+=255;for(;256<=f;)f-=255;return t.EXP_TABLE[f]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},m=0;8>m;m++)t.EXP_TABLE[m]=1<<m;for(m=8;256>m;m++)t.EXP_TABLE[m]=t.EXP_TABLE[m-4]^t.EXP_TABLE[m-5]^t.EXP_TABLE[m-6]^t.EXP_TABLE[m-8];for(m=0;255>m;m++)t.LOG_TABLE[t.EXP_TABLE[m]]=m;c.prototype={get:function(f){return this.num[f]},getLength:function(){return this.num.length},multiply:function(f){for(var l=Array(this.getLength()+f.getLength()-1),e=0;e<this.getLength();e++)for(var n=
0;n<f.getLength();n++)l[e+n]^=t.gexp(t.glog(this.get(e))+t.glog(f.get(n)));return new c(l,0)},mod:function(f){if(0>this.getLength()-f.getLength())return this;for(var l=t.glog(this.get(0))-t.glog(f.get(0)),e=Array(this.getLength()),n=0;n<this.getLength();n++)e[n]=this.get(n);for(n=0;n<f.getLength();n++)e[n]^=t.gexp(t.glog(f.get(n))+l);return(new c(e,0)).mod(f)}};d.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],
[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,
46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,
70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,
46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],
[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,
46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];d.getRSBlocks=function(f,l){var e=d.getRsBlockTable(f,l);if(void 0==e)throw Error("bad rs block @ typeNumber:"+f+"/errorCorrectLevel:"+l);f=e.length/3;l=[];for(var n=0;f>n;n++)for(var w=e[3*n],y=e[3*n+1],z=e[3*n+2],C=0;w>C;C++)l.push(new d(y,z));return l};d.getRsBlockTable=function(f,
l){switch(l){case v.L:return d.RS_BLOCK_TABLE[4*(f-1)];case v.M:return d.RS_BLOCK_TABLE[4*(f-1)+1];case v.Q:return d.RS_BLOCK_TABLE[4*(f-1)+2];case v.H:return d.RS_BLOCK_TABLE[4*(f-1)+3]}};g.prototype={get:function(f){return 1==(1&this.buffer[Math.floor(f/8)]>>>7-f%8)},put:function(f,l){for(var e=0;l>e;e++)this.putBit(1==(1&f>>>l-e-1))},getLengthInBits:function(){return this.length},putBit:function(f){var l=Math.floor(this.length/8);this.buffer.length<=l&&this.buffer.push(0);f&&(this.buffer[l]|=128>>>
this.length%8);this.length++}};var u=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,
625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];m=function(){var f=function(l,e){this._el=l;this._htOption=e};return f.prototype.draw=function(l){function e(I,K){I=document.createElementNS("http://www.w3.org/2000/svg",I);for(var M in K)K.hasOwnProperty(M)&&I.setAttribute(M,
K[M]);return I}var n=this._htOption,w=this._el,y=l.getModuleCount();Math.floor(n.width/y);Math.floor(n.height/y);this.clear();var z=e("svg",{viewBox:"0 0 "+String(y)+" "+String(y),width:"100%",height:"100%",fill:n.colorLight});z.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink");w.appendChild(z);z.appendChild(e("rect",{fill:n.colorDark,width:"1",height:"1",id:"template"}));for(n=0;y>n;n++)for(w=0;y>w;w++)if(l.isDark(n,w)){var C=e("use",{x:String(n),y:String(w)});
C.setAttributeNS("http://www.w3.org/1999/xlink","href","#template");z.appendChild(C)}},f.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},f}();var h="svg"===document.documentElement.tagName.toLowerCase()?m:"undefined"!=typeof CanvasRenderingContext2D?function(){function f(){this._elImage.src=this._elCanvas.toDataURL("image/png");this._elImage.style.display="block";this._elCanvas.style.display="none"}function l(y,z){var C=this;if(C._fFail=z,C._fSuccess=
y,null===C._bSupportDataURI)return y=document.createElement("img"),z=function(){C._bSupportDataURI=!1;C._fFail&&_fFail.call(C)},y.onabort=z,y.onerror=z,y.onload=function(){C._bSupportDataURI=!0;C._fSuccess&&C._fSuccess.call(C)},y.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==",void 0;!0===C._bSupportDataURI&&C._fSuccess?C._fSuccess.call(C):!1===C._bSupportDataURI&&C._fFail&&C._fFail.call(C)}if(this._android&&
2.1>=this._android){var e=1/window.devicePixelRatio,n=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(y,z,C,I,K,M,O,P){if("nodeName"in y&&/img/i.test(y.nodeName))for(var Q=arguments.length-1;1<=Q;Q--)arguments[Q]*=e;else"undefined"==typeof P&&(arguments[1]*=e,arguments[2]*=e,arguments[3]*=e,arguments[4]*=e);n.apply(this,arguments)}}var w=function(y,z){this._bIsPainted=!1;this._android=k();this._htOption=z;this._elCanvas=document.createElement("canvas");
this._elCanvas.width=z.width;this._elCanvas.height=z.height;y.appendChild(this._elCanvas);this._el=y;this._oContext=this._elCanvas.getContext("2d");this._bIsPainted=!1;this._elImage=document.createElement("img");this._elImage.style.display="none";this._el.appendChild(this._elImage);this._bSupportDataURI=null};return w.prototype.draw=function(y){var z=this._elImage,C=this._oContext,I=this._htOption,K=y.getModuleCount(),M=I.width/K,O=I.height/K,P=Math.round(M),Q=Math.round(O);z.style.display="none";
this.clear();for(z=0;K>z;z++)for(var R=0;K>R;R++){var V=y.isDark(z,R),B=R*M,E=z*O;C.strokeStyle=V?I.colorDark:I.colorLight;C.lineWidth=1;C.fillStyle=V?I.colorDark:I.colorLight;C.fillRect(B,E,M,O);C.strokeRect(Math.floor(B)+.5,Math.floor(E)+.5,P,Q);C.strokeRect(Math.ceil(B)-.5,Math.ceil(E)-.5,P,Q)}this._bIsPainted=!0},w.prototype.makeImage=function(){this._bIsPainted&&l.call(this,f)},w.prototype.isPainted=function(){return this._bIsPainted},w.prototype.clear=function(){this._oContext.clearRect(0,0,
this._elCanvas.width,this._elCanvas.height);this._bIsPainted=!1},w.prototype.round=function(y){return y?Math.floor(1E3*y)/1E3:y},w}():function(){var f=function(l,e){this._el=l;this._htOption=e};return f.prototype.draw=function(l){for(var e=this._htOption,n=this._el,w=l.getModuleCount(),y=Math.floor(e.width/w),z=Math.floor(e.height/w),C=['<table style="border:0;border-collapse:collapse;">'],I=0;w>I;I++){C.push("<tr>");for(var K=0;w>K;K++)C.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+
y+"px;height:"+z+"px;background-color:"+(l.isDark(I,K)?e.colorDark:e.colorLight)+';"></td>');C.push("</tr>")}C.push("</table>");n.innerHTML=C.join("");l=n.childNodes[0];n=(e.width-l.offsetWidth)/2;e=(e.height-l.offsetHeight)/2;0<n&&0<e&&(l.style.margin=e+"px "+n+"px")},f.prototype.clear=function(){this._el.innerHTML=""},f}();QRCode=function(f,l){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:v.H},"string"==typeof l&&(l={text:l}),l)for(var e in l)this._htOption[e]=
l[e];"string"==typeof f&&(f=document.getElementById(f));this._android=k();this._el=f;this._oQRCode=null;this._oDrawing=new h(this._el,this._htOption);this._htOption.text&&this.makeCode(this._htOption.text)};QRCode.prototype.makeCode=function(f){var l=this._htOption.correctLevel,e=1;var n=encodeURI(f).toString().replace(/%[0-9a-fA-F]{2}/g,"a");n=n.length+(n.length!=f?3:0);for(var w=0,y=u.length;y>=w;w++){var z=0;switch(l){case v.L:z=u[w][0];break;case v.M:z=u[w][1];break;case v.Q:z=u[w][2];break;case v.H:z=
u[w][3]}if(z>=n)break;e++}if(e>u.length)throw Error("Too long data");this._oQRCode=new b(e,this._htOption.correctLevel);this._oQRCode.addData(f);this._oQRCode.make();this._el.title=f;this._oDrawing.draw(this._oQRCode);this.makeImage()};QRCode.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||3<=this._android)&&this._oDrawing.makeImage()};QRCode.prototype.clear=function(){this._oDrawing.clear()};QRCode.CorrectLevel=v}();
gei.core.eventBus.on("Event_pageContentLoadEnd",function(a){gei.share.shareContainerLoad(a)});gei.core.eventBus.on("Event_itemDetailLoadSuccess",function(a){gei.share.shareContainerLoad(a.container)});jsInterface_bindShareBtn=function(a,b){gei.share._shareTplBuild(a,b);gei.share._shareMouseEvent(a);gei.share._shareWeChatQRBuild(b.shareUrl,a);gei.share._shareCopyUrl()};
gei.share={shareContainerLoad:function(a){_.isUndefined(a)&&(a=$(document.body));$('[js-comp="share"]',a).each(function(b,c){gei.share._shareInit($(c))})},_shareInit:function(a){if(0!=a.size()){var b=a.parents(".share-container");0==b.size()?dlog("\u5206\u4eab\u7ec4\u4ef6\u62a5\u9519,\u672a\u521b\u5efashare-container\u6807\u7b7e"):isAppVisit&&gei.util.appVersionStd(appVersion)<=gei.util.appVersionStd("1.0.0")?b.hide():jsInterface_bindShareBtn(b,{shareReplaceContent:a.attr("js-share-replaceContent"),
shareUrl:a.attr("js-share-url")?a.attr("js-share-url"):window.location.href,shareTitle:a.attr("js-share-title"),shareImg:a.attr("js-share-img"),shareSummary:a.attr("js-share-summary"),shareAlign:a.attr("js-share-align"),shareImgSelector:a.attr("js-share-img-selector")})}},_shareTplBuild:function(a,b){$(".share-cover-container",a).remove();var c=$('<div class="share-cover-container"></div>');a.append(c);var d=b.shareUrl,g=b.shareTitle?b.shareTitle:"",k=b.shareImg?b.shareImg:"",q=b.shareSummary?b.shareSummary:
"";a=this._shareImgSelectorSrc(b.shareImgSelector,a);k=_.isEmpty(a)?k:a;a=k.replaceAll("%7C","%257C");a=gei.share._parseUrlParam({url:d,title:g,pic:a});var v=gei.share._parseUrlParam({url:d,title:g,pics:k});g=gei.share._parseUrlParam({url:d,title:g,pics:k,summary:q});k={};k.shareReplaceContent=b.shareReplaceContent;k.shareAlignPx="right"===b.shareAlign?"-224px":"0px";k.shareUrl=d;k.wbShareUrl=a;k.qqShareUrl=v;k.qzoneShareUrl=g;c.setTemplate(gei.share._shareTplContent);c.processTemplate(k)},_shareMouseEvent:function(a){a.unbind("mouseenter").unbind("mouseleave").hover(function(){$(".share-cover-content",
a).show()},function(){$(".share-cover-content",a).hide()})},_shareWeChatQRBuild:function(a,b){if(0<$("#wechat-qr-code",b).size()){b=new QRCode($("#wechat-qr-code",b)[0],{width:90,height:90,correctLevel:3});try{b.makeCode(a)}catch(c){if("SecurityError"==c.name)reportWarn("\u5206\u4eab\u7ec4\u4ef6\u751f\u6210\u4e8c\u7ef4\u7801\u56fe\u7247\u65f6\u51fa\u73b0\u5b89\u5168\u9519\u8bef\uff0c"+c.name+"\uff1a"+c.message);else throw c;}}},_shareCopyUrl:function(){jsInterface_initCopy2Clipboard()},_parseUrlParam:function(a){var b=
"";$.each(a,function(c){b+="&"+c+"="+encodeURIComponent(this)});return b?b.substr(1):""},_shareImgSelectorSrc:function(a,b){if(_.isUndefined(a))return"";a=$(a,b);if(0==a.size()||!a.is("img"))return"";a=a.attr("src");return _.isUndefined(a)?"":a},_shareTplContent:'<div class="share-cover-content" style=\'left:{$T.shareAlignPx}\'>\n    {#if $T.shareReplaceContent != null}\n    <span class="title-tip">{$T.shareReplaceContent}</span>\n    {#/if}\n    {#if $T.shareReplaceContent == null}\n    <div class="share-weixin-content">\n         <a class="share-weixin" title="\u5206\u4eab\u5230\u5fae\u4fe1" z-st="share_wechat">\n             <span class="button-icon">\u5fae\u4fe1\u626b\u7801</span>\n         </a>\n         <div class="weixin-code-box">\n             <i class="active-wexin-code z-share-wechat-code" id="wechat-qr-code"></i>\n         </div>\n    </div>\n    <div class="share-common-content">\n        <a class="share-sina z-share-sian-button" target="_blank" id="weiboShare"\n           z-st="share_tsina" href=\'http://service.weibo.com/share/share.php?{$T.wbShareUrl}\'>\n            <span class="button-icon">\u65b0\u6d6a\u5fae\u535a</span></a>\n        <a class="share-qq z-share-qq-button" target="_blank" id="qqShare"\n           z-st="share_cqq" href=\'https://connect.qq.com/widget/shareqq/index.html?{$T.qqShareUrl}\'>           <span class="button-icon">QQ\u597d\u53cb</span></a>\n        <a class="share-qzone z-share-qzone-button" target="_blank" id="qzoneShare"\n           z-st="share_qzone" href=\'https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?{$T.qzoneShareUrl}\'>           <span class="button-icon">QQ\u7a7a\u95f4</span></a>\n    </div>\n    <div class="copy-url" style="color:  #bbbbbb">\n        <div style="margin-top: 20px">\n           <span style="height: 20px">\u6c38\u4e45\u8bbf\u95ee\u5730\u5740:</span>\n           <button data-clipboard-text="{$T.shareUrl}" class="btn btn-xs btn-default copy-button"\n                    style="float: right;height: 20px;color: inherit">\u7acb\u5373\u590d\u5236</button>\n        </div>\n        <div class="url-content">{$T.shareUrl}</div>\n    </div>\n        {#/if}\n    </div>'};
gei.ui.seoInput={updateSeoTitle:function(){$("title").html($("#seo_title").val());var a=$("#seo_description").val();_.isUndefined(a)||$('meta[name="description"]').attr("content",a);a=$("#seo_keywords").val();_.isUndefined(a)||$('meta[name="keywords"]').attr("content",a)}};gei.core.eventBus.on("Event_pageContentLoadEnd",function(){gei.ui.seoInput.updateSeoTitle()});
function callBackVCodeRelieveForward(a,b){"success"===b?window.location.href=$("#banip-human-valid-visit-url").val():(alert("\u9a8c\u8bc1\u7801\u6821\u9a8c\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\uff01"),window.location.href="/gei-common/pageComp/banIp/route")}function callBackRunJsRelieveForward(a,b){a=$("#banip-human-valid-visit-url").val();window.location.href="success"===b?a:gei.util.urlAddParm("/gei-common/pageComp/banIp/route","lastVisitedUrl",encodeURIComponent(a))}
$(function(){$("#banip-human-valid-download").click(function(){fileGet($("#banip-human-valid-download-attrs"),"play");var a=$("#banip-human-valid-download").css("color");gei.ui.uiUtil.disableDom($("#banip-human-valid-download"));$("#banip-human-valid-download").css("color","gray");setTimeout(function(){gei.ui.uiUtil.noDisableDom($("#banip-human-valid-download"));$("#banip-human-valid-download").css("color",a)},3E3)})});
$(function(){"true"==$("#banip-human-valid-is-runjs").val()&&fileGet($("#banip-human-valid-download-attrs"),"play")});